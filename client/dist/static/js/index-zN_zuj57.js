var wA=Object.defineProperty,xA=Object.defineProperties;var EA=Object.getOwnPropertyDescriptors;var O1=Object.getOwnPropertySymbols;var SA=Object.prototype.hasOwnProperty,jA=Object.prototype.propertyIsEnumerable;var w1=(i,u,a)=>u in i?wA(i,u,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[u]=a,x1=(i,u)=>{for(var a in u||(u={}))SA.call(u,a)&&w1(i,a,u[a]);if(O1)for(var a of O1(u))jA.call(u,a)&&w1(i,a,u[a]);return i},E1=(i,u)=>xA(i,EA(u));import{bF as Fa,bG as Ri,bH as en,bI as S1,bJ as li,bK as Ap,bL as $a,bM as Wc,bN as FO,bO as ai,bP as fi,bQ as Mn,bR as PA,bS as Ii,bT as tm,bU as AA,bV as Mp,bW as ui,bX as Tp,bY as $O,bZ as Ru,b_ as kp,b$ as wo,c0 as WO,c1 as Wa,c2 as GO,c3 as Cu,c4 as Iu,c5 as py,c6 as cn,c7 as Dp,c8 as _l,c9 as Tn,ca as Ba,cb as Oo,cc as Gc,cd as Np,ce as pi,cf as lr,cg as Kt,ch as Uc,ci as MA,cj as Ol,ck as UO,cl as ua,cm as HO,cn as XO,co as Ib,cp as Er,cq as TA,cr as kA,cs as Rp,ct as YO,cu as Hc,cv as VO,cw as Ga,cx as KO,cy as nm,cz as DA,cA as wl,cB as NA,cC as Du,cD as Cp,cE as qO,cF as dy,cG as hy,cH as bl,cI as rm,cJ as om,cK as ZO,cL as JO,cM as RA,cN as QO,cO as ew,cP as CA,cQ as tw,cR as IA,cS as LA,cT as BA,cU as zA,cV as Zh,cW as FA,cX as nw,cY as $A,cZ as WA,c_ as rw,c$ as ow,d0 as im,d1 as iw,d2 as GA,d3 as UA,d4 as HA,d5 as XA,d6 as $c,d7 as YA,d8 as VA,d9 as KA,da as qA,db as ZA,dc as JA,dd as QA,de as e2,df as t2,dg as n2,dh as r2,di as o2,dj as i2,dk as a2,dl as u2,dm as c2,dn as s2,dp as l2,dq as f2,dr as p2,ds as d2,dt as h2,du as y2,dv as v2,dw as g2,aq as b2,d as yy,x as La,A as aw,h as co,r as Op,o as aa,c as Fc,e as za,F as uw,B as cw,Y as j1,a as ll,w as fl,C as P1,R as sw,_ as am,v as lw,D as m2,k as Lb,aA as um,j as A1,p as _2,b as O2}from"./index-2S-pRSzX.js";import{u as w2}from"./hooks-QG7FGeQA.js";import{V as x2}from"./styles-m3NbVIst.js";import{d as E2}from"./set-up-oJWP6LzE.js";import"./vue.runtime.esm-bundler-39NW92W8.js";var S2=NaN;function M1(i){return typeof i=="number"?i:Fa(i)?S2:+i}function vy(i,u){return function(a,f){var o;if(a===void 0&&f===void 0)return u;if(a!==void 0&&(o=a),f!==void 0){if(o===void 0)return f;typeof a=="string"||typeof f=="string"?(a=Ri(a),f=Ri(f)):(a=M1(a),f=M1(f)),o=i(a,f)}return o}}var j2=vy(function(i,u){return i+u},0);const P2=j2;var A2="Expected a function";function M2(i,u){if(typeof u!="function")throw new TypeError(A2);return i=en(i),function(){if(--i<1)return u.apply(this,arguments)}}var T2=S1&&new S1;const Jh=T2;var k2=Jh?function(i,u){return Jh.set(i,u),i}:li;const fw=k2;function Pp(i){return function(){var u=arguments;switch(u.length){case 0:return new i;case 1:return new i(u[0]);case 2:return new i(u[0],u[1]);case 3:return new i(u[0],u[1],u[2]);case 4:return new i(u[0],u[1],u[2],u[3]);case 5:return new i(u[0],u[1],u[2],u[3],u[4]);case 6:return new i(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new i(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var a=Ap(i.prototype),f=i.apply(a,u);return $a(f)?f:a}}var D2=1;function N2(i,u,a){var f=u&D2,o=Pp(i);function d(){var h=this&&this!==Wc&&this instanceof d?o:i;return h.apply(f?a:this,arguments)}return d}var R2=Math.max;function pw(i,u,a,f){for(var o=-1,d=i.length,h=a.length,m=-1,g=u.length,E=R2(d-h,0),P=Array(g+E),j=!f;++m<g;)P[m]=u[m];for(;++o<h;)(j||o<d)&&(P[a[o]]=i[o]);for(;E--;)P[m++]=i[o++];return P}var C2=Math.max;function dw(i,u,a,f){for(var o=-1,d=i.length,h=-1,m=a.length,g=-1,E=u.length,P=C2(d-m,0),j=Array(P+E),k=!f;++o<P;)j[o]=i[o];for(var T=o;++g<E;)j[T+g]=u[g];for(;++h<m;)(k||o<d)&&(j[T+a[h]]=i[o++]);return j}function I2(i,u){for(var a=i.length,f=0;a--;)i[a]===u&&++f;return f}function gy(){}var L2=4294967295;function fn(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L2,this.__views__=[]}fn.prototype=Ap(gy.prototype);fn.prototype.constructor=fn;var B2=Jh?function(i){return Jh.get(i)}:FO;const cm=B2;var z2={};const yl=z2;var F2=Object.prototype,$2=F2.hasOwnProperty;function Yh(i){for(var u=i.name+"",a=yl[u],f=$2.call(yl,u)?a.length:0;f--;){var o=a[f],d=o.func;if(d==null||d==i)return o.name}return u}function ci(i,u){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=void 0}ci.prototype=Ap(gy.prototype);ci.prototype.constructor=ci;function hw(i){if(i instanceof fn)return i.clone();var u=new ci(i.__wrapped__,i.__chain__);return u.__actions__=ai(i.__actions__),u.__index__=i.__index__,u.__values__=i.__values__,u}var W2=Object.prototype,G2=W2.hasOwnProperty;function $(i){if(fi(i)&&!Mn(i)&&!(i instanceof fn)){if(i instanceof ci)return i;if(G2.call(i,"__wrapped__"))return hw(i)}return new ci(i)}$.prototype=gy.prototype;$.prototype.constructor=$;function Bb(i){var u=Yh(i),a=$[u];if(typeof a!="function"||!(u in fn.prototype))return!1;if(i===a)return!0;var f=cm(a);return!!f&&i===f[0]}var U2=PA(fw);const yw=U2;var H2=/\{\n\/\* \[wrapped with (.+)\] \*/,X2=/,? & /;function Y2(i){var u=i.match(H2);return u?u[1].split(X2):[]}var V2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function K2(i,u){var a=u.length;if(!a)return i;var f=a-1;return u[f]=(a>1?"& ":"")+u[f],u=u.join(a>2?", ":" "),i.replace(V2,`{
/* [wrapped with `+u+`] */
`)}var q2=1,Z2=2,J2=8,Q2=16,eM=32,tM=64,nM=128,rM=256,oM=512,iM=[["ary",nM],["bind",q2],["bindKey",Z2],["curry",J2],["curryRight",Q2],["flip",oM],["partial",eM],["partialRight",tM],["rearg",rM]];function aM(i,u){return Ii(iM,function(a){var f="_."+a[0];u&a[1]&&!tm(i,f)&&i.push(f)}),i.sort()}function vw(i,u,a){var f=u+"";return AA(i,K2(f,aM(Y2(f),a)))}var uM=1,cM=2,sM=4,lM=8,T1=32,k1=64;function gw(i,u,a,f,o,d,h,m,g,E){var P=u&lM,j=P?h:void 0,k=P?void 0:h,T=P?d:void 0,C=P?void 0:d;u|=P?T1:k1,u&=~(P?k1:T1),u&sM||(u&=~(uM|cM));var N=[i,u,o,T,j,C,k,m,g,E],I=a.apply(void 0,N);return Bb(i)&&yw(I,N),I.placeholder=f,vw(I,i,u)}function xl(i){var u=i;return u.placeholder}var fM=Math.min;function pM(i,u){for(var a=i.length,f=fM(u.length,a),o=ai(i);f--;){var d=u[f];i[f]=Mp(d,a)?o[d]:void 0}return i}var D1="__lodash_placeholder__";function Nu(i,u){for(var a=-1,f=i.length,o=0,d=[];++a<f;){var h=i[a];(h===u||h===D1)&&(i[a]=D1,d[o++]=a)}return d}var dM=1,hM=2,yM=8,vM=16,gM=128,bM=512;function by(i,u,a,f,o,d,h,m,g,E){var P=u&gM,j=u&dM,k=u&hM,T=u&(yM|vM),C=u&bM,N=k?void 0:Pp(i);function I(){for(var W=arguments.length,U=Array(W),ne=W;ne--;)U[ne]=arguments[ne];if(T)var ue=xl(I),ae=I2(U,ue);if(f&&(U=pw(U,f,o,T)),d&&(U=dw(U,d,h,T)),W-=ae,T&&W<E){var ee=Nu(U,ue);return gw(i,u,by,I.placeholder,a,U,ee,m,g,E-W)}var te=j?a:this,V=k?te[i]:i;return W=U.length,m?U=pM(U,m):C&&W>1&&U.reverse(),P&&g<W&&(U.length=g),this&&this!==Wc&&this instanceof I&&(V=N||Pp(V)),V.apply(te,U)}return I}function mM(i,u,a){var f=Pp(i);function o(){for(var d=arguments.length,h=Array(d),m=d,g=xl(o);m--;)h[m]=arguments[m];var E=d<3&&h[0]!==g&&h[d-1]!==g?[]:Nu(h,g);if(d-=E.length,d<a)return gw(i,u,by,o.placeholder,void 0,h,E,void 0,void 0,a-d);var P=this&&this!==Wc&&this instanceof o?f:i;return ui(P,this,h)}return o}var _M=1;function OM(i,u,a,f){var o=u&_M,d=Pp(i);function h(){for(var m=-1,g=arguments.length,E=-1,P=f.length,j=Array(P+g),k=this&&this!==Wc&&this instanceof h?d:i;++E<P;)j[E]=f[E];for(;g--;)j[E++]=arguments[++m];return ui(k,o?a:this,j)}return h}var N1="__lodash_placeholder__",Mb=1,wM=2,xM=4,R1=8,gp=128,C1=256,EM=Math.min;function SM(i,u){var a=i[1],f=u[1],o=a|f,d=o<(Mb|wM|gp),h=f==gp&&a==R1||f==gp&&a==C1&&i[7].length<=u[8]||f==(gp|C1)&&u[7].length<=u[8]&&a==R1;if(!(d||h))return i;f&Mb&&(i[2]=u[2],o|=a&Mb?0:xM);var m=u[3];if(m){var g=i[3];i[3]=g?pw(g,m,u[4]):m,i[4]=g?Nu(i[3],N1):u[4]}return m=u[5],m&&(g=i[5],i[5]=g?dw(g,m,u[6]):m,i[6]=g?Nu(i[5],N1):u[6]),m=u[7],m&&(i[7]=m),f&gp&&(i[8]=i[8]==null?u[8]:EM(i[8],u[8])),i[9]==null&&(i[9]=u[9]),i[0]=u[0],i[1]=o,i}var jM="Expected a function",I1=1,PM=2,Tb=8,kb=16,Db=32,L1=64,B1=Math.max;function Ua(i,u,a,f,o,d,h,m){var g=u&PM;if(!g&&typeof i!="function")throw new TypeError(jM);var E=f?f.length:0;if(E||(u&=~(Db|L1),f=o=void 0),h=h===void 0?h:B1(en(h),0),m=m===void 0?m:en(m),E-=o?o.length:0,u&L1){var P=f,j=o;f=o=void 0}var k=g?void 0:cm(i),T=[i,u,a,f,o,P,j,d,h,m];if(k&&SM(T,k),i=T[0],u=T[1],a=T[2],f=T[3],o=T[4],m=T[9]=T[9]===void 0?g?0:i.length:B1(T[9]-E,0),!m&&u&(Tb|kb)&&(u&=~(Tb|kb)),!u||u==I1)var C=N2(i,u,a);else u==Tb||u==kb?C=mM(i,u,m):(u==Db||u==(I1|Db))&&!o.length?C=OM(i,u,a,f):C=by.apply(void 0,T);var N=k?fw:yw;return vw(N(C,T),i,u)}var AM=128;function bw(i,u,a){return u=a?void 0:u,u=i&&u==null?i.length:u,Ua(i,AM,void 0,void 0,void 0,void 0,u)}var MM=Object.prototype,TM=MM.hasOwnProperty,kM=Tp(function(i,u){if($O(u)||Ru(u)){kp(u,wo(u),i);return}for(var a in u)TM.call(u,a)&&WO(i,a,u[a])});const DM=kM;var NM=Tp(function(i,u){kp(u,Wa(u),i)});const z1=NM;var RM=Tp(function(i,u,a,f){kp(u,Wa(u),i,f)});const Qh=RM;var CM=Tp(function(i,u,a,f){kp(u,wo(u),i,f)});const IM=CM;function sm(i,u){for(var a=-1,f=u.length,o=Array(f),d=i==null;++a<f;)o[a]=d?void 0:GO(i,u[a]);return o}var LM=Cu(sm);const BM=LM;var zM="[object DOMException]",FM="[object Error]";function lm(i){if(!fi(i))return!1;var u=Iu(i);return u==FM||u==zM||typeof i.message=="string"&&typeof i.name=="string"&&!py(i)}var $M=cn(function(i,u){try{return ui(i,void 0,u)}catch(a){return lm(a)?a:new Error(a)}});const mw=$M;var WM="Expected a function";function _w(i,u){var a;if(typeof u!="function")throw new TypeError(WM);return i=en(i),function(){return--i>0&&(a=u.apply(this,arguments)),i<=1&&(u=void 0),a}}var GM=1,UM=32,fm=cn(function(i,u,a){var f=GM;if(a.length){var o=Nu(a,xl(fm));f|=UM}return Ua(i,f,u,a,o)});fm.placeholder={};const Ow=fm;var HM=Cu(function(i,u){return Ii(u,function(a){a=Dp(a),_l(i,a,Ow(i[a],i))}),i});const XM=HM;var YM=1,VM=2,KM=32,pm=cn(function(i,u,a){var f=YM|VM;if(a.length){var o=Nu(a,xl(pm));f|=KM}return Ua(u,f,i,a,o)});pm.placeholder={};const qM=pm;function si(i,u,a){var f=-1,o=i.length;u<0&&(u=-u>o?0:o+u),a=a>o?o:a,a<0&&(a+=o),o=u>a?0:a-u>>>0,u>>>=0;for(var d=Array(o);++f<o;)d[f]=i[f+u];return d}function Lu(i,u,a){var f=i.length;return a=a===void 0?f:a,!u&&a>=f?i:si(i,u,a)}var ZM="\\ud800-\\udfff",JM="\\u0300-\\u036f",QM="\\ufe20-\\ufe2f",eT="\\u20d0-\\u20ff",tT=JM+QM+eT,nT="\\ufe0e\\ufe0f",rT="\\u200d",oT=RegExp("["+rT+ZM+tT+nT+"]");function El(i){return oT.test(i)}function iT(i){return i.split("")}var ww="\\ud800-\\udfff",aT="\\u0300-\\u036f",uT="\\ufe20-\\ufe2f",cT="\\u20d0-\\u20ff",sT=aT+uT+cT,lT="\\ufe0e\\ufe0f",fT="["+ww+"]",zb="["+sT+"]",Fb="\\ud83c[\\udffb-\\udfff]",pT="(?:"+zb+"|"+Fb+")",xw="[^"+ww+"]",Ew="(?:\\ud83c[\\udde6-\\uddff]){2}",Sw="[\\ud800-\\udbff][\\udc00-\\udfff]",dT="\\u200d",jw=pT+"?",Pw="["+lT+"]?",hT="(?:"+dT+"(?:"+[xw,Ew,Sw].join("|")+")"+Pw+jw+")*",yT=Pw+jw+hT,vT="(?:"+[xw+zb+"?",zb,Ew,Sw,fT].join("|")+")",gT=RegExp(Fb+"(?="+Fb+")|"+vT+yT,"g");function bT(i){return i.match(gT)||[]}function Ci(i){return El(i)?bT(i):iT(i)}function Aw(i){return function(u){u=Tn(u);var a=El(u)?Ci(u):void 0,f=a?a[0]:u.charAt(0),o=a?Lu(a,1).join(""):u.slice(1);return f[i]()+o}}var mT=Aw("toUpperCase");const dm=mT;function Mw(i){return dm(Tn(i).toLowerCase())}function hm(i,u,a,f){var o=-1,d=i==null?0:i.length;for(f&&d&&(a=i[++o]);++o<d;)a=u(a,i[o],o,i);return a}function ym(i){return function(u){return i==null?void 0:i[u]}}var _T={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},OT=ym(_T);const wT=OT;var xT=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ET="\\u0300-\\u036f",ST="\\ufe20-\\ufe2f",jT="\\u20d0-\\u20ff",PT=ET+ST+jT,AT="["+PT+"]",MT=RegExp(AT,"g");function Tw(i){return i=Tn(i),i&&i.replace(xT,wT).replace(MT,"")}var TT=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function kT(i){return i.match(TT)||[]}var DT=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function NT(i){return DT.test(i)}var kw="\\ud800-\\udfff",RT="\\u0300-\\u036f",CT="\\ufe20-\\ufe2f",IT="\\u20d0-\\u20ff",LT=RT+CT+IT,Dw="\\u2700-\\u27bf",Nw="a-z\\xdf-\\xf6\\xf8-\\xff",BT="\\xac\\xb1\\xd7\\xf7",zT="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",FT="\\u2000-\\u206f",$T=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rw="A-Z\\xc0-\\xd6\\xd8-\\xde",WT="\\ufe0e\\ufe0f",Cw=BT+zT+FT+$T,Iw="['’]",F1="["+Cw+"]",GT="["+LT+"]",Lw="\\d+",UT="["+Dw+"]",Bw="["+Nw+"]",zw="[^"+kw+Cw+Lw+Dw+Nw+Rw+"]",HT="\\ud83c[\\udffb-\\udfff]",XT="(?:"+GT+"|"+HT+")",YT="[^"+kw+"]",Fw="(?:\\ud83c[\\udde6-\\uddff]){2}",$w="[\\ud800-\\udbff][\\udc00-\\udfff]",pl="["+Rw+"]",VT="\\u200d",$1="(?:"+Bw+"|"+zw+")",KT="(?:"+pl+"|"+zw+")",W1="(?:"+Iw+"(?:d|ll|m|re|s|t|ve))?",G1="(?:"+Iw+"(?:D|LL|M|RE|S|T|VE))?",Ww=XT+"?",Gw="["+WT+"]?",qT="(?:"+VT+"(?:"+[YT,Fw,$w].join("|")+")"+Gw+Ww+")*",ZT="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",JT="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",QT=Gw+Ww+qT,ek="(?:"+[UT,Fw,$w].join("|")+")"+QT,tk=RegExp([pl+"?"+Bw+"+"+W1+"(?="+[F1,pl,"$"].join("|")+")",KT+"+"+G1+"(?="+[F1,pl+$1,"$"].join("|")+")",pl+"?"+$1+"+"+W1,pl+"+"+G1,JT,ZT,Lw,ek].join("|"),"g");function nk(i){return i.match(tk)||[]}function Uw(i,u,a){return i=Tn(i),u=a?void 0:u,u===void 0?NT(i)?nk(i):kT(i):i.match(u)||[]}var rk="['’]",ok=RegExp(rk,"g");function Sl(i){return function(u){return hm(Uw(Tw(u).replace(ok,"")),i,"")}}var ik=Sl(function(i,u,a){return u=u.toLowerCase(),i+(a?Mw(u):u)});const ak=ik;var uk=Wc.isFinite,ck=Math.min;function vm(i){var u=Math[i];return function(a,f){if(a=Ba(a),f=f==null?0:ck(en(f),292),f&&uk(a)){var o=(Tn(a)+"e").split("e"),d=u(o[0]+"e"+(+o[1]+f));return o=(Tn(d)+"e").split("e"),+(o[0]+"e"+(+o[1]-f))}return u(a)}}var sk=vm("ceil");const lk=sk;function Hw(i){var u=$(i);return u.__chain__=!0,u}var fk=Math.ceil,pk=Math.max;function dk(i,u,a){(a?Oo(i,u,a):u===void 0)?u=1:u=pk(en(u),0);var f=i==null?0:i.length;if(!f||u<1)return[];for(var o=0,d=0,h=Array(fk(f/u));o<f;)h[d++]=si(i,o,o+=u);return h}function Xc(i,u,a){return i===i&&(a!==void 0&&(i=i<=a?i:a),u!==void 0&&(i=i>=u?i:u)),i}function hk(i,u,a){return a===void 0&&(a=u,u=void 0),a!==void 0&&(a=Ba(a),a=a===a?a:0),u!==void 0&&(u=Ba(u),u=u===u?u:0),Xc(Ba(i),u,a)}var yk=1,vk=4;function gk(i,u){return u=typeof u=="function"?u:void 0,Gc(i,yk|vk,u)}var bk=4;function mk(i,u){return u=typeof u=="function"?u:void 0,Gc(i,bk,u)}function _k(){return new ci(this.value(),this.__chain__)}function Ok(i){for(var u=-1,a=i==null?0:i.length,f=0,o=[];++u<a;){var d=i[u];d&&(o[f++]=d)}return o}function wk(){var i=arguments.length;if(!i)return[];for(var u=Array(i-1),a=arguments[0],f=i;f--;)u[f-1]=arguments[f];return Np(Mn(a)?ai(a):[a],pi(u,1))}var xk="Expected a function";function Ek(i){var u=i==null?0:i.length,a=Kt;return i=u?lr(i,function(f){if(typeof f[1]!="function")throw new TypeError(xk);return[a(f[0]),f[1]]}):[],cn(function(f){for(var o=-1;++o<u;){var d=i[o];if(ui(d[0],this,f))return ui(d[1],this,f)}})}function Xw(i,u,a){var f=a.length;if(i==null)return!f;for(i=Object(i);f--;){var o=a[f],d=u[o],h=i[o];if(h===void 0&&!(o in i)||!d(h))return!1}return!0}function Sk(i){var u=wo(i);return function(a){return Xw(a,i,u)}}var jk=1;function Pk(i){return Sk(Gc(i,jk))}function Ak(i,u){return u==null||Xw(i,u,wo(u))}function Mk(i,u,a,f){for(var o=-1,d=i==null?0:i.length;++o<d;){var h=i[o];u(f,h,a(h),i)}return f}function Tk(i,u,a,f){return Uc(i,function(o,d,h){u(f,o,a(o),h)}),f}function my(i,u){return function(a,f){var o=Mn(a)?Mk:Tk,d=u?u():{};return o(a,i,Kt(f),d)}}var kk=Object.prototype,Dk=kk.hasOwnProperty,Nk=my(function(i,u,a){Dk.call(i,a)?++i[a]:_l(i,a,1)});const Rk=Nk;function Ck(i,u){var a=Ap(i);return u==null?a:MA(a,u)}var Ik=8;function gm(i,u,a){u=a?void 0:u;var f=Ua(i,Ik,void 0,void 0,void 0,void 0,void 0,u);return f.placeholder=gm.placeholder,f}gm.placeholder={};var Lk=16;function bm(i,u,a){u=a?void 0:u;var f=Ua(i,Lk,void 0,void 0,void 0,void 0,void 0,u);return f.placeholder=bm.placeholder,f}bm.placeholder={};function Bk(i,u){return i==null||i!==i?u:i}var Yw=Object.prototype,zk=Yw.hasOwnProperty,Fk=cn(function(i,u){i=Object(i);var a=-1,f=u.length,o=f>2?u[2]:void 0;for(o&&Oo(u[0],u[1],o)&&(f=1);++a<f;)for(var d=u[a],h=Wa(d),m=-1,g=h.length;++m<g;){var E=h[m],P=i[E];(P===void 0||Ol(P,Yw[E])&&!zk.call(i,E))&&(i[E]=d[E])}return i});const $k=Fk;function Vw(i,u,a,f,o,d){return $a(i)&&$a(u)&&(d.set(u,i),UO(i,u,void 0,Vw,d),d.delete(u)),i}var Wk=Tp(function(i,u,a,f){UO(i,u,a,f)});const Kw=Wk;var Gk=cn(function(i){return i.push(void 0,Vw),ui(Kw,void 0,i)});const Uk=Gk;var Hk="Expected a function";function qw(i,u,a){if(typeof i!="function")throw new TypeError(Hk);return setTimeout(function(){i.apply(void 0,a)},u)}var Xk=cn(function(i,u){return qw(i,1,u)});const Yk=Xk;var Vk=cn(function(i,u,a){return qw(i,Ba(u)||0,a)});const Kk=Vk;var qk=200;function Ip(i,u,a,f){var o=-1,d=tm,h=!0,m=i.length,g=[],E=u.length;if(!m)return g;a&&(u=lr(u,ua(a))),f?(d=XO,h=!1):u.length>=qk&&(d=Ib,h=!1,u=new HO(u));e:for(;++o<m;){var P=i[o],j=a==null?P:a(P);if(P=f||P!==0?P:0,h&&j===j){for(var k=E;k--;)if(u[k]===j)continue e;g.push(P)}else d(u,j,f)||g.push(P)}return g}var Zk=cn(function(i,u){return Er(i)?Ip(i,pi(u,1,Er,!0)):[]});const Jk=Zk;function zo(i){var u=i==null?0:i.length;return u?i[u-1]:void 0}var Qk=cn(function(i,u){var a=zo(u);return Er(a)&&(a=void 0),Er(i)?Ip(i,pi(u,1,Er,!0),Kt(a)):[]});const eD=Qk;var tD=cn(function(i,u){var a=zo(u);return Er(a)&&(a=void 0),Er(i)?Ip(i,pi(u,1,Er,!0),void 0,a):[]});const nD=tD;var rD=vy(function(i,u){return i/u},1);const oD=rD;function iD(i,u,a){var f=i==null?0:i.length;return f?(u=a||u===void 0?1:en(u),si(i,u<0?0:u,f)):[]}function aD(i,u,a){var f=i==null?0:i.length;return f?(u=a||u===void 0?1:en(u),u=f-u,si(i,0,u<0?0:u)):[]}function _y(i,u,a,f){for(var o=i.length,d=f?o:-1;(f?d--:++d<o)&&u(i[d],d,i););return a?si(i,f?0:d,f?d+1:o):si(i,f?d+1:0,f?o:d)}function uD(i,u){return i&&i.length?_y(i,Kt(u),!0,!0):[]}function cD(i,u){return i&&i.length?_y(i,Kt(u),!0):[]}function sa(i){return typeof i=="function"?i:li}function U1(i,u){var a=Mn(i)?Ii:Uc;return a(i,sa(u))}function sD(i,u){for(var a=i==null?0:i.length;a--&&u(i[a],a,i)!==!1;);return i}var lD=TA(!0);const Zw=lD;function mm(i,u){return i&&Zw(i,u,wo)}var fD=kA(mm,!0);const Jw=fD;function H1(i,u){var a=Mn(i)?sD:Jw;return a(i,sa(u))}function pD(i,u,a){i=Tn(i),u=Ri(u);var f=i.length;a=a===void 0?f:Xc(en(a),0,f);var o=a;return a-=u.length,a>=0&&i.slice(a,o)==u}function dD(i,u){return lr(u,function(a){return[a,i[a]]})}function hD(i){var u=-1,a=Array(i.size);return i.forEach(function(f){a[++u]=[f,f]}),a}var yD="[object Map]",vD="[object Set]";function Qw(i){return function(u){var a=Rp(u);return a==yD?YO(u):a==vD?hD(u):dD(u,i(u))}}var gD=Qw(wo);const X1=gD;var bD=Qw(Wa);const Y1=bD;var mD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_D=ym(mD);const OD=_D;var ex=/[&<>"']/g,wD=RegExp(ex.source);function tx(i){return i=Tn(i),i&&wD.test(i)?i.replace(ex,OD):i}var nx=/[\\^$.*+?()[\]{}|]/g,xD=RegExp(nx.source);function ED(i){return i=Tn(i),i&&xD.test(i)?i.replace(nx,"\\$&"):i}function rx(i,u){for(var a=-1,f=i==null?0:i.length;++a<f;)if(!u(i[a],a,i))return!1;return!0}function SD(i,u){var a=!0;return Uc(i,function(f,o,d){return a=!!u(f,o,d),a}),a}function jD(i,u,a){var f=Mn(i)?rx:SD;return a&&Oo(i,u,a)&&(u=void 0),f(i,Kt(u))}var PD=4294967295;function ox(i){return i?Xc(en(i),0,PD):0}function AD(i,u,a,f){var o=i.length;for(a=en(a),a<0&&(a=-a>o?0:o+a),f=f===void 0||f>o?o:en(f),f<0&&(f+=o),f=a>f?0:ox(f);a<f;)i[a++]=u;return i}function MD(i,u,a,f){var o=i==null?0:i.length;return o?(a&&typeof a!="number"&&Oo(i,u,a)&&(a=0,f=o),AD(i,u,a,f)):[]}function ix(i,u){var a=[];return Uc(i,function(f,o,d){u(f,o,d)&&a.push(f)}),a}function TD(i,u){var a=Mn(i)?Hc:ix;return a(i,Kt(u))}function ax(i){return function(u,a,f){var o=Object(u);if(!Ru(u)){var d=Kt(a);u=wo(u),a=function(m){return d(o[m],m,o)}}var h=i(u,a,f);return h>-1?o[d?u[h]:h]:void 0}}var kD=Math.max;function ux(i,u,a){var f=i==null?0:i.length;if(!f)return-1;var o=a==null?0:en(a);return o<0&&(o=kD(f+o,0)),VO(i,Kt(u),o)}var DD=ax(ux);const ND=DD;function cx(i,u,a){var f;return a(i,function(o,d,h){if(u(o,d,h))return f=d,!1}),f}function RD(i,u){return cx(i,Kt(u),Ga)}var CD=ax(KO);const ID=CD;function LD(i,u){return cx(i,Kt(u),mm)}function V1(i){return i&&i.length?i[0]:void 0}var BD=1/0;function zD(i,u){return pi(nm(i,u),BD)}function FD(i,u,a){return a=a===void 0?1:en(a),pi(nm(i,u),a)}function $D(i,u){var a=i==null?0:i.length;return a?(u=u===void 0?1:en(u),pi(i,u)):[]}var WD=512;function GD(i){return Ua(i,WD)}var UD=vm("floor");const HD=UD;var XD="Expected a function",YD=8,VD=32,KD=128,qD=256;function sx(i){return Cu(function(u){var a=u.length,f=a,o=ci.prototype.thru;for(i&&u.reverse();f--;){var d=u[f];if(typeof d!="function")throw new TypeError(XD);if(o&&!h&&Yh(d)=="wrapper")var h=new ci([],!0)}for(f=h?f:a;++f<a;){d=u[f];var m=Yh(d),g=m=="wrapper"?cm(d):void 0;g&&Bb(g[0])&&g[1]==(KD|YD|VD|qD)&&!g[4].length&&g[9]==1?h=h[Yh(g[0])].apply(h,g[3]):h=d.length==1&&Bb(d)?h[m]():h.thru(d)}return function(){var E=arguments,P=E[0];if(h&&E.length==1&&Mn(P))return h.plant(P).value();for(var j=0,k=a?u[j].apply(this,E):P;++j<a;)k=u[j].call(this,k);return k}})}var ZD=sx();const JD=ZD;var QD=sx(!0);const eN=QD;function tN(i,u){return i==null?i:DA(i,sa(u),Wa)}function nN(i,u){return i==null?i:Zw(i,sa(u),Wa)}function rN(i,u){return i&&Ga(i,sa(u))}function oN(i,u){return i&&mm(i,sa(u))}function Oy(i,u){return Hc(u,function(a){return wl(i[a])})}function iN(i){return i==null?[]:Oy(i,wo(i))}function aN(i){return i==null?[]:Oy(i,Wa(i))}var uN=Object.prototype,cN=uN.hasOwnProperty,sN=my(function(i,u,a){cN.call(i,a)?i[a].push(u):_l(i,a,[u])});const lN=sN;function _m(i,u){return i>u}function wy(i){return function(u,a){return typeof u=="string"&&typeof a=="string"||(u=Ba(u),a=Ba(a)),i(u,a)}}var fN=wy(_m);const pN=fN;var dN=wy(function(i,u){return i>=u});const hN=dN;var yN=Object.prototype,vN=yN.hasOwnProperty;function gN(i,u){return i!=null&&vN.call(i,u)}function bN(i,u){return i!=null&&NA(i,u,gN)}var mN=Math.max,_N=Math.min;function ON(i,u,a){return i>=_N(u,a)&&i<mN(u,a)}function wN(i,u,a){return u=Du(u),a===void 0?(a=u,u=0):a=Du(a),i=Ba(i),ON(i,u,a)}var xN="[object String]";function xy(i){return typeof i=="string"||!Mn(i)&&fi(i)&&Iu(i)==xN}function Om(i,u){return lr(u,function(a){return i[a]})}function jl(i){return i==null?[]:Om(i,wo(i))}var EN=Math.max;function SN(i,u,a,f){i=Ru(i)?i:jl(i),a=a&&!f?en(a):0;var o=i.length;return a<0&&(a=EN(o+a,0)),xy(i)?a<=o&&i.indexOf(u,a)>-1:!!o&&Cp(i,u,a)>-1}var jN=Math.max;function PN(i,u,a){var f=i==null?0:i.length;if(!f)return-1;var o=a==null?0:en(a);return o<0&&(o=jN(f+o,0)),Cp(i,u,o)}function AN(i){var u=i==null?0:i.length;return u?si(i,0,-1):[]}var MN=Math.min;function wm(i,u,a){for(var f=a?XO:tm,o=i[0].length,d=i.length,h=d,m=Array(d),g=1/0,E=[];h--;){var P=i[h];h&&u&&(P=lr(P,ua(u))),g=MN(P.length,g),m[h]=!a&&(u||o>=120&&P.length>=120)?new HO(h&&P):void 0}P=i[0];var j=-1,k=m[0];e:for(;++j<o&&E.length<g;){var T=P[j],C=u?u(T):T;if(T=a||T!==0?T:0,!(k?Ib(k,C):f(E,C,a))){for(h=d;--h;){var N=m[h];if(!(N?Ib(N,C):f(i[h],C,a)))continue e}k&&k.push(C),E.push(T)}}return E}function xm(i){return Er(i)?i:[]}var TN=cn(function(i){var u=lr(i,xm);return u.length&&u[0]===i[0]?wm(u):[]});const kN=TN;var DN=cn(function(i){var u=zo(i),a=lr(i,xm);return u===zo(a)?u=void 0:a.pop(),a.length&&a[0]===i[0]?wm(a,Kt(u)):[]});const NN=DN;var RN=cn(function(i){var u=zo(i),a=lr(i,xm);return u=typeof u=="function"?u:void 0,u&&a.pop(),a.length&&a[0]===i[0]?wm(a,void 0,u):[]});const CN=RN;function IN(i,u,a,f){return Ga(i,function(o,d,h){u(f,a(o),d,h)}),f}function lx(i,u){return function(a,f){return IN(a,i,u(f),{})}}var LN=Object.prototype,BN=LN.toString,zN=lx(function(i,u,a){u!=null&&typeof u.toString!="function"&&(u=BN.call(u)),i[u]=a},qO(li));const FN=zN;var fx=Object.prototype,$N=fx.hasOwnProperty,WN=fx.toString,GN=lx(function(i,u,a){u!=null&&typeof u.toString!="function"&&(u=WN.call(u)),$N.call(i,u)?i[u].push(a):i[u]=[a]},Kt);const UN=GN;function px(i,u){return u.length<2?i:dy(i,si(u,0,-1))}function Lp(i,u,a){u=hy(u,i),i=px(i,u);var f=i==null?i:i[Dp(zo(u))];return f==null?void 0:ui(f,i,a)}var HN=cn(Lp);const XN=HN;var YN=cn(function(i,u,a){var f=-1,o=typeof u=="function",d=Ru(i)?Array(i.length):[];return Uc(i,function(h){d[++f]=o?ui(u,h,a):Lp(h,u,a)}),d});const VN=YN;var KN="[object ArrayBuffer]";function qN(i){return fi(i)&&Iu(i)==KN}var K1=bl&&bl.isArrayBuffer,ZN=K1?ua(K1):qN;const JN=ZN;var QN="[object Boolean]";function eR(i){return i===!0||i===!1||fi(i)&&Iu(i)==QN}var tR="[object Date]";function nR(i){return fi(i)&&Iu(i)==tR}var q1=bl&&bl.isDate,rR=q1?ua(q1):nR;const oR=rR;function iR(i){return fi(i)&&i.nodeType===1&&!py(i)}var aR="[object Map]",uR="[object Set]",cR=Object.prototype,sR=cR.hasOwnProperty;function lR(i){if(i==null)return!0;if(Ru(i)&&(Mn(i)||typeof i=="string"||typeof i.splice=="function"||rm(i)||om(i)||ZO(i)))return!i.length;var u=Rp(i);if(u==aR||u==uR)return!i.size;if($O(i))return!JO(i).length;for(var a in i)if(sR.call(i,a))return!1;return!0}function fR(i,u,a){a=typeof a=="function"?a:void 0;var f=a?a(i,u):void 0;return f===void 0?RA(i,u,void 0,a):!!f}var pR=Wc.isFinite;function dR(i){return typeof i=="number"&&pR(i)}function dx(i){return typeof i=="number"&&i==en(i)}function hR(i,u){return i===u||QO(i,u,ew(u))}function yR(i,u,a){return a=typeof a=="function"?a:void 0,QO(i,u,ew(u),a)}var vR="[object Number]";function hx(i){return typeof i=="number"||fi(i)&&Iu(i)==vR}function gR(i){return hx(i)&&i!=+i}var bR=CA?wl:tw;const mR=bR;var _R="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function OR(i){if(mR(i))throw new Error(_R);return IA(i)}function wR(i){return i===null}var xR="[object RegExp]";function ER(i){return fi(i)&&Iu(i)==xR}var Z1=bl&&bl.isRegExp,SR=Z1?ua(Z1):ER;const Em=SR;var J1=9007199254740991;function jR(i){return dx(i)&&i>=-J1&&i<=J1}var PR="[object WeakMap]";function AR(i){return fi(i)&&Rp(i)==PR}var MR="[object WeakSet]";function TR(i){return fi(i)&&Iu(i)==MR}var kR=1;function DR(i){return Kt(typeof i=="function"?i:Gc(i,kR))}var NR=Array.prototype,RR=NR.join;function CR(i,u){return i==null?"":RR.call(i,u)}var IR=Sl(function(i,u,a){return i+(a?"-":"")+u.toLowerCase()});const LR=IR;var BR=my(function(i,u,a){_l(i,a,u)});const zR=BR;function FR(i,u,a){for(var f=a+1;f--;)if(i[f]===u)return f;return f}var $R=Math.max,WR=Math.min;function GR(i,u,a){var f=i==null?0:i.length;if(!f)return-1;var o=f;return a!==void 0&&(o=en(a),o=o<0?$R(f+o,0):WR(o,f-1)),u===u?FR(i,u,o):VO(i,LA,o,!0)}var UR=Sl(function(i,u,a){return i+(a?" ":"")+u.toLowerCase()});const HR=UR;var XR=Aw("toLowerCase");const YR=XR;function Sm(i,u){return i<u}var VR=wy(Sm);const KR=VR;var qR=wy(function(i,u){return i<=u});const ZR=qR;function JR(i,u){var a={};return u=Kt(u),Ga(i,function(f,o,d){_l(a,u(f,o,d),f)}),a}function QR(i,u){var a={};return u=Kt(u),Ga(i,function(f,o,d){_l(a,o,u(f,o,d))}),a}var eC=1;function tC(i){return BA(Gc(i,eC))}var nC=1;function rC(i,u){return zA(i,Gc(u,nC))}function Ey(i,u,a){for(var f=-1,o=i.length;++f<o;){var d=i[f],h=u(d);if(h!=null&&(m===void 0?h===h&&!Fa(h):a(h,m)))var m=h,g=d}return g}function oC(i){return i&&i.length?Ey(i,li,_m):void 0}function iC(i,u){return i&&i.length?Ey(i,Kt(u),_m):void 0}function jm(i,u){for(var a,f=-1,o=i.length;++f<o;){var d=u(i[f]);d!==void 0&&(a=a===void 0?d:a+d)}return a}var aC=NaN;function yx(i,u){var a=i==null?0:i.length;return a?jm(i,u)/a:aC}function uC(i){return yx(i,li)}function cC(i,u){return yx(i,Kt(u))}var sC=cn(function(i,u){return function(a){return Lp(a,i,u)}});const lC=sC;var fC=cn(function(i,u){return function(a){return Lp(i,a,u)}});const pC=fC;function dC(i){return i&&i.length?Ey(i,li,Sm):void 0}function hC(i,u){return i&&i.length?Ey(i,Kt(u),Sm):void 0}function vx(i,u,a){var f=wo(u),o=Oy(u,f),d=!($a(a)&&"chain"in a)||!!a.chain,h=wl(i);return Ii(o,function(m){var g=u[m];i[m]=g,h&&(i.prototype[m]=function(){var E=this.__chain__;if(d||E){var P=i(this.__wrapped__),j=P.__actions__=ai(this.__actions__);return j.push({func:g,args:arguments,thisArg:i}),P.__chain__=E,P}return g.apply(i,Np([this.value()],arguments))})}),i}var yC=vy(function(i,u){return i*u},1);const vC=yC;var gC="Expected a function";function Bp(i){if(typeof i!="function")throw new TypeError(gC);return function(){var u=arguments;switch(u.length){case 0:return!i.call(this);case 1:return!i.call(this,u[0]);case 2:return!i.call(this,u[0],u[1]);case 3:return!i.call(this,u[0],u[1],u[2])}return!i.apply(this,u)}}function bC(i){for(var u,a=[];!(u=i.next()).done;)a.push(u.value);return a}var mC="[object Map]",_C="[object Set]",Nb=Zh?Zh.iterator:void 0;function gx(i){if(!i)return[];if(Ru(i))return xy(i)?Ci(i):ai(i);if(Nb&&i[Nb])return bC(i[Nb]());var u=Rp(i),a=u==mC?YO:u==_C?FA:jl;return a(i)}function OC(){this.__values__===void 0&&(this.__values__=gx(this.value()));var i=this.__index__>=this.__values__.length,u=i?void 0:this.__values__[this.__index__++];return{done:i,value:u}}function bx(i,u){var a=i.length;if(a)return u+=u<0?a:0,Mp(u,a)?i[u]:void 0}function wC(i,u){return i&&i.length?bx(i,en(u)):void 0}function xC(i){return i=en(i),cn(function(u){return bx(u,i)})}function Pm(i,u){return u=hy(u,i),i=px(i,u),i==null||delete i[Dp(zo(u))]}function EC(i){return py(i)?void 0:i}var SC=1,jC=2,PC=4,AC=Cu(function(i,u){var a={};if(i==null)return a;var f=!1;u=lr(u,function(d){return d=hy(d,i),f||(f=d.length>1),d}),kp(i,nw(i),a),f&&(a=Gc(a,SC|jC|PC,EC));for(var o=u.length;o--;)Pm(a,u[o]);return a});const MC=AC;function mx(i,u){if(i==null)return{};var a=lr(nw(i),function(f){return[f]});return u=Kt(u),$A(i,a,function(f,o){return u(f,o[0])})}function TC(i,u){return mx(i,Bp(Kt(u)))}function kC(i){return _w(2,i)}function DC(i,u){var a=i.length;for(i.sort(u);a--;)i[a]=i[a].value;return i}function _x(i,u){if(i!==u){var a=i!==void 0,f=i===null,o=i===i,d=Fa(i),h=u!==void 0,m=u===null,g=u===u,E=Fa(u);if(!m&&!E&&!d&&i>u||d&&h&&g&&!m&&!E||f&&h&&g||!a&&g||!o)return 1;if(!f&&!d&&!E&&i<u||E&&a&&o&&!f&&!d||m&&a&&o||!h&&o||!g)return-1}return 0}function NC(i,u,a){for(var f=-1,o=i.criteria,d=u.criteria,h=o.length,m=a.length;++f<h;){var g=_x(o[f],d[f]);if(g){if(f>=m)return g;var E=a[f];return g*(E=="desc"?-1:1)}}return i.index-u.index}function Ox(i,u,a){u.length?u=lr(u,function(d){return Mn(d)?function(h){return dy(h,d.length===1?d[0]:d)}:d}):u=[li];var f=-1;u=lr(u,ua(Kt));var o=WA(i,function(d,h,m){var g=lr(u,function(E){return E(d)});return{criteria:g,index:++f,value:d}});return DC(o,function(d,h){return NC(d,h,a)})}function RC(i,u,a,f){return i==null?[]:(Mn(u)||(u=u==null?[]:[u]),a=f?void 0:a,Mn(a)||(a=a==null?[]:[a]),Ox(i,u,a))}function Am(i){return Cu(function(u){return u=lr(u,ua(Kt)),cn(function(a){var f=this;return i(u,function(o){return ui(o,f,a)})})})}var CC=Am(lr);const IC=CC;var LC=cn;const BC=LC;var zC=Math.min,FC=BC(function(i,u){u=u.length==1&&Mn(u[0])?lr(u[0],ua(Kt)):lr(pi(u,1),ua(Kt));var a=u.length;return cn(function(f){for(var o=-1,d=zC(f.length,a);++o<d;)f[o]=u[o].call(this,f[o]);return ui(i,this,f)})});const $C=FC;var WC=Am(rx);const GC=WC;var UC=Am(rw);const HC=UC;var XC=9007199254740991,YC=Math.floor;function $b(i,u){var a="";if(!i||u<1||u>XC)return a;do u%2&&(a+=i),u=YC(u/2),u&&(i+=i);while(u);return a}var VC=ow("length");const KC=VC;var wx="\\ud800-\\udfff",qC="\\u0300-\\u036f",ZC="\\ufe20-\\ufe2f",JC="\\u20d0-\\u20ff",QC=qC+ZC+JC,eI="\\ufe0e\\ufe0f",tI="["+wx+"]",Wb="["+QC+"]",Gb="\\ud83c[\\udffb-\\udfff]",nI="(?:"+Wb+"|"+Gb+")",xx="[^"+wx+"]",Ex="(?:\\ud83c[\\udde6-\\uddff]){2}",Sx="[\\ud800-\\udbff][\\udc00-\\udfff]",rI="\\u200d",jx=nI+"?",Px="["+eI+"]?",oI="(?:"+rI+"(?:"+[xx,Ex,Sx].join("|")+")"+Px+jx+")*",iI=Px+jx+oI,aI="(?:"+[xx+Wb+"?",Wb,Ex,Sx,tI].join("|")+")",Q1=RegExp(Gb+"(?="+Gb+")|"+aI+iI,"g");function uI(i){for(var u=Q1.lastIndex=0;Q1.test(i);)++u;return u}function Pl(i){return El(i)?uI(i):KC(i)}var cI=Math.ceil;function ey(i,u){u=u===void 0?" ":Ri(u);var a=u.length;if(a<2)return a?$b(u,i):u;var f=$b(u,cI(i/Pl(u)));return El(u)?Lu(Ci(f),0,i).join(""):f.slice(0,i)}var sI=Math.ceil,lI=Math.floor;function fI(i,u,a){i=Tn(i),u=en(u);var f=u?Pl(i):0;if(!u||f>=u)return i;var o=(u-f)/2;return ey(lI(o),a)+i+ey(sI(o),a)}function pI(i,u,a){i=Tn(i),u=en(u);var f=u?Pl(i):0;return u&&f<u?i+ey(u-f,a):i}function dI(i,u,a){i=Tn(i),u=en(u);var f=u?Pl(i):0;return u&&f<u?ey(u-f,a)+i:i}var hI=/^\s+/,yI=Wc.parseInt;function vI(i,u,a){return a||u==null?u=0:u&&(u=+u),yI(Tn(i).replace(hI,""),u||0)}var gI=32,Mm=cn(function(i,u){var a=Nu(u,xl(Mm));return Ua(i,gI,void 0,u,a)});Mm.placeholder={};const Ax=Mm;var bI=64,Tm=cn(function(i,u){var a=Nu(u,xl(Tm));return Ua(i,bI,void 0,u,a)});Tm.placeholder={};const mI=Tm;var _I=my(function(i,u,a){i[a?0:1].push(u)},function(){return[[],[]]});const OI=_I;function wI(i){for(var u,a=this;a instanceof gy;){var f=hw(a);f.__index__=0,f.__values__=void 0,u?o.__wrapped__=f:u=f;var o=f;a=a.__wrapped__}return o.__wrapped__=i,u}function xI(i){return function(u){return i==null?void 0:dy(i,u)}}function EI(i,u,a,f){for(var o=a-1,d=i.length;++o<d;)if(f(i[o],u))return o;return-1}var SI=Array.prototype,eO=SI.splice;function km(i,u,a,f){var o=f?EI:Cp,d=-1,h=u.length,m=i;for(i===u&&(u=ai(u)),a&&(m=lr(i,ua(a)));++d<h;)for(var g=0,E=u[d],P=a?a(E):E;(g=o(m,P,g,f))>-1;)m!==i&&eO.call(m,g,1),eO.call(i,g,1);return i}function Mx(i,u){return i&&i.length&&u&&u.length?km(i,u):i}var jI=cn(Mx);const PI=jI;function AI(i,u,a){return i&&i.length&&u&&u.length?km(i,u,Kt(a)):i}function MI(i,u,a){return i&&i.length&&u&&u.length?km(i,u,void 0,a):i}var TI=Array.prototype,kI=TI.splice;function Tx(i,u){for(var a=i?u.length:0,f=a-1;a--;){var o=u[a];if(a==f||o!==d){var d=o;Mp(o)?kI.call(i,o,1):Pm(i,o)}}return i}var DI=Cu(function(i,u){var a=i==null?0:i.length,f=sm(i,u);return Tx(i,lr(u,function(o){return Mp(o,a)?+o:o}).sort(_x)),f});const NI=DI;var RI=Math.floor,CI=Math.random;function Dm(i,u){return i+RI(CI()*(u-i+1))}var II=parseFloat,LI=Math.min,BI=Math.random;function zI(i,u,a){if(a&&typeof a!="boolean"&&Oo(i,u,a)&&(u=a=void 0),a===void 0&&(typeof u=="boolean"?(a=u,u=void 0):typeof i=="boolean"&&(a=i,i=void 0)),i===void 0&&u===void 0?(i=0,u=1):(i=Du(i),u===void 0?(u=i,i=0):u=Du(u)),i>u){var f=i;i=u,u=f}if(a||i%1||u%1){var o=BI();return LI(i+o*(u-i+II("1e-"+((o+"").length-1))),u)}return Dm(i,u)}var FI=Math.ceil,$I=Math.max;function WI(i,u,a,f){for(var o=-1,d=$I(FI((u-i)/(a||1)),0),h=Array(d);d--;)h[f?d:++o]=i,i+=a;return h}function kx(i){return function(u,a,f){return f&&typeof f!="number"&&Oo(u,a,f)&&(a=f=void 0),u=Du(u),a===void 0?(a=u,u=0):a=Du(a),f=f===void 0?u<a?1:-1:Du(f),WI(u,a,f,i)}}var GI=kx();const UI=GI;var HI=kx(!0);const XI=HI;var YI=256,VI=Cu(function(i,u){return Ua(i,YI,void 0,void 0,void 0,u)});const KI=VI;function Dx(i,u,a,f,o){return o(i,function(d,h,m){a=f?(f=!1,d):u(a,d,h,m)}),a}function qI(i,u,a){var f=Mn(i)?hm:Dx,o=arguments.length<3;return f(i,Kt(u),a,o,Uc)}function ZI(i,u,a,f){var o=i==null?0:i.length;for(f&&o&&(a=i[--o]);o--;)a=u(a,i[o],o,i);return a}function JI(i,u,a){var f=Mn(i)?ZI:Dx,o=arguments.length<3;return f(i,Kt(u),a,o,Jw)}function QI(i,u){var a=Mn(i)?Hc:ix;return a(i,Bp(Kt(u)))}function e3(i,u){var a=[];if(!(i&&i.length))return a;var f=-1,o=[],d=i.length;for(u=Kt(u);++f<d;){var h=i[f];u(h,f,i)&&(a.push(h),o.push(f))}return Tx(i,o),a}function t3(i,u,a){return(a?Oo(i,u,a):u===void 0)?u=1:u=en(u),$b(Tn(i),u)}function n3(){var i=arguments,u=Tn(i[0]);return i.length<3?u:u.replace(i[1],i[2])}var r3="Expected a function";function o3(i,u){if(typeof i!="function")throw new TypeError(r3);return u=u===void 0?u:en(u),cn(i,u)}function i3(i,u,a){u=hy(u,i);var f=-1,o=u.length;for(o||(o=1,i=void 0);++f<o;){var d=i==null?void 0:i[Dp(u[f])];d===void 0&&(f=o,d=a),i=wl(d)?d.call(i):d}return i}var a3=Array.prototype,u3=a3.reverse;function Ub(i){return i==null?i:u3.call(i)}var c3=vm("round");const s3=c3;function Nx(i){var u=i.length;return u?i[Dm(0,u-1)]:void 0}function l3(i){return Nx(jl(i))}function f3(i){var u=Mn(i)?Nx:l3;return u(i)}function Sy(i,u){var a=-1,f=i.length,o=f-1;for(u=u===void 0?f:u;++a<u;){var d=Dm(a,o),h=i[d];i[d]=i[a],i[a]=h}return i.length=u,i}function p3(i,u){return Sy(ai(i),Xc(u,0,i.length))}function d3(i,u){var a=jl(i);return Sy(a,Xc(u,0,a.length))}function h3(i,u,a){(a?Oo(i,u,a):u===void 0)?u=1:u=en(u);var f=Mn(i)?p3:d3;return f(i,u)}function y3(i,u,a,f){return f=typeof f=="function"?f:void 0,i==null?i:im(i,u,a,f)}function v3(i){return Sy(ai(i))}function g3(i){return Sy(jl(i))}function b3(i){var u=Mn(i)?v3:g3;return u(i)}var m3="[object Map]",_3="[object Set]";function O3(i){if(i==null)return 0;if(Ru(i))return xy(i)?Pl(i):i.length;var u=Rp(i);return u==m3||u==_3?i.size:JO(i).length}function w3(i,u,a){var f=i==null?0:i.length;return f?(a&&typeof a!="number"&&Oo(i,u,a)?(u=0,a=f):(u=u==null?0:en(u),a=a===void 0?f:en(a)),si(i,u,a)):[]}var x3=Sl(function(i,u,a){return i+(a?"_":"")+u.toLowerCase()});const E3=x3;function S3(i,u){var a;return Uc(i,function(f,o,d){return a=u(f,o,d),!a}),!!a}function j3(i,u,a){var f=Mn(i)?rw:S3;return a&&Oo(i,u,a)&&(u=void 0),f(i,Kt(u))}var P3=cn(function(i,u){if(i==null)return[];var a=u.length;return a>1&&Oo(i,u[0],u[1])?u=[]:a>2&&Oo(u[0],u[1],u[2])&&(u=[u[0]]),Ox(i,pi(u,1),[])});const A3=P3;var M3=4294967295,T3=M3-1,k3=Math.floor,D3=Math.min;function Nm(i,u,a,f){var o=0,d=i==null?0:i.length;if(d===0)return 0;u=a(u);for(var h=u!==u,m=u===null,g=Fa(u),E=u===void 0;o<d;){var P=k3((o+d)/2),j=a(i[P]),k=j!==void 0,T=j===null,C=j===j,N=Fa(j);if(h)var I=f||C;else E?I=C&&(f||k):m?I=C&&k&&(f||!T):g?I=C&&k&&!T&&(f||!N):T||N?I=!1:I=f?j<=u:j<u;I?o=P+1:d=P}return D3(d,T3)}var N3=4294967295,R3=N3>>>1;function jy(i,u,a){var f=0,o=i==null?f:i.length;if(typeof u=="number"&&u===u&&o<=R3){for(;f<o;){var d=f+o>>>1,h=i[d];h!==null&&!Fa(h)&&(a?h<=u:h<u)?f=d+1:o=d}return o}return Nm(i,u,li,a)}function C3(i,u){return jy(i,u)}function I3(i,u,a){return Nm(i,u,Kt(a))}function L3(i,u){var a=i==null?0:i.length;if(a){var f=jy(i,u);if(f<a&&Ol(i[f],u))return f}return-1}function B3(i,u){return jy(i,u,!0)}function z3(i,u,a){return Nm(i,u,Kt(a),!0)}function F3(i,u){var a=i==null?0:i.length;if(a){var f=jy(i,u,!0)-1;if(Ol(i[f],u))return f}return-1}function Rx(i,u){for(var a=-1,f=i.length,o=0,d=[];++a<f;){var h=i[a],m=u?u(h):h;if(!a||!Ol(m,g)){var g=m;d[o++]=h===0?0:h}}return d}function $3(i){return i&&i.length?Rx(i):[]}function W3(i,u){return i&&i.length?Rx(i,Kt(u)):[]}var G3=4294967295;function U3(i,u,a){return a&&typeof a!="number"&&Oo(i,u,a)&&(u=a=void 0),a=a===void 0?G3:a>>>0,a?(i=Tn(i),i&&(typeof u=="string"||u!=null&&!Em(u))&&(u=Ri(u),!u&&El(i))?Lu(Ci(i),0,a):i.split(u,a)):[]}var H3="Expected a function",X3=Math.max;function Y3(i,u){if(typeof i!="function")throw new TypeError(H3);return u=u==null?0:X3(en(u),0),cn(function(a){var f=a[u],o=Lu(a,0,u);return f&&Np(o,f),ui(i,this,o)})}var V3=Sl(function(i,u,a){return i+(a?" ":"")+dm(u)});const K3=V3;function q3(i,u,a){return i=Tn(i),a=a==null?0:Xc(en(a),0,i.length),u=Ri(u),i.slice(a,a+u.length)==u}function Z3(){return{}}function J3(){return""}function Q3(){return!0}var eL=vy(function(i,u){return i-u},0);const tL=eL;function nL(i){return i&&i.length?jm(i,li):0}function rL(i,u){return i&&i.length?jm(i,Kt(u)):0}function oL(i){var u=i==null?0:i.length;return u?si(i,1,u):[]}function iL(i,u,a){return i&&i.length?(u=a||u===void 0?1:en(u),si(i,0,u<0?0:u)):[]}function aL(i,u,a){var f=i==null?0:i.length;return f?(u=a||u===void 0?1:en(u),u=f-u,si(i,u<0?0:u,f)):[]}function uL(i,u){return i&&i.length?_y(i,Kt(u),!1,!0):[]}function cL(i,u){return i&&i.length?_y(i,Kt(u)):[]}function sL(i,u){return u(i),i}var Cx=Object.prototype,lL=Cx.hasOwnProperty;function tO(i,u,a,f){return i===void 0||Ol(i,Cx[a])&&!lL.call(f,a)?u:i}var fL={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function pL(i){return"\\"+fL[i]}var dL=/<%=([\s\S]+?)%>/g;const Ix=dL;var hL=/<%-([\s\S]+?)%>/g;const yL=hL;var vL=/<%([\s\S]+?)%>/g;const gL=vL;var bL={escape:yL,evaluate:gL,interpolate:Ix,variable:"",imports:{_:{escape:tx}}};const Hb=bL;var mL="Invalid `variable` option passed into `_.template`",_L=/\b__p \+= '';/g,OL=/\b(__p \+=) '' \+/g,wL=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xL=/[()=,{}\[\]\/\s]/,EL=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Uh=/($^)/,SL=/['\n\r\u2028\u2029\\]/g,jL=Object.prototype,nO=jL.hasOwnProperty;function PL(i,u,a){var f=Hb.imports._.templateSettings||Hb;a&&Oo(i,u,a)&&(u=void 0),i=Tn(i),u=Qh({},u,f,tO);var o=Qh({},u.imports,f.imports,tO),d=wo(o),h=Om(o,d),m,g,E=0,P=u.interpolate||Uh,j="__p += '",k=RegExp((u.escape||Uh).source+"|"+P.source+"|"+(P===Ix?EL:Uh).source+"|"+(u.evaluate||Uh).source+"|$","g"),T=nO.call(u,"sourceURL")?"//# sourceURL="+(u.sourceURL+"").replace(/\s/g," ")+`
`:"";i.replace(k,function(I,W,U,ne,ue,ae){return U||(U=ne),j+=i.slice(E,ae).replace(SL,pL),W&&(m=!0,j+=`' +
__e(`+W+`) +
'`),ue&&(g=!0,j+=`';
`+ue+`;
__p += '`),U&&(j+=`' +
((__t = (`+U+`)) == null ? '' : __t) +
'`),E=ae+I.length,I}),j+=`';
`;var C=nO.call(u,"variable")&&u.variable;if(!C)j=`with (obj) {
`+j+`
}
`;else if(xL.test(C))throw new Error(mL);j=(g?j.replace(_L,""):j).replace(OL,"$1").replace(wL,"$1;"),j="function("+(C||"obj")+`) {
`+(C?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+j+`return __p
}`;var N=mw(function(){return Function(d,T+"return "+j).apply(void 0,h)});if(N.source=j,lm(N))throw N;return N}function zp(i,u){return u(i)}var AL=9007199254740991,Rb=4294967295,ML=Math.min;function TL(i,u){if(i=en(i),i<1||i>AL)return[];var a=Rb,f=ML(i,Rb);u=sa(u),i-=Rb;for(var o=iw(f,u);++a<i;)u(a);return o}function kL(){return this}function Lx(i,u){var a=i;return a instanceof fn&&(a=a.value()),hm(u,function(f,o){return o.func.apply(o.thisArg,Np([f],o.args))},a)}function Cb(){return Lx(this.__wrapped__,this.__actions__)}function DL(i){return Tn(i).toLowerCase()}function NL(i){return Mn(i)?lr(i,Dp):Fa(i)?[i]:ai(GA(Tn(i)))}var rO=9007199254740991;function RL(i){return i?Xc(en(i),-rO,rO):i===0?i:0}function CL(i){return Tn(i).toUpperCase()}function IL(i,u,a){var f=Mn(i),o=f||rm(i)||om(i);if(u=Kt(u),a==null){var d=i&&i.constructor;o?a=f?new d:[]:$a(i)?a=wl(d)?Ap(UA(i)):{}:a={}}return(o?Ii:Ga)(i,function(h,m,g){return u(a,h,m,g)}),a}function Bx(i,u){for(var a=i.length;a--&&Cp(u,i[a],0)>-1;);return a}function zx(i,u){for(var a=-1,f=i.length;++a<f&&Cp(u,i[a],0)>-1;);return a}function LL(i,u,a){if(i=Tn(i),i&&(a||u===void 0))return HA(i);if(!i||!(u=Ri(u)))return i;var f=Ci(i),o=Ci(u),d=zx(f,o),h=Bx(f,o)+1;return Lu(f,d,h).join("")}function BL(i,u,a){if(i=Tn(i),i&&(a||u===void 0))return i.slice(0,XA(i)+1);if(!i||!(u=Ri(u)))return i;var f=Ci(i),o=Bx(f,Ci(u))+1;return Lu(f,0,o).join("")}var zL=/^\s+/;function FL(i,u,a){if(i=Tn(i),i&&(a||u===void 0))return i.replace(zL,"");if(!i||!(u=Ri(u)))return i;var f=Ci(i),o=zx(f,Ci(u));return Lu(f,o).join("")}var $L=30,WL="...",GL=/\w*$/;function UL(i,u){var a=$L,f=WL;if($a(u)){var o="separator"in u?u.separator:o;a="length"in u?en(u.length):a,f="omission"in u?Ri(u.omission):f}i=Tn(i);var d=i.length;if(El(i)){var h=Ci(i);d=h.length}if(a>=d)return i;var m=a-Pl(f);if(m<1)return f;var g=h?Lu(h,0,m).join(""):i.slice(0,m);if(o===void 0)return g+f;if(h&&(m+=g.length-m),Em(o)){if(i.slice(m).search(o)){var E,P=g;for(o.global||(o=RegExp(o.source,Tn(GL.exec(o))+"g")),o.lastIndex=0;E=o.exec(P);)var j=E.index;g=g.slice(0,j===void 0?m:j)}}else if(i.indexOf(Ri(o),m)!=m){var k=g.lastIndexOf(o);k>-1&&(g=g.slice(0,k))}return g+f}function HL(i){return bw(i,1)}var XL={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},YL=ym(XL);const VL=YL;var Fx=/&(?:amp|lt|gt|quot|#39);/g,KL=RegExp(Fx.source);function qL(i){return i=Tn(i),i&&KL.test(i)?i.replace(Fx,VL):i}var ZL=cn(function(i){var u=zo(i);return Er(u)&&(u=void 0),$c(pi(i,1,Er,!0),Kt(u))});const JL=ZL;var QL=cn(function(i){var u=zo(i);return u=typeof u=="function"?u:void 0,$c(pi(i,1,Er,!0),void 0,u)});const e4=QL;function t4(i){return i&&i.length?$c(i):[]}function n4(i,u){return i&&i.length?$c(i,Kt(u)):[]}function r4(i,u){return u=typeof u=="function"?u:void 0,i&&i.length?$c(i,void 0,u):[]}var o4=0;function i4(i){var u=++o4;return Tn(i)+u}function a4(i,u){return i==null?!0:Pm(i,u)}var u4=Math.max;function Rm(i){if(!(i&&i.length))return[];var u=0;return i=Hc(i,function(a){if(Er(a))return u=u4(a.length,u),!0}),iw(u,function(a){return lr(i,ow(a))})}function $x(i,u){if(!(i&&i.length))return[];var a=Rm(i);return u==null?a:lr(a,function(f){return ui(u,void 0,f)})}function Wx(i,u,a,f){return im(i,u,a(dy(i,u)),f)}function c4(i,u,a){return i==null?i:Wx(i,u,sa(a))}function s4(i,u,a,f){return f=typeof f=="function"?f:void 0,i==null?i:Wx(i,u,sa(a),f)}var l4=Sl(function(i,u,a){return i+(a?" ":"")+u.toUpperCase()});const f4=l4;function p4(i){return i==null?[]:Om(i,Wa(i))}var d4=cn(function(i,u){return Er(i)?Ip(i,u):[]});const h4=d4;function y4(i,u){return Ax(sa(u),i)}var v4=Cu(function(i){var u=i.length,a=u?i[0]:0,f=this.__wrapped__,o=function(d){return sm(d,i)};return u>1||this.__actions__.length||!(f instanceof fn)||!Mp(a)?this.thru(o):(f=f.slice(a,+a+(u?1:0)),f.__actions__.push({func:zp,args:[o],thisArg:void 0}),new ci(f,this.__chain__).thru(function(d){return u&&!d.length&&d.push(void 0),d}))});const g4=v4;function b4(){return Hw(this)}function m4(){var i=this.__wrapped__;if(i instanceof fn){var u=i;return this.__actions__.length&&(u=new fn(this)),u=u.reverse(),u.__actions__.push({func:zp,args:[Ub],thisArg:void 0}),new ci(u,this.__chain__)}return this.thru(Ub)}function Cm(i,u,a){var f=i.length;if(f<2)return f?$c(i[0]):[];for(var o=-1,d=Array(f);++o<f;)for(var h=i[o],m=-1;++m<f;)m!=o&&(d[o]=Ip(d[o]||h,i[m],u,a));return $c(pi(d,1),u,a)}var _4=cn(function(i){return Cm(Hc(i,Er))});const O4=_4;var w4=cn(function(i){var u=zo(i);return Er(u)&&(u=void 0),Cm(Hc(i,Er),Kt(u))});const x4=w4;var E4=cn(function(i){var u=zo(i);return u=typeof u=="function"?u:void 0,Cm(Hc(i,Er),void 0,u)});const S4=E4;var j4=cn(Rm);const P4=j4;function Gx(i,u,a){for(var f=-1,o=i.length,d=u.length,h={};++f<o;){var m=f<d?u[f]:void 0;a(h,i[f],m)}return h}function A4(i,u){return Gx(i||[],u||[],WO)}function M4(i,u){return Gx(i||[],u||[],im)}var T4=cn(function(i){var u=i.length,a=u>1?i[u-1]:void 0;return a=typeof a=="function"?(i.pop(),a):void 0,$x(i,a)});const k4=T4,ht={chunk:dk,compact:Ok,concat:wk,difference:Jk,differenceBy:eD,differenceWith:nD,drop:iD,dropRight:aD,dropRightWhile:uD,dropWhile:cD,fill:MD,findIndex:ux,findLastIndex:KO,first:V1,flatten:YA,flattenDeep:VA,flattenDepth:$D,fromPairs:KA,head:V1,indexOf:PN,initial:AN,intersection:kN,intersectionBy:NN,intersectionWith:CN,join:CR,last:zo,lastIndexOf:GR,nth:wC,pull:PI,pullAll:Mx,pullAllBy:AI,pullAllWith:MI,pullAt:NI,remove:e3,reverse:Ub,slice:w3,sortedIndex:C3,sortedIndexBy:I3,sortedIndexOf:L3,sortedLastIndex:B3,sortedLastIndexBy:z3,sortedLastIndexOf:F3,sortedUniq:$3,sortedUniqBy:W3,tail:oL,take:iL,takeRight:aL,takeRightWhile:uL,takeWhile:cL,union:qA,unionBy:JL,unionWith:e4,uniq:t4,uniqBy:n4,uniqWith:r4,unzip:Rm,unzipWith:$x,without:h4,xor:O4,xorBy:x4,xorWith:S4,zip:P4,zipObject:A4,zipObjectDeep:M4,zipWith:k4},Dn={countBy:Rk,each:U1,eachRight:H1,every:jD,filter:TD,find:ND,findLast:ID,flatMap:ZA,flatMapDeep:zD,flatMapDepth:FD,forEach:U1,forEachRight:H1,groupBy:lN,includes:SN,invokeMap:VN,keyBy:zR,map:nm,orderBy:RC,partition:OI,reduce:qI,reduceRight:JI,reject:QI,sample:f3,sampleSize:h3,shuffle:b3,size:O3,some:j3,sortBy:A3},D4={now:JA},fr={after:M2,ary:bw,before:_w,bind:Ow,bindKey:qM,curry:gm,curryRight:bm,debounce:QA,defer:Yk,delay:Kk,flip:GD,memoize:e2,negate:Bp,once:kC,overArgs:$C,partial:Ax,partialRight:mI,rearg:KI,rest:o3,spread:Y3,throttle:t2,unary:HL,wrap:y4},Tt={castArray:n2,clone:r2,cloneDeep:o2,cloneDeepWith:gk,cloneWith:mk,conformsTo:Ak,eq:Ol,gt:pN,gte:hN,isArguments:ZO,isArray:Mn,isArrayBuffer:JN,isArrayLike:Ru,isArrayLikeObject:Er,isBoolean:eR,isBuffer:rm,isDate:oR,isElement:iR,isEmpty:lR,isEqual:i2,isEqualWith:fR,isError:lm,isFinite:dR,isFunction:wl,isInteger:dx,isLength:a2,isMap:u2,isMatch:hR,isMatchWith:yR,isNaN:gR,isNative:OR,isNil:c2,isNull:wR,isNumber:hx,isObject:$a,isObjectLike:fi,isPlainObject:py,isRegExp:Em,isSafeInteger:jR,isSet:s2,isString:xy,isSymbol:Fa,isTypedArray:om,isUndefined:l2,isWeakMap:AR,isWeakSet:TR,lt:KR,lte:ZR,toArray:gx,toFinite:Du,toInteger:en,toLength:ox,toNumber:Ba,toPlainObject:f2,toSafeInteger:RL,toString:Tn},lo={add:P2,ceil:lk,divide:oD,floor:HD,max:oC,maxBy:iC,mean:uC,meanBy:cC,min:dC,minBy:hC,multiply:vC,round:s3,subtract:tL,sum:nL,sumBy:rL},Im={clamp:hk,inRange:wN,random:zI},Ut={assign:DM,assignIn:z1,assignInWith:Qh,assignWith:IM,at:BM,create:Ck,defaults:$k,defaultsDeep:Uk,entries:X1,entriesIn:Y1,extend:z1,extendWith:Qh,findKey:RD,findLastKey:LD,forIn:tN,forInRight:nN,forOwn:rN,forOwnRight:oN,functions:iN,functionsIn:aN,get:GO,has:bN,hasIn:p2,invert:FN,invertBy:UN,invoke:XN,keys:wo,keysIn:Wa,mapKeys:JR,mapValues:QR,merge:d2,mergeWith:Kw,omit:MC,omitBy:TC,pick:h2,pickBy:mx,result:i3,set:y2,setWith:y3,toPairs:X1,toPairsIn:Y1,transform:IL,unset:a4,update:c4,updateWith:s4,values:jl,valuesIn:p4},la={at:g4,chain:Hw,commit:_k,lodash:$,next:OC,plant:wI,reverse:m4,tap:sL,thru:zp,toIterator:kL,toJSON:Cb,value:Cb,valueOf:Cb,wrapperChain:b4},xn={camelCase:ak,capitalize:Mw,deburr:Tw,endsWith:pD,escape:tx,escapeRegExp:ED,kebabCase:LR,lowerCase:HR,lowerFirst:YR,pad:fI,padEnd:pI,padStart:dI,parseInt:vI,repeat:t3,replace:n3,snakeCase:E3,split:U3,startCase:K3,startsWith:q3,template:PL,templateSettings:Hb,toLower:DL,toUpper:CL,trim:LL,trimEnd:BL,trimStart:FL,truncate:UL,unescape:qL,upperCase:f4,upperFirst:dm,words:Uw},En={attempt:mw,bindAll:XM,cond:Ek,conforms:Pk,constant:qO,defaultTo:Bk,flow:JD,flowRight:eN,identity:li,iteratee:DR,matches:tC,matchesProperty:rC,method:lC,methodOf:pC,mixin:vx,noop:FO,nthArg:xC,over:IC,overEvery:GC,overSome:HC,property:v2,propertyOf:xI,range:UI,rangeRight:XI,stubArray:g2,stubFalse:tw,stubObject:Z3,stubString:J3,stubTrue:Q3,times:TL,toPath:NL,uniqueId:i4};function N4(){var i=new fn(this.__wrapped__);return i.__actions__=ai(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=ai(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=ai(this.__views__),i}function R4(){if(this.__filtered__){var i=new fn(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}var C4=Math.max,I4=Math.min;function L4(i,u,a){for(var f=-1,o=a.length;++f<o;){var d=a[f],h=d.size;switch(d.type){case"drop":i+=h;break;case"dropRight":u-=h;break;case"take":u=I4(u,i+h);break;case"takeRight":i=C4(i,u-h);break}}return{start:i,end:u}}var B4=1,z4=2,F4=Math.min;function $4(){var i=this.__wrapped__.value(),u=this.__dir__,a=Mn(i),f=u<0,o=a?i.length:0,d=L4(0,o,this.__views__),h=d.start,m=d.end,g=m-h,E=f?m:h-1,P=this.__iteratees__,j=P.length,k=0,T=F4(g,this.__takeCount__);if(!a||!f&&o==g&&T==g)return Lx(i,this.__actions__);var C=[];e:for(;g--&&k<T;){E+=u;for(var N=-1,I=i[E];++N<j;){var W=P[N],U=W.iteratee,ne=W.type,ue=U(I);if(ne==z4)I=ue;else if(!ue){if(ne==B4)continue e;break e}}C[k++]=I}return C}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var W4="4.17.21",G4=2,U4=1,H4=3,Ux=4294967295,X4=Array.prototype,Y4=Object.prototype,Hx=Y4.hasOwnProperty,oO=Zh?Zh.iterator:void 0,V4=Math.max,iO=Math.min,Lm=function(i){return function(u,a,f){if(f==null){var o=$a(a),d=o&&wo(a),h=d&&d.length&&Oy(a,d);(h?h.length:o)||(f=a,a=u,u=this)}return i(u,a,f)}}(vx);$.after=fr.after;$.ary=fr.ary;$.assign=Ut.assign;$.assignIn=Ut.assignIn;$.assignInWith=Ut.assignInWith;$.assignWith=Ut.assignWith;$.at=Ut.at;$.before=fr.before;$.bind=fr.bind;$.bindAll=En.bindAll;$.bindKey=fr.bindKey;$.castArray=Tt.castArray;$.chain=la.chain;$.chunk=ht.chunk;$.compact=ht.compact;$.concat=ht.concat;$.cond=En.cond;$.conforms=En.conforms;$.constant=En.constant;$.countBy=Dn.countBy;$.create=Ut.create;$.curry=fr.curry;$.curryRight=fr.curryRight;$.debounce=fr.debounce;$.defaults=Ut.defaults;$.defaultsDeep=Ut.defaultsDeep;$.defer=fr.defer;$.delay=fr.delay;$.difference=ht.difference;$.differenceBy=ht.differenceBy;$.differenceWith=ht.differenceWith;$.drop=ht.drop;$.dropRight=ht.dropRight;$.dropRightWhile=ht.dropRightWhile;$.dropWhile=ht.dropWhile;$.fill=ht.fill;$.filter=Dn.filter;$.flatMap=Dn.flatMap;$.flatMapDeep=Dn.flatMapDeep;$.flatMapDepth=Dn.flatMapDepth;$.flatten=ht.flatten;$.flattenDeep=ht.flattenDeep;$.flattenDepth=ht.flattenDepth;$.flip=fr.flip;$.flow=En.flow;$.flowRight=En.flowRight;$.fromPairs=ht.fromPairs;$.functions=Ut.functions;$.functionsIn=Ut.functionsIn;$.groupBy=Dn.groupBy;$.initial=ht.initial;$.intersection=ht.intersection;$.intersectionBy=ht.intersectionBy;$.intersectionWith=ht.intersectionWith;$.invert=Ut.invert;$.invertBy=Ut.invertBy;$.invokeMap=Dn.invokeMap;$.iteratee=En.iteratee;$.keyBy=Dn.keyBy;$.keys=wo;$.keysIn=Ut.keysIn;$.map=Dn.map;$.mapKeys=Ut.mapKeys;$.mapValues=Ut.mapValues;$.matches=En.matches;$.matchesProperty=En.matchesProperty;$.memoize=fr.memoize;$.merge=Ut.merge;$.mergeWith=Ut.mergeWith;$.method=En.method;$.methodOf=En.methodOf;$.mixin=Lm;$.negate=Bp;$.nthArg=En.nthArg;$.omit=Ut.omit;$.omitBy=Ut.omitBy;$.once=fr.once;$.orderBy=Dn.orderBy;$.over=En.over;$.overArgs=fr.overArgs;$.overEvery=En.overEvery;$.overSome=En.overSome;$.partial=fr.partial;$.partialRight=fr.partialRight;$.partition=Dn.partition;$.pick=Ut.pick;$.pickBy=Ut.pickBy;$.property=En.property;$.propertyOf=En.propertyOf;$.pull=ht.pull;$.pullAll=ht.pullAll;$.pullAllBy=ht.pullAllBy;$.pullAllWith=ht.pullAllWith;$.pullAt=ht.pullAt;$.range=En.range;$.rangeRight=En.rangeRight;$.rearg=fr.rearg;$.reject=Dn.reject;$.remove=ht.remove;$.rest=fr.rest;$.reverse=ht.reverse;$.sampleSize=Dn.sampleSize;$.set=Ut.set;$.setWith=Ut.setWith;$.shuffle=Dn.shuffle;$.slice=ht.slice;$.sortBy=Dn.sortBy;$.sortedUniq=ht.sortedUniq;$.sortedUniqBy=ht.sortedUniqBy;$.split=xn.split;$.spread=fr.spread;$.tail=ht.tail;$.take=ht.take;$.takeRight=ht.takeRight;$.takeRightWhile=ht.takeRightWhile;$.takeWhile=ht.takeWhile;$.tap=la.tap;$.throttle=fr.throttle;$.thru=zp;$.toArray=Tt.toArray;$.toPairs=Ut.toPairs;$.toPairsIn=Ut.toPairsIn;$.toPath=En.toPath;$.toPlainObject=Tt.toPlainObject;$.transform=Ut.transform;$.unary=fr.unary;$.union=ht.union;$.unionBy=ht.unionBy;$.unionWith=ht.unionWith;$.uniq=ht.uniq;$.uniqBy=ht.uniqBy;$.uniqWith=ht.uniqWith;$.unset=Ut.unset;$.unzip=ht.unzip;$.unzipWith=ht.unzipWith;$.update=Ut.update;$.updateWith=Ut.updateWith;$.values=Ut.values;$.valuesIn=Ut.valuesIn;$.without=ht.without;$.words=xn.words;$.wrap=fr.wrap;$.xor=ht.xor;$.xorBy=ht.xorBy;$.xorWith=ht.xorWith;$.zip=ht.zip;$.zipObject=ht.zipObject;$.zipObjectDeep=ht.zipObjectDeep;$.zipWith=ht.zipWith;$.entries=Ut.toPairs;$.entriesIn=Ut.toPairsIn;$.extend=Ut.assignIn;$.extendWith=Ut.assignInWith;Lm($,$);$.add=lo.add;$.attempt=En.attempt;$.camelCase=xn.camelCase;$.capitalize=xn.capitalize;$.ceil=lo.ceil;$.clamp=Im.clamp;$.clone=Tt.clone;$.cloneDeep=Tt.cloneDeep;$.cloneDeepWith=Tt.cloneDeepWith;$.cloneWith=Tt.cloneWith;$.conformsTo=Tt.conformsTo;$.deburr=xn.deburr;$.defaultTo=En.defaultTo;$.divide=lo.divide;$.endsWith=xn.endsWith;$.eq=Tt.eq;$.escape=xn.escape;$.escapeRegExp=xn.escapeRegExp;$.every=Dn.every;$.find=Dn.find;$.findIndex=ht.findIndex;$.findKey=Ut.findKey;$.findLast=Dn.findLast;$.findLastIndex=ht.findLastIndex;$.findLastKey=Ut.findLastKey;$.floor=lo.floor;$.forEach=Dn.forEach;$.forEachRight=Dn.forEachRight;$.forIn=Ut.forIn;$.forInRight=Ut.forInRight;$.forOwn=Ut.forOwn;$.forOwnRight=Ut.forOwnRight;$.get=Ut.get;$.gt=Tt.gt;$.gte=Tt.gte;$.has=Ut.has;$.hasIn=Ut.hasIn;$.head=ht.head;$.identity=li;$.includes=Dn.includes;$.indexOf=ht.indexOf;$.inRange=Im.inRange;$.invoke=Ut.invoke;$.isArguments=Tt.isArguments;$.isArray=Mn;$.isArrayBuffer=Tt.isArrayBuffer;$.isArrayLike=Tt.isArrayLike;$.isArrayLikeObject=Tt.isArrayLikeObject;$.isBoolean=Tt.isBoolean;$.isBuffer=Tt.isBuffer;$.isDate=Tt.isDate;$.isElement=Tt.isElement;$.isEmpty=Tt.isEmpty;$.isEqual=Tt.isEqual;$.isEqualWith=Tt.isEqualWith;$.isError=Tt.isError;$.isFinite=Tt.isFinite;$.isFunction=Tt.isFunction;$.isInteger=Tt.isInteger;$.isLength=Tt.isLength;$.isMap=Tt.isMap;$.isMatch=Tt.isMatch;$.isMatchWith=Tt.isMatchWith;$.isNaN=Tt.isNaN;$.isNative=Tt.isNative;$.isNil=Tt.isNil;$.isNull=Tt.isNull;$.isNumber=Tt.isNumber;$.isObject=$a;$.isObjectLike=Tt.isObjectLike;$.isPlainObject=Tt.isPlainObject;$.isRegExp=Tt.isRegExp;$.isSafeInteger=Tt.isSafeInteger;$.isSet=Tt.isSet;$.isString=Tt.isString;$.isSymbol=Tt.isSymbol;$.isTypedArray=Tt.isTypedArray;$.isUndefined=Tt.isUndefined;$.isWeakMap=Tt.isWeakMap;$.isWeakSet=Tt.isWeakSet;$.join=ht.join;$.kebabCase=xn.kebabCase;$.last=zo;$.lastIndexOf=ht.lastIndexOf;$.lowerCase=xn.lowerCase;$.lowerFirst=xn.lowerFirst;$.lt=Tt.lt;$.lte=Tt.lte;$.max=lo.max;$.maxBy=lo.maxBy;$.mean=lo.mean;$.meanBy=lo.meanBy;$.min=lo.min;$.minBy=lo.minBy;$.stubArray=En.stubArray;$.stubFalse=En.stubFalse;$.stubObject=En.stubObject;$.stubString=En.stubString;$.stubTrue=En.stubTrue;$.multiply=lo.multiply;$.nth=ht.nth;$.noop=En.noop;$.now=D4.now;$.pad=xn.pad;$.padEnd=xn.padEnd;$.padStart=xn.padStart;$.parseInt=xn.parseInt;$.random=Im.random;$.reduce=Dn.reduce;$.reduceRight=Dn.reduceRight;$.repeat=xn.repeat;$.replace=xn.replace;$.result=Ut.result;$.round=lo.round;$.sample=Dn.sample;$.size=Dn.size;$.snakeCase=xn.snakeCase;$.some=Dn.some;$.sortedIndex=ht.sortedIndex;$.sortedIndexBy=ht.sortedIndexBy;$.sortedIndexOf=ht.sortedIndexOf;$.sortedLastIndex=ht.sortedLastIndex;$.sortedLastIndexBy=ht.sortedLastIndexBy;$.sortedLastIndexOf=ht.sortedLastIndexOf;$.startCase=xn.startCase;$.startsWith=xn.startsWith;$.subtract=lo.subtract;$.sum=lo.sum;$.sumBy=lo.sumBy;$.template=xn.template;$.times=En.times;$.toFinite=Tt.toFinite;$.toInteger=en;$.toLength=Tt.toLength;$.toLower=xn.toLower;$.toNumber=Tt.toNumber;$.toSafeInteger=Tt.toSafeInteger;$.toString=Tt.toString;$.toUpper=xn.toUpper;$.trim=xn.trim;$.trimEnd=xn.trimEnd;$.trimStart=xn.trimStart;$.truncate=xn.truncate;$.unescape=xn.unescape;$.uniqueId=En.uniqueId;$.upperCase=xn.upperCase;$.upperFirst=xn.upperFirst;$.each=Dn.forEach;$.eachRight=Dn.forEachRight;$.first=ht.head;Lm($,function(){var i={};return Ga($,function(u,a){Hx.call($.prototype,a)||(i[a]=u)}),i}(),{chain:!1});$.VERSION=W4;($.templateSettings=xn.templateSettings).imports._=$;Ii(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){$[i].placeholder=$});Ii(["drop","take"],function(i,u){fn.prototype[i]=function(a){a=a===void 0?1:V4(en(a),0);var f=this.__filtered__&&!u?new fn(this):this.clone();return f.__filtered__?f.__takeCount__=iO(a,f.__takeCount__):f.__views__.push({size:iO(a,Ux),type:i+(f.__dir__<0?"Right":"")}),f},fn.prototype[i+"Right"]=function(a){return this.reverse()[i](a).reverse()}});Ii(["filter","map","takeWhile"],function(i,u){var a=u+1,f=a==U4||a==H4;fn.prototype[i]=function(o){var d=this.clone();return d.__iteratees__.push({iteratee:Kt(o),type:a}),d.__filtered__=d.__filtered__||f,d}});Ii(["head","last"],function(i,u){var a="take"+(u?"Right":"");fn.prototype[i]=function(){return this[a](1).value()[0]}});Ii(["initial","tail"],function(i,u){var a="drop"+(u?"":"Right");fn.prototype[i]=function(){return this.__filtered__?new fn(this):this[a](1)}});fn.prototype.compact=function(){return this.filter(li)};fn.prototype.find=function(i){return this.filter(i).head()};fn.prototype.findLast=function(i){return this.reverse().find(i)};fn.prototype.invokeMap=cn(function(i,u){return typeof i=="function"?new fn(this):this.map(function(a){return Lp(a,i,u)})});fn.prototype.reject=function(i){return this.filter(Bp(Kt(i)))};fn.prototype.slice=function(i,u){i=en(i);var a=this;return a.__filtered__&&(i>0||u<0)?new fn(a):(i<0?a=a.takeRight(-i):i&&(a=a.drop(i)),u!==void 0&&(u=en(u),a=u<0?a.dropRight(-u):a.take(u-i)),a)};fn.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()};fn.prototype.toArray=function(){return this.take(Ux)};Ga(fn.prototype,function(i,u){var a=/^(?:filter|find|map|reject)|While$/.test(u),f=/^(?:head|last)$/.test(u),o=$[f?"take"+(u=="last"?"Right":""):u],d=f||/^find/.test(u);o&&($.prototype[u]=function(){var h=this.__wrapped__,m=f?[1]:arguments,g=h instanceof fn,E=m[0],P=g||Mn(h),j=function(W){var U=o.apply($,Np([W],m));return f&&k?U[0]:U};P&&a&&typeof E=="function"&&E.length!=1&&(g=P=!1);var k=this.__chain__,T=!!this.__actions__.length,C=d&&!k,N=g&&!T;if(!d&&P){h=N?h:new fn(this);var I=i.apply(h,m);return I.__actions__.push({func:zp,args:[j],thisArg:void 0}),new ci(I,k)}return C&&N?i.apply(this,m):(I=this.thru(j),C?f?I.value()[0]:I.value():I)})});Ii(["pop","push","shift","sort","splice","unshift"],function(i){var u=X4[i],a=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",f=/^(?:pop|shift)$/.test(i);$.prototype[i]=function(){var o=arguments;if(f&&!this.__chain__){var d=this.value();return u.apply(Mn(d)?d:[],o)}return this[a](function(h){return u.apply(Mn(h)?h:[],o)})}});Ga(fn.prototype,function(i,u){var a=$[u];if(a){var f=a.name+"";Hx.call(yl,f)||(yl[f]=[]),yl[f].push({name:u,func:a})}});yl[by(void 0,G4).name]=[{name:"wrapper",func:void 0}];fn.prototype.clone=N4;fn.prototype.reverse=R4;fn.prototype.value=$4;$.prototype.at=la.at;$.prototype.chain=la.wrapperChain;$.prototype.commit=la.commit;$.prototype.next=la.next;$.prototype.plant=la.plant;$.prototype.reverse=la.reverse;$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=la.value;$.prototype.first=$.prototype.head;oO&&($.prototype[oO]=la.toIterator);const K4=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"开始",x:280,y:200,text:{x:280,y:200,value:"开始"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"结束",x:920,y:200,text:{x:920,y:200,value:"结束"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"网关",x:580,y:200,text:{x:580,y:200,value:"网关"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"用户",x:420,y:200,text:{x:420,y:200,value:"用户"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"服务",x:760,y:200,text:{x:760,y:200,value:"服务"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"边",text:{x:331,y:200,value:"边"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"边2",text:{x:507,y:200,value:"边2"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"边3",text:{x:664,y:200,value:"边3"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"边4",text:{x:871,y:200,value:"边4"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],q4={flowElementList:K4};var Xb={exports:{}};(function(i,u){(function(a,f){i.exports=f()})(window,function(){return function(a){var f={};function o(d){if(f[d])return f[d].exports;var h=f[d]={i:d,l:!1,exports:{}};return a[d].call(h.exports,h,h.exports,o),h.l=!0,h.exports}return o.m=a,o.c=f,o.d=function(d,h,m){o.o(d,h)||Object.defineProperty(d,h,{enumerable:!0,get:m})},o.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},o.t=function(d,h){if(1&h&&(d=o(d)),8&h||4&h&&typeof d=="object"&&d&&d.__esModule)return d;var m=Object.create(null);if(o.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:d}),2&h&&typeof d!="string")for(var g in d)o.d(m,g,function(E){return d[E]}.bind(null,g));return m},o.n=function(d){var h=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(h,"a",h),h},o.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)},o.p="",o(o.s=221)}([function(a,f,o){o.d(f,"a",function(){return ae}),o.d(f,"b",function(){return ue}),o.d(f,"c",function(){return qe}),o.d(f,"d",function(){return mt}),o.d(f,"e",function(){return W}),o.d(f,"f",function(){return ne}),o.d(f,"g",function(){return W}),o.d(f,"h",function(){return Xe}),o.d(f,"i",function(){return h}),o.d(f,"j",function(){return wt}),o.d(f,"k",function(){return q});var d,h,m,g,E,P,j,k={},T=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(fe,se){for(var ye in se)fe[ye]=se[ye];return fe}function I(fe){var se=fe.parentNode;se&&se.removeChild(fe)}function W(fe,se,ye){var De,Ge,Le,xt={};for(Le in se)Le=="key"?De=se[Le]:Le=="ref"?Ge=se[Le]:xt[Le]=se[Le];if(arguments.length>2&&(xt.children=arguments.length>3?d.call(arguments,2):ye),typeof fe=="function"&&fe.defaultProps!=null)for(Le in fe.defaultProps)xt[Le]===void 0&&(xt[Le]=fe.defaultProps[Le]);return U(fe,xt,De,Ge,null)}function U(fe,se,ye,De,Ge){var Le={type:fe,props:se,key:ye,ref:De,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ge==null?++m:Ge};return Ge==null&&h.vnode!=null&&h.vnode(Le),Le}function ne(){return{current:null}}function ue(fe){return fe.children}function ae(fe,se){this.props=fe,this.context=se}function ee(fe,se){if(se==null)return fe.__?ee(fe.__,fe.__.__k.indexOf(fe)+1):null;for(var ye;se<fe.__k.length;se++)if((ye=fe.__k[se])!=null&&ye.__e!=null)return ye.__e;return typeof fe.type=="function"?ee(fe):null}function te(fe){var se,ye;if((fe=fe.__)!=null&&fe.__c!=null){for(fe.__e=fe.__c.base=null,se=0;se<fe.__k.length;se++)if((ye=fe.__k[se])!=null&&ye.__e!=null){fe.__e=fe.__c.base=ye.__e;break}return te(fe)}}function V(fe){(!fe.__d&&(fe.__d=!0)&&g.push(fe)&&!z.__r++||P!==h.debounceRendering)&&((P=h.debounceRendering)||E)(z)}function z(){for(var fe;z.__r=g.length;)fe=g.sort(function(se,ye){return se.__v.__b-ye.__v.__b}),g=[],fe.some(function(se){var ye,De,Ge,Le,xt,kt;se.__d&&(xt=(Le=(ye=se).__v).__e,(kt=ye.__P)&&(De=[],(Ge=N({},Le)).__v=Le.__v+1,je(kt,Le,Ge,ye.__n,kt.ownerSVGElement!==void 0,Le.__h!=null?[xt]:null,De,xt==null?ee(Le):xt,Le.__h),ve(De,Le),Le.__e!=xt&&te(Le)))})}function H(fe,se,ye,De,Ge,Le,xt,kt,jt,vt){var Te,ct,pe,ot,Bt,pn,zt,nn=De&&De.__k||T,mn=nn.length;for(ye.__k=[],Te=0;Te<se.length;Te++)if((ot=ye.__k[Te]=(ot=se[Te])==null||typeof ot=="boolean"?null:typeof ot=="string"||typeof ot=="number"||typeof ot=="bigint"?U(null,ot,null,null,ot):Array.isArray(ot)?U(ue,{children:ot},null,null,null):ot.__b>0?U(ot.type,ot.props,ot.key,null,ot.__v):ot)!=null){if(ot.__=ye,ot.__b=ye.__b+1,(pe=nn[Te])===null||pe&&ot.key==pe.key&&ot.type===pe.type)nn[Te]=void 0;else for(ct=0;ct<mn;ct++){if((pe=nn[ct])&&ot.key==pe.key&&ot.type===pe.type){nn[ct]=void 0;break}pe=null}je(fe,ot,pe=pe||k,Ge,Le,xt,kt,jt,vt),Bt=ot.__e,(ct=ot.ref)&&pe.ref!=ct&&(zt||(zt=[]),pe.ref&&zt.push(pe.ref,null,ot),zt.push(ct,ot.__c||Bt,ot)),Bt!=null?(pn==null&&(pn=Bt),typeof ot.type=="function"&&ot.__k===pe.__k?ot.__d=jt=Y(ot,jt,fe):jt=ce(fe,ot,pe,nn,Bt,jt),typeof ye.type=="function"&&(ye.__d=jt)):jt&&pe.__e==jt&&jt.parentNode!=fe&&(jt=ee(pe))}for(ye.__e=pn,Te=mn;Te--;)nn[Te]!=null&&(typeof ye.type=="function"&&nn[Te].__e!=null&&nn[Te].__e==ye.__d&&(ye.__d=ee(De,Te+1)),$e(nn[Te],nn[Te]));if(zt)for(Te=0;Te<zt.length;Te++)Me(zt[Te],zt[++Te],zt[++Te])}function Y(fe,se,ye){for(var De,Ge=fe.__k,Le=0;Ge&&Le<Ge.length;Le++)(De=Ge[Le])&&(De.__=fe,se=typeof De.type=="function"?Y(De,se,ye):ce(ye,De,De,Ge,De.__e,se));return se}function q(fe,se){return se=se||[],fe==null||typeof fe=="boolean"||(Array.isArray(fe)?fe.some(function(ye){q(ye,se)}):se.push(fe)),se}function ce(fe,se,ye,De,Ge,Le){var xt,kt,jt;if(se.__d!==void 0)xt=se.__d,se.__d=void 0;else if(ye==null||Ge!=Le||Ge.parentNode==null)e:if(Le==null||Le.parentNode!==fe)fe.appendChild(Ge),xt=null;else{for(kt=Le,jt=0;(kt=kt.nextSibling)&&jt<De.length;jt+=2)if(kt==Ge)break e;fe.insertBefore(Ge,Le),xt=Le}return xt!==void 0?xt:Ge.nextSibling}function Ee(fe,se,ye){se[0]==="-"?fe.setProperty(se,ye):fe[se]=ye==null?"":typeof ye!="number"||C.test(se)?ye:ye+"px"}function me(fe,se,ye,De,Ge){var Le;e:if(se==="style")if(typeof ye=="string")fe.style.cssText=ye;else{if(typeof De=="string"&&(fe.style.cssText=De=""),De)for(se in De)ye&&se in ye||Ee(fe.style,se,"");if(ye)for(se in ye)De&&ye[se]===De[se]||Ee(fe.style,se,ye[se])}else if(se[0]==="o"&&se[1]==="n")Le=se!==(se=se.replace(/Capture$/,"")),se=se.toLowerCase()in fe?se.toLowerCase().slice(2):se.slice(2),fe.l||(fe.l={}),fe.l[se+Le]=ye,ye?De||fe.addEventListener(se,Le?ze:Ae,Le):fe.removeEventListener(se,Le?ze:Ae,Le);else if(se!=="dangerouslySetInnerHTML"){if(Ge)se=se.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(se!=="href"&&se!=="list"&&se!=="form"&&se!=="tabIndex"&&se!=="download"&&se in fe)try{fe[se]=ye==null?"":ye;break e}catch(xt){}typeof ye=="function"||(ye!=null&&(ye!==!1||se[0]==="a"&&se[1]==="r")?fe.setAttribute(se,ye):fe.removeAttribute(se))}}function Ae(fe){this.l[fe.type+!1](h.event?h.event(fe):fe)}function ze(fe){this.l[fe.type+!0](h.event?h.event(fe):fe)}function je(fe,se,ye,De,Ge,Le,xt,kt,jt){var vt,Te,ct,pe,ot,Bt,pn,zt,nn,mn,kn,Ct=se.type;if(se.constructor!==void 0)return null;ye.__h!=null&&(jt=ye.__h,kt=se.__e=ye.__e,se.__h=null,Le=[kt]),(vt=h.__b)&&vt(se);try{e:if(typeof Ct=="function"){if(zt=se.props,nn=(vt=Ct.contextType)&&De[vt.__c],mn=vt?nn?nn.props.value:vt.__:De,ye.__c?pn=(Te=se.__c=ye.__c).__=Te.__E:("prototype"in Ct&&Ct.prototype.render?se.__c=Te=new Ct(zt,mn):(se.__c=Te=new ae(zt,mn),Te.constructor=Ct,Te.render=nt),nn&&nn.sub(Te),Te.props=zt,Te.state||(Te.state={}),Te.context=mn,Te.__n=De,ct=Te.__d=!0,Te.__h=[]),Te.__s==null&&(Te.__s=Te.state),Ct.getDerivedStateFromProps!=null&&(Te.__s==Te.state&&(Te.__s=N({},Te.__s)),N(Te.__s,Ct.getDerivedStateFromProps(zt,Te.__s))),pe=Te.props,ot=Te.state,ct)Ct.getDerivedStateFromProps==null&&Te.componentWillMount!=null&&Te.componentWillMount(),Te.componentDidMount!=null&&Te.__h.push(Te.componentDidMount);else{if(Ct.getDerivedStateFromProps==null&&zt!==pe&&Te.componentWillReceiveProps!=null&&Te.componentWillReceiveProps(zt,mn),!Te.__e&&Te.shouldComponentUpdate!=null&&Te.shouldComponentUpdate(zt,Te.__s,mn)===!1||se.__v===ye.__v){Te.props=zt,Te.state=Te.__s,se.__v!==ye.__v&&(Te.__d=!1),Te.__v=se,se.__e=ye.__e,se.__k=ye.__k,se.__k.forEach(function(Hn){Hn&&(Hn.__=se)}),Te.__h.length&&xt.push(Te);break e}Te.componentWillUpdate!=null&&Te.componentWillUpdate(zt,Te.__s,mn),Te.componentDidUpdate!=null&&Te.__h.push(function(){Te.componentDidUpdate(pe,ot,Bt)})}Te.context=mn,Te.props=zt,Te.state=Te.__s,(vt=h.__r)&&vt(se),Te.__d=!1,Te.__v=se,Te.__P=fe,vt=Te.render(Te.props,Te.state,Te.context),Te.state=Te.__s,Te.getChildContext!=null&&(De=N(N({},De),Te.getChildContext())),ct||Te.getSnapshotBeforeUpdate==null||(Bt=Te.getSnapshotBeforeUpdate(pe,ot)),kn=vt!=null&&vt.type===ue&&vt.key==null?vt.props.children:vt,H(fe,Array.isArray(kn)?kn:[kn],se,ye,De,Ge,Le,xt,kt,jt),Te.base=se.__e,se.__h=null,Te.__h.length&&xt.push(Te),pn&&(Te.__E=Te.__=null),Te.__e=!1}else Le==null&&se.__v===ye.__v?(se.__k=ye.__k,se.__e=ye.__e):se.__e=Pe(ye.__e,se,ye,De,Ge,Le,xt,jt);(vt=h.diffed)&&vt(se)}catch(Hn){se.__v=null,(jt||Le!=null)&&(se.__e=kt,se.__h=!!jt,Le[Le.indexOf(kt)]=null),h.__e(Hn,se,ye)}}function ve(fe,se){h.__c&&h.__c(se,fe),fe.some(function(ye){try{fe=ye.__h,ye.__h=[],fe.some(function(De){De.call(ye)})}catch(De){h.__e(De,ye.__v)}})}function Pe(fe,se,ye,De,Ge,Le,xt,kt){var jt,vt,Te,ct=ye.props,pe=se.props,ot=se.type,Bt=0;if(ot==="svg"&&(Ge=!0),Le!=null){for(;Bt<Le.length;Bt++)if((jt=Le[Bt])&&"setAttribute"in jt==!!ot&&(ot?jt.localName===ot:jt.nodeType===3)){fe=jt,Le[Bt]=null;break}}if(fe==null){if(ot===null)return document.createTextNode(pe);fe=Ge?document.createElementNS("http://www.w3.org/2000/svg",ot):document.createElement(ot,pe.is&&pe),Le=null,kt=!1}if(ot===null)ct===pe||kt&&fe.data===pe||(fe.data=pe);else{if(Le=Le&&d.call(fe.childNodes),vt=(ct=ye.props||k).dangerouslySetInnerHTML,Te=pe.dangerouslySetInnerHTML,!kt){if(Le!=null)for(ct={},Bt=0;Bt<fe.attributes.length;Bt++)ct[fe.attributes[Bt].name]=fe.attributes[Bt].value;(Te||vt)&&(Te&&(vt&&Te.__html==vt.__html||Te.__html===fe.innerHTML)||(fe.innerHTML=Te&&Te.__html||""))}if(function(pn,zt,nn,mn,kn){var Ct;for(Ct in nn)Ct==="children"||Ct==="key"||Ct in zt||me(pn,Ct,null,nn[Ct],mn);for(Ct in zt)kn&&typeof zt[Ct]!="function"||Ct==="children"||Ct==="key"||Ct==="value"||Ct==="checked"||nn[Ct]===zt[Ct]||me(pn,Ct,zt[Ct],nn[Ct],mn)}(fe,pe,ct,Ge,kt),Te)se.__k=[];else if(Bt=se.props.children,H(fe,Array.isArray(Bt)?Bt:[Bt],se,ye,De,Ge&&ot!=="foreignObject",Le,xt,Le?Le[0]:ye.__k&&ee(ye,0),kt),Le!=null)for(Bt=Le.length;Bt--;)Le[Bt]!=null&&I(Le[Bt]);kt||("value"in pe&&(Bt=pe.value)!==void 0&&(Bt!==ct.value||Bt!==fe.value||ot==="progress"&&!Bt)&&me(fe,"value",Bt,ct.value,!1),"checked"in pe&&(Bt=pe.checked)!==void 0&&Bt!==fe.checked&&me(fe,"checked",Bt,ct.checked,!1))}return fe}function Me(fe,se,ye){try{typeof fe=="function"?fe(se):fe.current=se}catch(De){h.__e(De,ye)}}function $e(fe,se,ye){var De,Ge;if(h.unmount&&h.unmount(fe),(De=fe.ref)&&(De.current&&De.current!==fe.__e||Me(De,null,se)),(De=fe.__c)!=null){if(De.componentWillUnmount)try{De.componentWillUnmount()}catch(Le){h.__e(Le,se)}De.base=De.__P=null}if(De=fe.__k)for(Ge=0;Ge<De.length;Ge++)De[Ge]&&$e(De[Ge],se,typeof fe.type!="function");ye||fe.__e==null||I(fe.__e),fe.__e=fe.__d=void 0}function nt(fe,se,ye){return this.constructor(fe,ye)}function wt(fe,se,ye){var De,Ge,Le;h.__&&h.__(fe,se),Ge=(De=typeof ye=="function")?null:ye&&ye.__k||se.__k,Le=[],je(se,fe=(!De&&ye||se).__k=W(ue,null,[fe]),Ge||k,k,se.ownerSVGElement!==void 0,!De&&ye?[ye]:Ge?null:se.firstChild?d.call(se.childNodes):null,Le,!De&&ye?ye:Ge?Ge.__e:se.firstChild,De),ve(Le,fe)}function Xe(fe,se){wt(fe,se,Xe)}function qe(fe,se,ye){var De,Ge,Le,xt=N({},fe.props);for(Le in se)Le=="key"?De=se[Le]:Le=="ref"?Ge=se[Le]:xt[Le]=se[Le];return arguments.length>2&&(xt.children=arguments.length>3?d.call(arguments,2):ye),U(fe.type,xt,De||fe.key,Ge||fe.ref,null)}function mt(fe,se){var ye={__c:se="__cC"+j++,__:fe,Consumer:function(De,Ge){return De.children(Ge)},Provider:function(De){var Ge,Le;return this.getChildContext||(Ge=[],(Le={})[se]=this,this.getChildContext=function(){return Le},this.shouldComponentUpdate=function(xt){this.props.value!==xt.value&&Ge.some(V)},this.sub=function(xt){Ge.push(xt);var kt=xt.componentWillUnmount;xt.componentWillUnmount=function(){Ge.splice(Ge.indexOf(xt),1),kt&&kt.call(xt)}}),De.children}};return ye.Provider.__=ye.Consumer.contextType=ye}d=T.slice,h={__e:function(fe,se){for(var ye,De,Ge;se=se.__;)if((ye=se.__c)&&!ye.__)try{if((De=ye.constructor)&&De.getDerivedStateFromError!=null&&(ye.setState(De.getDerivedStateFromError(fe)),Ge=ye.__d),ye.componentDidCatch!=null&&(ye.componentDidCatch(fe),Ge=ye.__d),Ge)return ye.__E=ye}catch(Le){fe=Le}throw fe}},m=0,ae.prototype.setState=function(fe,se){var ye;ye=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof fe=="function"&&(fe=fe(N({},ye),this.props)),fe&&N(ye,fe),fe!=null&&this.__v&&(se&&this.__h.push(se),V(this))},ae.prototype.forceUpdate=function(fe){this.__v&&(this.__e=!0,fe&&this.__h.push(fe),V(this))},ae.prototype.render=ue,g=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z.__r=0,j=0},function(a,f,o){(function(d,h){o.d(f,"a",function(){return V}),o.d(f,"b",function(){return rc}),o.d(f,"c",function(){return yo}),o.d(f,"d",function(){return St}),o.d(f,"e",function(){return Ve}),o.d(f,"f",function(){return Ye}),o.d(f,"g",function(){return _t}),o.d(f,"h",function(){return To}),o.d(f,"i",function(){return kn}),o.d(f,"j",function(){return it}),o.d(f,"k",function(){return Wo}),o.d(f,"l",function(){return Yu}),o.d(f,"m",function(){return pn}),o.d(f,"n",function(){return Bi}),o.d(f,"o",function(){return Y}),o.d(f,"p",function(){return es}),o.d(f,"q",function(){return Go}),o.d(f,"r",function(){return Ya}),o.d(f,"s",function(){return to}),o.d(f,"t",function(){return Gn}),o.d(f,"u",function(){return Xa}),o.d(f,"v",function(){return Qc}),o.d(f,"w",function(){return Ju}),o.d(f,"x",function(){return zi}),o.d(f,"y",function(){return eo}),o.d(f,"z",function(){return Jn}),o.d(f,"A",function(){return Ir}),o.d(f,"B",function(){return So}),o.d(f,"C",function(){return vt}),o.d(f,"D",function(){return ts}),o.d(f,"E",function(){return dn}),o.d(f,"F",function(){return hn}),o.d(f,"G",function(){return Hu}),o.d(f,"H",function(){return Uu}),o.d(f,"I",function(){return Qu}),o.d(f,"J",function(){return rr}),o.d(f,"K",function(){return he}),o.d(f,"L",function(){return wn}),o.d(f,"M",function(){return Ka});var m=[];Object.freeze(m);var g={};function E(){return++st.mobxGuid}function P(O){throw j(!1,O),"X"}function j(O,w){if(!O)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function k(O){var w=!1;return function(){if(!w)return w=!0,O.apply(this,arguments)}}var T=function(){};function C(O){return O!==null&&typeof O=="object"}function N(O){if(O===null||typeof O!="object")return!1;var w=Object.getPrototypeOf(O);return w===Object.prototype||w===null}function I(O,w,M){Object.defineProperty(O,w,{enumerable:!1,writable:!0,configurable:!0,value:M})}function W(O,w){var M="isMobX"+O;return w.prototype[M]=!0,function(B){return C(B)&&B[M]===!0}}function U(O){return O instanceof Map}function ne(O){return O instanceof Set}function ue(O){var w=new Set;for(var M in O)w.add(M);return Object.getOwnPropertySymbols(O).forEach(function(B){Object.getOwnPropertyDescriptor(O,B).enumerable&&w.add(B)}),Array.from(w)}function ae(O){return O&&O.toString?O.toString():new String(O).toString()}function ee(O){return O===null?null:typeof O=="object"?""+O:O}var te=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:Object.getOwnPropertyNames,V=Symbol("mobx administration"),z=function(){function O(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ct.NOT_TRACKING}return O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.reportObserved=function(){return Ha(this)},O.prototype.reportChanged=function(){kr(),function(w){w.lowestObserverState!==ct.STALE&&(w.lowestObserverState=ct.STALE,w.observers.forEach(function(M){M.dependenciesState===ct.UP_TO_DATE&&(M.isTracing!==pe.NONE&&ho(M,w),M.onBecomeStale()),M.dependenciesState=ct.STALE}))}(this),Wr()},O.prototype.toString=function(){return this.name},O}(),H=W("Atom",z);function Y(O,w,M){w===void 0&&(w=T),M===void 0&&(M=T);var B,K=new z(O);return w!==T&&Zc("onBecomeObserved",K,w,B),M!==T&&dn(K,M),K}var q={identity:function(O,w){return O===w},structural:function(O,w){return Ne(O,w)},default:function(O,w){return Object.is(O,w)},shallow:function(O,w){return Ne(O,w,1)}},ce=function(O,w){return ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,B){M.__proto__=B}||function(M,B){for(var K in B)B.hasOwnProperty(K)&&(M[K]=B[K])},ce(O,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Ee=function(){return Ee=Object.assign||function(O){for(var w,M=1,B=arguments.length;M<B;M++)for(var K in w=arguments[M])Object.prototype.hasOwnProperty.call(w,K)&&(O[K]=w[K]);return O},Ee.apply(this,arguments)};function me(O){var w=typeof Symbol=="function"&&O[Symbol.iterator],M=0;return w?w.call(O):{next:function(){return O&&M>=O.length&&(O=void 0),{value:O&&O[M++],done:!O}}}}function Ae(O,w){var M=typeof Symbol=="function"&&O[Symbol.iterator];if(!M)return O;var B,K,de=M.call(O),Se=[];try{for(;(w===void 0||w-- >0)&&!(B=de.next()).done;)Se.push(B.value)}catch(Fe){K={error:Fe}}finally{try{B&&!B.done&&(M=de.return)&&M.call(de)}finally{if(K)throw K.error}}return Se}function ze(){for(var O=[],w=0;w<arguments.length;w++)O=O.concat(Ae(arguments[w]));return O}var je=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),Pe={},Me={};function $e(O,w){var M=w?Pe:Me;return M[O]||(M[O]={configurable:!0,enumerable:w,get:function(){return nt(this),this[O]},set:function(B){nt(this),this[O]=B}})}function nt(O){var w,M;if(O[je]!==!0){var B=O[ve];if(B){I(O,je,!0);var K=ze(Object.getOwnPropertySymbols(B),Object.keys(B));try{for(var de=me(K),Se=de.next();!Se.done;Se=de.next()){var Fe=B[Se.value];Fe.propertyCreator(O,Fe.prop,Fe.descriptor,Fe.decoratorTarget,Fe.decoratorArguments)}}catch(at){w={error:at}}finally{try{Se&&!Se.done&&(M=de.return)&&M.call(de)}finally{if(w)throw w.error}}}}}function wt(O,w){return function(){var M,B=function(K,de,Se,Fe){if(Fe===!0)return w(K,de,Se,K,M),null;if(!Object.prototype.hasOwnProperty.call(K,ve)){var at=K[ve];I(K,ve,Ee({},at))}return K[ve][de]={prop:de,propertyCreator:w,descriptor:Se,decoratorTarget:K,decoratorArguments:M},$e(de,O)};return Xe(arguments)?(M=m,B.apply(null,arguments)):(M=Array.prototype.slice.call(arguments),B)}}function Xe(O){return(O.length===2||O.length===3)&&(typeof O[1]=="string"||typeof O[1]=="symbol")||O.length===4&&O[3]===!0}function qe(O,w,M){return zi(O)?O:Array.isArray(O)?vt.array(O,{name:M}):N(O)?vt.object(O,void 0,{name:M}):U(O)?vt.map(O,{name:M}):ne(O)?vt.set(O,{name:M}):O}function mt(O){return O}function fe(O){j(O);var w=wt(!0,function(B,K,de,Se,Fe){var at=de?de.initializer?de.initializer.call(B):de.value:void 0;Gr(B).addObservableProp(K,at,O)}),M=(d!==void 0&&d.env,w);return M.enhancer=O,M}var se={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ye(O){return O==null?se:typeof O=="string"?{name:O,deep:!0,proxy:!0}:O}Object.freeze(se);var De=fe(qe),Ge=fe(function(O,w,M){return O==null||Ir(O)||eo(O)||Jn(O)||jr(O)?O:Array.isArray(O)?vt.array(O,{name:M,deep:!1}):N(O)?vt.object(O,void 0,{name:M,deep:!1}):U(O)?vt.map(O,{name:M,deep:!1}):ne(O)?vt.set(O,{name:M,deep:!1}):P(!1)}),Le=fe(mt),xt=fe(function(O,w,M){return Ne(O,w)?w:O});function kt(O){return O.defaultDecorator?O.defaultDecorator.enhancer:O.deep===!1?mt:qe}var jt={box:function(O,w){arguments.length>2&&Te("box");var M=ye(w);return new Bn(O,kt(M),M.name,!0,M.equals)},array:function(O,w){arguments.length>2&&Te("array");var M=ye(w);return ha(O,kt(M),M.name)},map:function(O,w){arguments.length>2&&Te("map");var M=ye(w);return new rc(O,kt(M),M.name)},set:function(O,w){arguments.length>2&&Te("set");var M=ye(w);return new Ao(O,kt(M),M.name)},object:function(O,w,M){typeof arguments[1]=="string"&&Te("object");var B=ye(M);if(B.proxy===!1)return Go({},O,w,B);var K=Vu(B),de=Go({},void 0,void 0,B),Se=Fi(de);return Jc(Se,O,w,K),Se},ref:Le,shallow:Ge,deep:De,struct:xt},vt=function(O,w,M){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return De.apply(null,arguments);if(zi(O))return O;var B=N(O)?vt.object(O,w,M):Array.isArray(O)?vt.array(O,w):U(O)?vt.map(O,w):ne(O)?vt.set(O,w):O;if(B!==O)return B;P(!1)};function Te(O){P("Expected one or two arguments to observable."+O+". Did you accidentally try to use observable."+O+" as decorator?")}Object.keys(jt).forEach(function(O){return vt[O]=jt[O]});var ct,pe,ot=wt(!1,function(O,w,M,B,K){var de=M.get,Se=M.set,Fe=K[0]||{};Gr(O).addComputedProp(O,w,Ee({get:de,set:Se,context:O},Fe))}),Bt=ot({equals:q.structural}),pn=function(O,w,M){if(typeof w=="string"||O!==null&&typeof O=="object"&&arguments.length===1)return ot.apply(null,arguments);var B=typeof w=="object"?w:{};return B.get=O,B.set=typeof w=="function"?w:B.set,B.name=B.name||O.name||"",new Eo(B)};pn.struct=Bt,function(O){O[O.NOT_TRACKING=-1]="NOT_TRACKING",O[O.UP_TO_DATE=0]="UP_TO_DATE",O[O.POSSIBLY_STALE=1]="POSSIBLY_STALE",O[O.STALE=2]="STALE"}(ct||(ct={})),function(O){O[O.NONE=0]="NONE",O[O.LOG=1]="LOG",O[O.BREAK=2]="BREAK"}(pe||(pe={}));var zt=function(O){this.cause=O};function nn(O){return O instanceof zt}function mn(O){switch(O.dependenciesState){case ct.UP_TO_DATE:return!1;case ct.NOT_TRACKING:case ct.STALE:return!0;case ct.POSSIBLY_STALE:for(var w=Ye(!0),M=ie(),B=O.observing,K=B.length,de=0;de<K;de++){var Se=B[de];if($o(Se)){if(st.disableErrorBoundaries)Se.get();else try{Se.get()}catch(Fe){return _e(M),Ve(w),!0}if(O.dependenciesState===ct.STALE)return _e(M),Ve(w),!0}}return ft(O),_e(M),Ve(w),!1}}function kn(){return st.trackingDerivation!==null}function Ct(O){var w=O.observers.size>0;st.computationDepth>0&&w&&P(!1),st.allowStateChanges||!w&&st.enforceActions!=="strict"||P(!1)}function Hn(O,w,M){var B=Ye(!0);ft(O),O.newObserving=new Array(O.observing.length+100),O.unboundDepsCount=0,O.runId=++st.runId;var K,de=st.trackingDerivation;if(st.trackingDerivation=O,st.disableErrorBoundaries===!0)K=w.call(M);else try{K=w.call(M)}catch(Se){K=new zt(Se)}return st.trackingDerivation=de,function(Se){for(var Fe=Se.observing,at=Se.observing=Se.newObserving,Vt=ct.UP_TO_DATE,Qe=0,_n=Se.unboundDepsCount,$t=0;$t<_n;$t++)(sn=at[$t]).diffValue===0&&(sn.diffValue=1,Qe!==$t&&(at[Qe]=sn),Qe++),sn.dependenciesState>Vt&&(Vt=sn.dependenciesState);for(at.length=Qe,Se.newObserving=null,_n=Fe.length;_n--;)(sn=Fe[_n]).diffValue===0&&Fu(sn,Se),sn.diffValue=0;for(;Qe--;){var sn;(sn=at[Qe]).diffValue===1&&(sn.diffValue=0,kl(sn,Se))}Vt!==ct.UP_TO_DATE&&(Se.dependenciesState=Vt,Se.onBecomeStale())}(O),Ve(B),K}function Q(O){var w=O.observing;O.observing=[];for(var M=w.length;M--;)Fu(w[M],O);O.dependenciesState=ct.NOT_TRACKING}function he(O){var w=ie();try{return O()}finally{_e(w)}}function ie(){var O=st.trackingDerivation;return st.trackingDerivation=null,O}function _e(O){st.trackingDerivation=O}function Ye(O){var w=st.allowStateReads;return st.allowStateReads=O,w}function Ve(O){st.allowStateReads=O}function ft(O){if(O.dependenciesState!==ct.UP_TO_DATE){O.dependenciesState=ct.UP_TO_DATE;for(var w=O.observing,M=w.length;M--;)w[M].lowestObserverState=ct.UP_TO_DATE}}var Ht=0,nr=1,vr=Object.getOwnPropertyDescriptor(function(){},"name");vr&&vr.configurable;function Xn(O,w,M){var B=function(){return Zn(O,w,M||this,arguments)};return B.isMobxAction=!0,B}function Zn(O,w,M,B){var K=it();try{return w.apply(M,B)}catch(de){throw K.error=de,de}finally{_t(K)}}function it(O,w,M){var B=0,K=ie();kr();var de={prevDerivation:K,prevAllowStateChanges:It(!0),prevAllowStateReads:Ye(!0),notifySpy:!1,startTime:B,actionId:nr++,parentActionId:Ht};return Ht=de.actionId,de}function _t(O){Ht!==O.actionId&&P("invalid action stack. did you forget to finish an action?"),Ht=O.parentActionId,O.error!==void 0&&(st.suppressReactionErrors=!0),gn(O.prevAllowStateChanges),Ve(O.prevAllowStateReads),Wr(),_e(O.prevDerivation),O.notifySpy,st.suppressReactionErrors=!1}function St(O,w){var M,B=It(O);try{M=w()}finally{gn(B)}return M}function It(O){var w=st.allowStateChanges;return st.allowStateChanges=O,w}function gn(O){st.allowStateChanges=O}var Bn=function(O){function w(M,B,K,de,Se){K===void 0&&(K="ObservableValue@"+E()),Se===void 0&&(Se=q.default);var Fe=O.call(this,K)||this;return Fe.enhancer=B,Fe.name=K,Fe.equals=Se,Fe.hasUnreportedChange=!1,Fe.value=B(M,void 0,K),Fe}return function(M,B){function K(){this.constructor=M}ce(M,B),M.prototype=B===null?Object.create(B):(K.prototype=B.prototype,new K)}(w,O),w.prototype.dehanceValue=function(M){return this.dehancer!==void 0?this.dehancer(M):M},w.prototype.set=function(M){this.value,(M=this.prepareNewValue(M))!==st.UNCHANGED&&this.setNewValue(M)},w.prototype.prepareNewValue=function(M){if(Ct(this),Rr(this)){var B=rn(this,{object:this,type:"update",newValue:M});if(!B)return st.UNCHANGED;M=B.newValue}return M=this.enhancer(M,this.value,this.name),this.equals(this.value,M)?st.UNCHANGED:M},w.prototype.setNewValue=function(M){var B=this.value;this.value=M,this.reportChanged(),Cr(this)&&pr(this,{type:"update",object:this,newValue:M,oldValue:B})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(M){return Ho(this,M)},w.prototype.observe=function(M,B){return B&&M({object:this,type:"update",newValue:this.value,oldValue:void 0}),Po(this,M)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return ee(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(z),Fo=W("ObservableValue",Bn),Eo=function(){function O(w){this.dependenciesState=ct.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ct.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new zt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=pe.NONE,j(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Xn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?q.structural:q.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return O.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===ct.UP_TO_DATE&&(w.lowestObserverState=ct.POSSIBLY_STALE,w.observers.forEach(function(M){M.dependenciesState===ct.UP_TO_DATE&&(M.dependenciesState=ct.POSSIBLY_STALE,M.isTracing!==pe.NONE&&ho(M,w),M.onBecomeStale())}))})(this)},O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),st.inBatch!==0||this.observers.size!==0||this.keepAlive?(Ha(this),mn(this)&&this.trackAndCompute()&&function(M){M.lowestObserverState!==ct.STALE&&(M.lowestObserverState=ct.STALE,M.observers.forEach(function(B){B.dependenciesState===ct.POSSIBLY_STALE?B.dependenciesState=ct.STALE:B.dependenciesState===ct.UP_TO_DATE&&(M.lowestObserverState=ct.UP_TO_DATE)}))}(this)):mn(this)&&(this.warnAboutUntrackedRead(),kr(),this.value=this.computeValue(!1),Wr());var w=this.value;if(nn(w))throw w.cause;return w},O.prototype.peek=function(){var w=this.computeValue(!1);if(nn(w))throw w.cause;return w},O.prototype.set=function(w){if(this.setter){j(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else j(!1,!1)},O.prototype.trackAndCompute=function(){var w=this.value,M=this.dependenciesState===ct.NOT_TRACKING,B=this.computeValue(!0),K=M||nn(w)||nn(B)||!this.equals(w,B);return K&&(this.value=B),K},O.prototype.computeValue=function(w){var M;if(this.isComputing=!0,st.computationDepth++,w)M=Hn(this,this.derivation,this.scope);else if(st.disableErrorBoundaries===!0)M=this.derivation.call(this.scope);else try{M=this.derivation.call(this.scope)}catch(B){M=new zt(B)}return st.computationDepth--,this.isComputing=!1,M},O.prototype.suspend=function(){this.keepAlive||(Q(this),this.value=void 0)},O.prototype.observe=function(w,M){var B=this,K=!0,de=void 0;return Yu(function(){var Se=B.get();if(!K||M){var Fe=ie();w({type:"update",object:B,newValue:Se,oldValue:de}),_e(Fe)}K=!1,de=Se})},O.prototype.warnAboutUntrackedRead=function(){},O.prototype.toJSON=function(){return this.get()},O.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},O.prototype.valueOf=function(){return ee(this.get())},O.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},O}(),$o=W("ComputedValue",Eo),Li=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Tl={};function zu(){return typeof window!="undefined"?window:h!==void 0?h:typeof self!="undefined"?self:Tl}var Jr=!0,fa=!1,st=function(){var O=zu();return O.__mobxInstanceCount>0&&!O.__mobxGlobals&&(Jr=!1),O.__mobxGlobals&&O.__mobxGlobals.version!==new Li().version&&(Jr=!1),Jr?O.__mobxGlobals?(O.__mobxInstanceCount+=1,O.__mobxGlobals.UNCHANGED||(O.__mobxGlobals.UNCHANGED={}),O.__mobxGlobals):(O.__mobxInstanceCount=1,O.__mobxGlobals=new Li):(setTimeout(function(){fa||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Li)}();function kl(O,w){O.observers.add(w),O.lowestObserverState>w.dependenciesState&&(O.lowestObserverState=w.dependenciesState)}function Fu(O,w){O.observers.delete(w),O.observers.size===0&&$u(O)}function $u(O){O.isPendingUnobservation===!1&&(O.isPendingUnobservation=!0,st.pendingUnobservations.push(O))}function kr(){st.inBatch++}function Wr(){if(--st.inBatch==0){Gu();for(var O=st.pendingUnobservations,w=0;w<O.length;w++){var M=O[w];M.isPendingUnobservation=!1,M.observers.size===0&&(M.isBeingObserved&&(M.isBeingObserved=!1,M.onBecomeUnobserved()),M instanceof Eo&&M.suspend())}st.pendingUnobservations=[]}}function Ha(O){var w=st.trackingDerivation;return w!==null?(w.runId!==O.lastAccessedBy&&(O.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=O,O.isBeingObserved||(O.isBeingObserved=!0,O.onBecomeObserved())),!0):(O.observers.size===0&&st.inBatch>0&&$u(O),!1)}function ho(O,w){if(O.isTracing===pe.BREAK){var M=[];Qr(Gn(O),M,1),new Function(`debugger;
/*
Tracing '`+O.name+`'

You are entering this break point because derivation '`+O.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(O instanceof Eo?O.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+M.join(`
`)+`
*/
    `)()}}function Qr(O,w,M){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(M).join("	")+O.name),O.dependencies&&O.dependencies.forEach(function(B){return Qr(B,w,M+1)}))}var yo=function(){function O(w,M,B,K){w===void 0&&(w="Reaction@"+E()),K===void 0&&(K=!1),this.name=w,this.onInvalidate=M,this.errorHandler=B,this.requiresObservable=K,this.observing=[],this.newObserving=[],this.dependenciesState=ct.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=pe.NONE}return O.prototype.onBecomeStale=function(){this.schedule()},O.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,st.pendingReactions.push(this),Gu())},O.prototype.isScheduled=function(){return this._isScheduled},O.prototype.runReaction=function(){if(!this.isDisposed){if(kr(),this._isScheduled=!1,mn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Wr()}},O.prototype.track=function(w){if(!this.isDisposed){kr(),this._isRunning=!0;var M=Hn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Q(this),nn(M)&&this.reportExceptionInDerivation(M.cause),Wr()}},O.prototype.reportExceptionInDerivation=function(w){var M=this;if(this.errorHandler)this.errorHandler(w,this);else{if(st.disableErrorBoundaries)throw w;st.suppressReactionErrors,st.globalReactionErrorHandlers.forEach(function(B){return B(w,M)})}},O.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(kr(),Q(this),Wr()))},O.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[V]=this,w},O.prototype.toString=function(){return"Reaction["+this.name+"]"},O.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var M=[],B=0;B<arguments.length;B++)M[B]=arguments[B];var K=!1;typeof M[M.length-1]=="boolean"&&(K=M.pop());var de=un(M);if(!de)return P(!1);de.isTracing,pe.NONE,de.isTracing=K?pe.BREAK:pe.LOG}(this,w)},O}(),Wu=function(O){return O()};function Gu(){st.inBatch>0||st.isRunningReactions||Wu(Yc)}function Yc(){st.isRunningReactions=!0;for(var O=st.pendingReactions,w=0;O.length>0;){++w==100&&O.splice(0);for(var M=O.splice(0),B=0,K=M.length;B<K;B++)M[B].runReaction()}st.isRunningReactions=!1}var pa=W("Reaction",yo);function Vc(O){var w=Wu;Wu=function(M){return O(function(){return w(M)})}}function Uu(O){return function(){}}function Dl(){P(!1)}function di(O){return function(w,M,B){if(B){if(B.value)return{value:Xn(O,B.value),enumerable:!1,configurable:!0,writable:!0};var K=B.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Xn(O,K.call(this))}}}return Kc(O).apply(this,arguments)}}function Kc(O){return function(w,M,B){Object.defineProperty(w,M,{configurable:!0,enumerable:!1,get:function(){},set:function(K){I(this,M,Wo(O,K))}})}}var Wo=function(O,w,M,B){return arguments.length===1&&typeof O=="function"?Xn(O.name||"<unnamed action>",O):arguments.length===2&&typeof w=="function"?Xn(O,w):arguments.length===1&&typeof O=="string"?di(O):B!==!0?di(w).apply(null,arguments):void I(O,w,Xn(O.name||w,M.value,this))};function Hu(O,w){return Zn(typeof O=="string"?O:O.name||"<unnamed action>",typeof O=="function"?O:w,this,void 0)}function Xa(O){return typeof O=="function"&&O.isMobxAction===!0}function Xu(O,w,M){I(O,w,Xn(w,M.bind(O)))}function Yu(O,w){w===void 0&&(w=g);var M,B=w&&w.name||O.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)M=new yo(B,function(){this.track(Se)},w.onError,w.requiresObservable);else{var K=qc(w),de=!1;M=new yo(B,function(){de||(de=!0,K(function(){de=!1,M.isDisposed||M.track(Se)}))},w.onError,w.requiresObservable)}function Se(){O(M)}return M.schedule(),M.getDisposer()}Wo.bound=function(O,w,M,B){return B===!0?(Xu(O,w,M.value),null):M?{configurable:!0,enumerable:!1,get:function(){return Xu(this,w,M.value||M.initializer.call(this)),this[w]},set:Dl}:{enumerable:!1,configurable:!0,set:function(K){Xu(this,w,K)},get:function(){}}};var Nl=function(O){return O()};function qc(O){return O.scheduler?O.scheduler:O.delay?function(w){return setTimeout(w,O.delay)}:Nl}function hn(O,w,M){M===void 0&&(M=g);var B,K,de,Se=M.name||"Reaction@"+E(),Fe=Wo(Se,M.onError?(B=M.onError,K=w,function(){try{return K.apply(this,arguments)}catch(Nn){B.call(this,Nn)}}):w),at=!M.scheduler&&!M.delay,Vt=qc(M),Qe=!0,_n=!1,$t=M.compareStructural?q.structural:M.equals||q.default,sn=new yo(Se,function(){Qe||at?no():_n||(_n=!0,Vt(no))},M.onError,M.requiresObservable);function no(){if(_n=!1,!sn.isDisposed){var Nn=!1;sn.track(function(){var Lr=O(sn);Nn=Qe||!$t(de,Lr),de=Lr}),Qe&&M.fireImmediately&&Fe(de,sn),Qe||Nn!==!0||Fe(de,sn),Qe&&(Qe=!1)}}return sn.schedule(),sn.getDisposer()}function dn(O,w,M){return Zc("onBecomeUnobserved",O,w,M)}function Zc(O,w,M,B){var K=typeof B=="function"?to(w,M):to(w),de=typeof B=="function"?B:M,Se=O+"Listeners";return K[Se]?K[Se].add(de):K[Se]=new Set([de]),typeof K[O]!="function"?P(!1):function(){var Fe=K[Se];Fe&&(Fe.delete(de),Fe.size===0&&delete K[Se])}}function Bi(O){var w=O.enforceActions,M=O.computedRequiresReaction,B=O.computedConfigurable,K=O.disableErrorBoundaries,de=O.reactionScheduler,Se=O.reactionRequiresObservable,Fe=O.observableRequiresReaction;if(O.isolateGlobalState===!0&&((st.pendingReactions.length||st.inBatch||st.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),fa=!0,Jr&&(--zu().__mobxInstanceCount==0&&(zu().__mobxGlobals=void 0),st=new Li)),w!==void 0){var at=void 0;switch(w){case!0:case"observed":at=!0;break;case!1:case"never":at=!1;break;case"strict":case"always":at="strict";break;default:P("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}st.enforceActions=at,st.allowStateChanges=at!==!0&&at!=="strict"}M!==void 0&&(st.computedRequiresReaction=!!M),Se!==void 0&&(st.reactionRequiresObservable=!!Se),Fe!==void 0&&(st.observableRequiresReaction=!!Fe,st.allowStateReads=!st.observableRequiresReaction),B!==void 0&&(st.computedConfigurable=!!B),K!==void 0&&(st.disableErrorBoundaries=!!K),de&&Vc(de)}function Go(O,w,M,B){var K=Vu(B=ye(B));return nt(O),Gr(O,B.name,K.enhancer),w&&Jc(O,w,M,K),O}function Vu(O){return O.defaultDecorator||(O.deep===!1?Le:De)}function Jc(O,w,M,B){var K,de;kr();try{var Se=te(w);try{for(var Fe=me(Se),at=Fe.next();!at.done;at=Fe.next()){var Vt=at.value,Qe=Object.getOwnPropertyDescriptor(w,Vt),_n=(M&&Vt in M?M[Vt]:Qe.get?ot:B)(O,Vt,Qe,!0);_n&&Object.defineProperty(O,Vt,_n)}}catch($t){K={error:$t}}finally{try{at&&!at.done&&(de=Fe.return)&&de.call(Fe)}finally{if(K)throw K.error}}}finally{Wr()}}function Gn(O,w){return Ku(to(O,w))}function Ku(O){var w,M,B={name:O.name};return O.observing&&O.observing.length>0&&(B.dependencies=(w=O.observing,M=[],w.forEach(function(K){M.indexOf(K)===-1&&M.push(K)}),M).map(Ku)),B}var da=0;function qu(){this.message="FLOW_CANCELLED"}function Ya(O){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var w=O.name||"<unnamed flow>";return function(){var M,B=this,K=arguments,de=++da,Se=Wo(w+" - runid: "+de+" - init",O).apply(B,K),Fe=void 0,at=new Promise(function(Vt,Qe){var _n=0;function $t(Nn){var Lr;Fe=void 0;try{Lr=Wo(w+" - runid: "+de+" - yield "+_n++,Se.next).call(Se,Nn)}catch(Yo){return Qe(Yo)}no(Lr)}function sn(Nn){var Lr;Fe=void 0;try{Lr=Wo(w+" - runid: "+de+" - yield "+_n++,Se.throw).call(Se,Nn)}catch(Yo){return Qe(Yo)}no(Lr)}function no(Nn){if(!Nn||typeof Nn.then!="function")return Nn.done?Vt(Nn.value):(Fe=Promise.resolve(Nn.value)).then($t,sn);Nn.then(no,Qe)}M=Qe,$t(void 0)});return at.cancel=Wo(w+" - runid: "+de+" - cancel",function(){try{Fe&&gr(Fe);var Vt=Se.return(void 0),Qe=Promise.resolve(Vt.value);Qe.then(T,T),gr(Qe),M(new qu)}catch(_n){M(_n)}}),at}}function gr(O){typeof O.cancel=="function"&&O.cancel()}function Zu(O,w){if(O==null)return!1;if(w!==void 0){if(Ir(O)===!1||!O[V].values.has(w))return!1;var M=to(O,w);return $o(M)}return $o(O)}function Qc(O){return arguments.length>1?P(!1):Zu(O)}function Ju(O,w){return typeof w!="string"?P(!1):Zu(O,w)}function Va(O,w){return O!=null&&(w!==void 0?!!Ir(O)&&O[V].values.has(w):Ir(O)||!!O[V]||H(O)||pa(O)||$o(O))}function zi(O){return arguments.length!==1&&P(!1),Va(O)}function So(O){return Ir(O)?O[V].getKeys():Jn(O)||jr(O)?Array.from(O.keys()):eo(O)?O.map(function(w,M){return M}):P(!1)}function wn(O){return Ir(O)?So(O).map(function(w){return O[w]}):Jn(O)?So(O).map(function(w){return O.get(w)}):jr(O)?Array.from(O.values()):eo(O)?O.slice():P(!1)}function es(O){return Ir(O)?So(O).map(function(w){return[w,O[w]]}):Jn(O)?So(O).map(function(w){return[w,O.get(w)]}):jr(O)?Array.from(O.entries()):eo(O)?O.map(function(w,M){return[M,w]}):P(!1)}function Dr(O,w,M){if(arguments.length!==2||jr(O))if(Ir(O)){var B=O[V],K=B.values.get(w);K?B.write(w,M):B.addObservableProp(w,M,B.defaultEnhancer)}else if(Jn(O))O.set(w,M);else if(jr(O))O.add(w);else{if(!eo(O))return P(!1);typeof w!="number"&&(w=parseInt(w,10)),j(w>=0,"Not a valid index: '"+w+"'"),kr(),w>=O.length&&(O.length=w+1),O[w]=M,Wr()}else{kr();var de=w;try{for(var Se in de)Dr(O,Se,de[Se])}finally{Wr()}}}function ts(O,w,M,B){return typeof M=="function"?function(K,de,Se,Fe){return To(K,de).observe(Se,Fe)}(O,w,M,B):function(K,de,Se){return To(K).observe(de,Se)}(O,w,M)}qu.prototype=Object.create(Error.prototype);var ns={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Sr(O,w,M,B){return B.detectCycles&&O.set(w,M),M}function Nr(O,w,M){if(!w.recurseEverything&&!zi(O)||typeof O!="object")return O;if(O===null)return null;if(O instanceof Date)return O;if(Fo(O))return Nr(O.get(),w,M);if(zi(O)&&So(O),w.detectCycles===!0&&O!==null&&M.has(O))return M.get(O);if(eo(O)||Array.isArray(O)){var B=Sr(M,O,[],w),K=O.map(function($t){return Nr($t,w,M)});B.length=K.length;for(var de=0,Se=K.length;de<Se;de++)B[de]=K[de];return B}if(jr(O)||Object.getPrototypeOf(O)===Set.prototype){if(w.exportMapsAsObjects===!1){var Fe=Sr(M,O,new Set,w);return O.forEach(function($t){Fe.add(Nr($t,w,M))}),Fe}var at=Sr(M,O,[],w);return O.forEach(function($t){at.push(Nr($t,w,M))}),at}if(Jn(O)||Object.getPrototypeOf(O)===Map.prototype){if(w.exportMapsAsObjects===!1){var Vt=Sr(M,O,new Map,w);return O.forEach(function($t,sn){Vt.set(sn,Nr($t,w,M))}),Vt}var Qe=Sr(M,O,{},w);return O.forEach(function($t,sn){Qe[sn]=Nr($t,w,M)}),Qe}var _n=Sr(M,O,{},w);return ue(O).forEach(function($t){_n[$t]=Nr(O[$t],w,M)}),_n}function Qu(O,w){var M;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=ns),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(M=new Map),Nr(O,w,M)}function un(O){switch(O.length){case 0:return st.trackingDerivation;case 1:return to(O[0]);case 2:return to(O[0],O[1])}}function rr(O,w){w===void 0&&(w=void 0),kr();try{return O.apply(w)}finally{Wr()}}function Ka(O,w,M){return arguments.length===1||w&&typeof w=="object"?ec(O,w):rs(O,w,M||{})}function rs(O,w,M){var B;typeof M.timeout=="number"&&(B=setTimeout(function(){if(!de[V].isDisposed){de();var Se=new Error("WHEN_TIMEOUT");if(!M.onError)throw Se;M.onError(Se)}},M.timeout)),M.name=M.name||"When@"+E();var K=Xn(M.name+"-effect",w),de=Yu(function(Se){O()&&(Se.dispose(),B&&clearTimeout(B),K())},M);return de}function ec(O,w){var M,B=new Promise(function(K,de){var Se=rs(O,K,Ee(Ee({},w),{onError:de}));M=function(){Se(),de("WHEN_CANCELLED")}});return B.cancel=M,B}function qa(O){return O[V]}function jo(O){return typeof O=="string"||typeof O=="number"||typeof O=="symbol"}var Uo={has:function(O,w){if(w===V||w==="constructor"||w===je)return!0;var M=qa(O);return jo(w)?M.has(w):w in O},get:function(O,w){if(w===V||w==="constructor"||w===je)return O[w];var M=qa(O),B=M.values.get(w);if(B instanceof z){var K=B.get();return K===void 0&&M.has(w),K}return jo(w)&&M.has(w),O[w]},set:function(O,w,M){return!!jo(w)&&(Dr(O,w,M),!0)},deleteProperty:function(O,w){return!!jo(w)&&(qa(O).remove(w),!0)},ownKeys:function(O){return qa(O).keysAtom.reportObserved(),Reflect.ownKeys(O)},preventExtensions:function(O){return P("Dynamic observable objects cannot be frozen"),!1}};function Fi(O){var w=new Proxy(O,Uo);return O[V].proxy=w,w}function Rr(O){return O.interceptors!==void 0&&O.interceptors.length>0}function Ho(O,w){var M=O.interceptors||(O.interceptors=[]);return M.push(w),k(function(){var B=M.indexOf(w);B!==-1&&M.splice(B,1)})}function rn(O,w){var M=ie();try{for(var B=ze(O.interceptors||[]),K=0,de=B.length;K<de&&(j(!(w=B[K](w))||w.type,"Intercept handlers should return nothing or a change object"),w);K++);return w}finally{_e(M)}}function Cr(O){return O.changeListeners!==void 0&&O.changeListeners.length>0}function Po(O,w){var M=O.changeListeners||(O.changeListeners=[]);return M.push(w),k(function(){var B=M.indexOf(w);B!==-1&&M.splice(B,1)})}function pr(O,w){var M=ie(),B=O.changeListeners;if(B){for(var K=0,de=(B=B.slice()).length;K<de;K++)B[K](w);_e(M)}}var Za={get:function(O,w){return w===V?O[V]:w==="length"?O[V].getArrayLength():typeof w=="number"?zn.get.call(O,w):typeof w!="string"||isNaN(w)?zn.hasOwnProperty(w)?zn[w]:O[w]:zn.get.call(O,parseInt(w))},set:function(O,w,M){return w==="length"&&O[V].setArrayLength(M),typeof w=="number"&&zn.set.call(O,w,M),typeof w=="symbol"||isNaN(w)?O[w]=M:zn.set.call(O,parseInt(w),M),!0},preventExtensions:function(O){return P("Observable arrays cannot be frozen"),!1}};function ha(O,w,M,B){M===void 0&&(M="ObservableArray@"+E()),B===void 0&&(B=!1);var K,de,Se,Fe=new tc(M,w,B);K=Fe.values,de=V,Se=Fe,Object.defineProperty(K,de,{enumerable:!1,writable:!1,configurable:!0,value:Se});var at=new Proxy(Fe.values,Za);if(Fe.proxy=at,O&&O.length){var Vt=It(!0);Fe.spliceWithArray(0,0,O),gn(Vt)}return at}var tc=function(){function O(w,M,B){this.owned=B,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new z(w||"ObservableArray@"+E()),this.enhancer=function(K,de){return M(K,de,w+"[..]")}}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},O.prototype.intercept=function(w){return Ho(this,w)},O.prototype.observe=function(w,M){return M===void 0&&(M=!1),M&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Po(this,w)},O.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},O.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var M=this.values.length;if(w!==M)if(w>M){for(var B=new Array(w-M),K=0;K<w-M;K++)B[K]=void 0;this.spliceWithArray(M,0,B)}else this.spliceWithArray(w,M-w)},O.prototype.updateArrayLength=function(w,M){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=M},O.prototype.spliceWithArray=function(w,M,B){var K=this;Ct(this.atom);var de=this.values.length;if(w===void 0?w=0:w>de?w=de:w<0&&(w=Math.max(0,de+w)),M=arguments.length===1?de-w:M==null?0:Math.max(0,Math.min(M,de-w)),B===void 0&&(B=m),Rr(this)){var Se=rn(this,{object:this.proxy,type:"splice",index:w,removedCount:M,added:B});if(!Se)return m;M=Se.removedCount,B=Se.added}B=B.length===0?B:B.map(function(at){return K.enhancer(at,void 0)});var Fe=this.spliceItemsIntoValues(w,M,B);return M===0&&B.length===0||this.notifyArraySplice(w,B,Fe),this.dehanceValues(Fe)},O.prototype.spliceItemsIntoValues=function(w,M,B){var K;if(B.length<1e4)return(K=this.values).splice.apply(K,ze([w,M],B));var de=this.values.slice(w,w+M);return this.values=this.values.slice(0,w).concat(B,this.values.slice(w+M)),de},O.prototype.notifyArrayChildUpdate=function(w,M,B){var K=!this.owned&&!1,de=Cr(this),Se=de||K?{object:this.proxy,type:"update",index:w,newValue:M,oldValue:B}:null;this.atom.reportChanged(),de&&pr(this,Se)},O.prototype.notifyArraySplice=function(w,M,B){var K=!this.owned&&!1,de=Cr(this),Se=de||K?{object:this.proxy,type:"splice",index:w,removed:B,added:M,removedCount:B.length,addedCount:M.length}:null;this.atom.reportChanged(),de&&pr(this,Se)},O}(),zn={intercept:function(O){return this[V].intercept(O)},observe:function(O,w){return w===void 0&&(w=!1),this[V].observe(O,w)},clear:function(){return this.splice(0)},replace:function(O){var w=this[V];return w.spliceWithArray(0,w.values.length,O)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(O,w){for(var M=[],B=2;B<arguments.length;B++)M[B-2]=arguments[B];var K=this[V];switch(arguments.length){case 0:return[];case 1:return K.spliceWithArray(O);case 2:return K.spliceWithArray(O,w)}return K.spliceWithArray(O,w,M)},spliceWithArray:function(O,w,M){return this[V].spliceWithArray(O,w,M)},push:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var M=this[V];return M.spliceWithArray(M.values.length,0,O),M.values.length},pop:function(){return this.splice(Math.max(this[V].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var M=this[V];return M.spliceWithArray(0,0,O),M.values.length},reverse:function(){var O=this.slice();return O.reverse.apply(O,arguments)},sort:function(O){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(O){var w=this[V],M=w.dehanceValues(w.values).indexOf(O);return M>-1&&(this.splice(M,1),!0)},get:function(O){var w=this[V];if(w&&O<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[O])},set:function(O,w){var M=this[V],B=M.values;if(O<B.length){Ct(M.atom);var K=B[O];if(Rr(M)){var de=rn(M,{type:"update",object:M.proxy,index:O,newValue:w});if(!de)return;w=de.newValue}(w=M.enhancer(w,K))!==K&&(B[O]=w,M.notifyArrayChildUpdate(O,w,K))}else{if(O!==B.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+B.length);M.spliceWithArray(O,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(O){typeof Array.prototype[O]=="function"&&(zn[O]=function(){var w=this[V];w.atom.reportObserved();var M=w.dehanceValues(w.values);return M[O].apply(M,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(O){typeof Array.prototype[O]=="function"&&(zn[O]=function(w,M){var B=this,K=this[V];return K.atom.reportObserved(),K.dehanceValues(K.values)[O](function(de,Se){return w.call(M,de,Se,B)},M)})}),["reduce","reduceRight"].forEach(function(O){zn[O]=function(){var w=this,M=this[V];M.atom.reportObserved();var B=arguments[0];return arguments[0]=function(K,de,Se){return de=M.dehanceValue(de),B(K,de,Se,w)},M.values[O].apply(M.values,arguments)}});var Ja,Xo=W("ObservableArrayAdministration",tc);function eo(O){return C(O)&&Xo(O[V])}var nc,Rl={},rc=function(){function O(w,M,B){if(M===void 0&&(M=qe),B===void 0&&(B="ObservableMap@"+E()),this.enhancer=M,this.name=B,this[Ja]=Rl,this._keysAtom=Y(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return O.prototype._has=function(w){return this._data.has(w)},O.prototype.has=function(w){var M=this;if(!st.trackingDerivation)return this._has(w);var B=this._hasMap.get(w);if(!B){var K=B=new Bn(this._has(w),mt,this.name+"."+ae(w)+"?",!1);this._hasMap.set(w,K),dn(K,function(){return M._hasMap.delete(w)})}return B.get()},O.prototype.set=function(w,M){var B=this._has(w);if(Rr(this)){var K=rn(this,{type:B?"update":"add",object:this,newValue:M,name:w});if(!K)return this;M=K.newValue}return B?this._updateValue(w,M):this._addValue(w,M),this},O.prototype.delete=function(w){var M=this;if(Ct(this._keysAtom),Rr(this)&&!(K=rn(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var B=Cr(this),K=B?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return rr(function(){M._keysAtom.reportChanged(),M._updateHasMapEntry(w,!1),M._data.get(w).setNewValue(void 0),M._data.delete(w)}),B&&pr(this,K),!0}return!1},O.prototype._updateHasMapEntry=function(w,M){var B=this._hasMap.get(w);B&&B.setNewValue(M)},O.prototype._updateValue=function(w,M){var B=this._data.get(w);if((M=B.prepareNewValue(M))!==st.UNCHANGED){var K=Cr(this),de=K?{type:"update",object:this,oldValue:B.value,name:w,newValue:M}:null;B.setNewValue(M),K&&pr(this,de)}},O.prototype._addValue=function(w,M){var B=this;Ct(this._keysAtom),rr(function(){var Se=new Bn(M,B.enhancer,B.name+"."+ae(w),!1);B._data.set(w,Se),M=Se.value,B._updateHasMapEntry(w,!0),B._keysAtom.reportChanged()});var K=Cr(this),de=K?{type:"add",object:this,name:w,newValue:M}:null;K&&pr(this,de)},O.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},O.prototype.values=function(){var w=this,M=this.keys();return Jt({next:function(){var B=M.next(),K=B.done,de=B.value;return{done:K,value:K?void 0:w.get(de)}}})},O.prototype.entries=function(){var w=this,M=this.keys();return Jt({next:function(){var B=M.next(),K=B.done,de=B.value;return{done:K,value:K?void 0:[de,w.get(de)]}}})},O.prototype[Ja=V,Symbol.iterator]=function(){return this.entries()},O.prototype.forEach=function(w,M){var B,K;try{for(var de=me(this),Se=de.next();!Se.done;Se=de.next()){var Fe=Ae(Se.value,2),at=Fe[0],Vt=Fe[1];w.call(M,Vt,at,this)}}catch(Qe){B={error:Qe}}finally{try{Se&&!Se.done&&(K=de.return)&&K.call(de)}finally{if(B)throw B.error}}},O.prototype.merge=function(w){var M=this;return Jn(w)&&(w=w.toJS()),rr(function(){var B=It(!0);try{N(w)?ue(w).forEach(function(K){return M.set(K,w[K])}):Array.isArray(w)?w.forEach(function(K){var de=Ae(K,2),Se=de[0],Fe=de[1];return M.set(Se,Fe)}):U(w)?(w.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(K,de){return M.set(de,K)})):w!=null&&P("Cannot initialize map from "+w)}finally{gn(B)}}),this},O.prototype.clear=function(){var w=this;rr(function(){he(function(){var M,B;try{for(var K=me(w.keys()),de=K.next();!de.done;de=K.next()){var Se=de.value;w.delete(Se)}}catch(Fe){M={error:Fe}}finally{try{de&&!de.done&&(B=K.return)&&B.call(K)}finally{if(M)throw M.error}}})})},O.prototype.replace=function(w){var M=this;return rr(function(){var B,K,de,Se,Fe=function(Pr){if(U(Pr)||Jn(Pr))return Pr;if(Array.isArray(Pr))return new Map(Pr);if(N(Pr)){var va=new Map;for(var Wi in Pr)va.set(Wi,Pr[Wi]);return va}return P("Cannot convert to map from '"+Pr+"'")}(w),at=new Map,Vt=!1;try{for(var Qe=me(M._data.keys()),_n=Qe.next();!_n.done;_n=Qe.next()){var $t=_n.value;if(!Fe.has($t))if(M.delete($t))Vt=!0;else{var sn=M._data.get($t);at.set($t,sn)}}}catch(Pr){B={error:Pr}}finally{try{_n&&!_n.done&&(K=Qe.return)&&K.call(Qe)}finally{if(B)throw B.error}}try{for(var no=me(Fe.entries()),Nn=no.next();!Nn.done;Nn=no.next()){var Lr=Ae(Nn.value,2),Yo=($t=Lr[0],sn=Lr[1],M._data.has($t));if(M.set($t,sn),M._data.has($t)){var Vo=M._data.get($t);at.set($t,Vo),Yo||(Vt=!0)}}}catch(Pr){de={error:Pr}}finally{try{Nn&&!Nn.done&&(Se=no.return)&&Se.call(no)}finally{if(de)throw de.error}}if(!Vt)if(M._data.size!==at.size)M._keysAtom.reportChanged();else for(var ya=M._data.keys(),ic=at.keys(),yi=ya.next(),eu=ic.next();!yi.done;){if(yi.value!==eu.value){M._keysAtom.reportChanged();break}yi=ya.next(),eu=ic.next()}M._data=at}),this},Object.defineProperty(O.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.toPOJO=function(){var w,M,B={};try{for(var K=me(this),de=K.next();!de.done;de=K.next()){var Se=Ae(de.value,2),Fe=Se[0],at=Se[1];B[typeof Fe=="symbol"?Fe:ae(Fe)]=at}}catch(Vt){w={error:Vt}}finally{try{de&&!de.done&&(M=K.return)&&M.call(K)}finally{if(w)throw w.error}}return B},O.prototype.toJS=function(){return new Map(this)},O.prototype.toJSON=function(){return this.toPOJO()},O.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(M){return ae(M)+": "+w.get(M)}).join(", ")+" }]"},O.prototype.observe=function(w,M){return Po(this,w)},O.prototype.intercept=function(w){return Ho(this,w)},O}(),Jn=W("ObservableMap",rc),$i={},Ao=function(){function O(w,M,B){if(M===void 0&&(M=qe),B===void 0&&(B="ObservableSet@"+E()),this.name=B,this[nc]=$i,this._data=new Set,this._atom=Y(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(K,de){return M(K,de,B)},w&&this.replace(w)}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.clear=function(){var w=this;rr(function(){he(function(){var M,B;try{for(var K=me(w._data.values()),de=K.next();!de.done;de=K.next()){var Se=de.value;w.delete(Se)}}catch(Fe){M={error:Fe}}finally{try{de&&!de.done&&(B=K.return)&&B.call(K)}finally{if(M)throw M.error}}})})},O.prototype.forEach=function(w,M){var B,K;try{for(var de=me(this),Se=de.next();!Se.done;Se=de.next()){var Fe=Se.value;w.call(M,Fe,Fe,this)}}catch(at){B={error:at}}finally{try{Se&&!Se.done&&(K=de.return)&&K.call(de)}finally{if(B)throw B.error}}},Object.defineProperty(O.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.add=function(w){var M=this;if(Ct(this._atom),Rr(this)&&!(K=rn(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){rr(function(){M._data.add(M.enhancer(w,void 0)),M._atom.reportChanged()});var B=Cr(this),K=B?{type:"add",object:this,newValue:w}:null;B&&pr(this,K)}return this},O.prototype.delete=function(w){var M=this;if(Rr(this)&&!(K=rn(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var B=Cr(this),K=B?{type:"delete",object:this,oldValue:w}:null;return rr(function(){M._atom.reportChanged(),M._data.delete(w)}),B&&pr(this,K),!0}return!1},O.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},O.prototype.entries=function(){var w=0,M=Array.from(this.keys()),B=Array.from(this.values());return Jt({next:function(){var K=w;return w+=1,K<B.length?{value:[M[K],B[K]],done:!1}:{done:!0}}})},O.prototype.keys=function(){return this.values()},O.prototype.values=function(){this._atom.reportObserved();var w=this,M=0,B=Array.from(this._data.values());return Jt({next:function(){return M<B.length?{value:w.dehanceValue(B[M++]),done:!1}:{done:!0}}})},O.prototype.replace=function(w){var M=this;return jr(w)&&(w=w.toJS()),rr(function(){var B=It(!0);try{Array.isArray(w)||ne(w)?(M.clear(),w.forEach(function(K){return M.add(K)})):w!=null&&P("Cannot initialize set from "+w)}finally{gn(B)}}),this},O.prototype.observe=function(w,M){return Po(this,w)},O.prototype.intercept=function(w){return Ho(this,w)},O.prototype.toJS=function(){return new Set(this)},O.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},O.prototype[nc=V,Symbol.iterator]=function(){return this.values()},O}(),jr=W("ObservableSet",Ao),oc=function(){function O(w,M,B,K){M===void 0&&(M=new Map),this.target=w,this.values=M,this.name=B,this.defaultEnhancer=K,this.keysAtom=new z(B+".keys")}return O.prototype.read=function(w){return this.values.get(w).get()},O.prototype.write=function(w,M){var B=this.target,K=this.values.get(w);if(K instanceof Eo)K.set(M);else{if(Rr(this)){if(!(Se=rn(this,{type:"update",object:this.proxy||B,name:w,newValue:M})))return;M=Se.newValue}if((M=K.prepareNewValue(M))!==st.UNCHANGED){var de=Cr(this),Se=de?{type:"update",object:this.proxy||B,oldValue:K.value,name:w,newValue:M}:null;K.setNewValue(M),de&&pr(this,Se)}}},O.prototype.has=function(w){var M=this.pendingKeys||(this.pendingKeys=new Map),B=M.get(w);if(B)return B.get();var K=!!this.values.get(w);return B=new Bn(K,mt,this.name+"."+ae(w)+"?",!1),M.set(w,B),B.get()},O.prototype.addObservableProp=function(w,M,B){B===void 0&&(B=this.defaultEnhancer);var K=this.target;if(Rr(this)){var de=rn(this,{object:this.proxy||K,name:w,type:"add",newValue:M});if(!de)return;M=de.newValue}var Se=new Bn(M,B,this.name+"."+ae(w),!1);this.values.set(w,Se),M=Se.value,Object.defineProperty(K,w,function(Fe){return hi[Fe]||(hi[Fe]={configurable:!0,enumerable:!0,get:function(){return this[V].read(Fe)},set:function(at){this[V].write(Fe,at)}})}(w)),this.notifyPropertyAddition(w,M)},O.prototype.addComputedProp=function(w,M,B){var K,de,Se,Fe=this.target;B.name=B.name||this.name+"."+ae(M),this.values.set(M,new Eo(B)),(w===Fe||(K=w,de=M,!(Se=Object.getOwnPropertyDescriptor(K,de))||Se.configurable!==!1&&Se.writable!==!1))&&Object.defineProperty(w,M,function(at){return Qa[at]||(Qa[at]={configurable:st.computedConfigurable,enumerable:!1,get:function(){return Mo(this).read(at)},set:function(Vt){Mo(this).write(at,Vt)}})}(M))},O.prototype.remove=function(w){if(this.values.has(w)){var M=this.target;if(Rr(this)&&!(at=rn(this,{object:this.proxy||M,name:w,type:"remove"})))return;try{kr();var B=Cr(this),K=!1,de=this.values.get(w),Se=de&&de.get();if(de&&de.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var Fe=this.pendingKeys.get(w);Fe&&Fe.set(!1)}delete this.target[w];var at=B?{type:"remove",object:this.proxy||M,oldValue:Se,name:w}:null;B&&pr(this,at)}finally{Wr()}}},O.prototype.illegalAccess=function(w,M){},O.prototype.observe=function(w,M){return Po(this,w)},O.prototype.intercept=function(w){return Ho(this,w)},O.prototype.notifyPropertyAddition=function(w,M){var B=Cr(this),K=B?{type:"add",object:this.proxy||this.target,name:w,newValue:M}:null;if(B&&pr(this,K),this.pendingKeys){var de=this.pendingKeys.get(w);de&&de.set(!0)}this.keysAtom.reportChanged()},O.prototype.getKeys=function(){var w,M;this.keysAtom.reportObserved();var B=[];try{for(var K=me(this.values),de=K.next();!de.done;de=K.next()){var Se=Ae(de.value,2),Fe=Se[0];Se[1]instanceof Bn&&B.push(Fe)}}catch(at){w={error:at}}finally{try{de&&!de.done&&(M=K.return)&&M.call(K)}finally{if(w)throw w.error}}return B},O}();function Gr(O,w,M){if(w===void 0&&(w=""),M===void 0&&(M=qe),Object.prototype.hasOwnProperty.call(O,V))return O[V];N(O)||(w=(O.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var B=new oc(O,new Map,ae(w),M);return I(O,V,B),B}var hi=Object.create(null),Qa=Object.create(null);function Mo(O){var w=O[V];return w||(nt(O),O[V])}var Ur=W("ObservableObjectAdministration",oc);function Ir(O){return!!C(O)&&(nt(O),Ur(O[V]))}function to(O,w){if(typeof O=="object"&&O!==null){if(eo(O))return w!==void 0&&P(!1),O[V].atom;if(jr(O))return O[V];if(Jn(O)){var M=O;return w===void 0?M._keysAtom:((B=M._data.get(w)||M._hasMap.get(w))||P(!1),B)}var B;if(nt(O),w&&!O[V]&&O[w],Ir(O))return w?((B=O[V].values.get(w))||P(!1),B):P(!1);if(H(O)||$o(O)||pa(O))return O}else if(typeof O=="function"&&pa(O[V]))return O[V];return P(!1)}function To(O,w){return O||P("Expecting some object"),w!==void 0?To(to(O,w)):H(O)||$o(O)||pa(O)||Jn(O)||jr(O)?O:(nt(O),O[V]?O[V]:void P(!1))}var we=Object.prototype.toString;function Ne(O,w,M){return M===void 0&&(M=-1),Ie(O,w,M)}function Ie(O,w,M,B,K){if(O===w)return O!==0||1/O==1/w;if(O==null||w==null)return!1;if(O!=O)return w!=w;var de=typeof O;if(de!=="function"&&de!=="object"&&typeof w!="object")return!1;var Se=we.call(O);if(Se!==we.call(w))return!1;switch(Se){case"[object RegExp]":case"[object String]":return""+O==""+w;case"[object Number]":return+O!=+O?+w!=+w:+O==0?1/+O==1/w:+O==+w;case"[object Date]":case"[object Boolean]":return+O==+w;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(O)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":M>=0&&M++}O=Je(O),w=Je(w);var Fe=Se==="[object Array]";if(!Fe){if(typeof O!="object"||typeof w!="object")return!1;var at=O.constructor,Vt=w.constructor;if(at!==Vt&&!(typeof at=="function"&&at instanceof at&&typeof Vt=="function"&&Vt instanceof Vt)&&"constructor"in O&&"constructor"in w)return!1}if(M===0)return!1;M<0&&(M=-1),K=K||[];for(var Qe=(B=B||[]).length;Qe--;)if(B[Qe]===O)return K[Qe]===w;if(B.push(O),K.push(w),Fe){if((Qe=O.length)!==w.length)return!1;for(;Qe--;)if(!Ie(O[Qe],w[Qe],M-1,B,K))return!1}else{var _n=Object.keys(O),$t=void 0;if(Qe=_n.length,Object.keys(w).length!==Qe)return!1;for(;Qe--;)if(!Ft(w,$t=_n[Qe])||!Ie(O[$t],w[$t],M-1,B,K))return!1}return B.pop(),K.pop(),!0}function Je(O){return eo(O)?O.slice():U(O)||Jn(O)||ne(O)||jr(O)?Array.from(O.entries()):O}function Ft(O,w){return Object.prototype.hasOwnProperty.call(O,w)}function Jt(O){return O[Symbol.iterator]=Sn,O}function Sn(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Uu,extras:{getDebugName:function(O,w){return(w!==void 0?to(O,w):Ir(O)||Jn(O)||jr(O)?To(O):to(O)).name}},$mobx:V})}).call(this,o(163),o(68))},function(a,f,o){var d=o(113),h=o(42),m=o(179);d||h(Object.prototype,"toString",m,{unsafe:!0})},function(a,f,o){var d=o(41),h=o(100),m=o(80),g=o(58),E=o(116),P="Array Iterator",j=g.set,k=g.getterFor(P);a.exports=E(Array,"Array",function(T,C){j(this,{type:P,target:d(T),index:0,kind:C})},function(){var T=k(this),C=T.target,N=T.kind,I=T.index++;return!C||I>=C.length?(T.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:I,done:!1}:N=="values"?{value:C[I],done:!1}:{value:[I,C[I]],done:!1}},"values"),m.Arguments=m.Array,h("keys"),h("values"),h("entries")},function(a,f,o){var d=o(16),h=o(7),m=o(46),g=o(76),E=o(34),P=o(15),j=o(71),k=o(36),T=o(108),C=o(18),N=o(35),I=o(96),W=o(30),U=o(33),ne=o(54),ue=o(87),ae=o(32),ee=o(40),te=o(41),V=o(86),z=o(39),H=o(69),Y=o(60),q=o(77),ce=o(74),Ee=o(139),me=o(112),Ae=o(50),ze=o(38),je=o(84),ve=o(98),Pe=o(42),Me=o(89),$e=o(93),nt=o(72),wt=o(90),Xe=o(28),qe=o(140),mt=o(141),fe=o(78),se=o(58),ye=o(79).forEach,De=$e("hidden"),Ge="Symbol",Le=Xe("toPrimitive"),xt=se.set,kt=se.getterFor(Ge),jt=Object.prototype,vt=h.Symbol,Te=vt&&vt.prototype,ct=h.TypeError,pe=h.QObject,ot=m("JSON","stringify"),Bt=Ae.f,pn=ze.f,zt=Ee.f,nn=je.f,mn=P([].push),kn=Me("symbols"),Ct=Me("op-symbols"),Hn=Me("string-to-symbol-registry"),Q=Me("symbol-to-string-registry"),he=Me("wks"),ie=!pe||!pe.prototype||!pe.prototype.findChild,_e=k&&C(function(){return Y(pn({},"a",{get:function(){return pn(this,"a",{value:7}).a}})).a!=7})?function(it,_t,St){var It=Bt(jt,_t);It&&delete jt[_t],pn(it,_t,St),It&&it!==jt&&pn(jt,_t,It)}:pn,Ye=function(it,_t){var St=kn[it]=Y(Te);return xt(St,{type:Ge,tag:it,description:_t}),k||(St.description=_t),St},Ve=function(it,_t,St){it===jt&&Ve(Ct,_t,St),ae(it);var It=V(_t);return ae(St),N(kn,It)?(St.enumerable?(N(it,De)&&it[De][It]&&(it[De][It]=!1),St=Y(St,{enumerable:H(0,!1)})):(N(it,De)||pn(it,De,H(1,{})),it[De][It]=!0),_e(it,It,St)):pn(it,It,St)},ft=function(it,_t){ae(it);var St=te(_t),It=q(St).concat(Xn(St));return ye(It,function(gn){k&&!E(Ht,St,gn)||Ve(it,gn,St[gn])}),it},Ht=function(it){var _t=V(it),St=E(nn,this,_t);return!(this===jt&&N(kn,_t)&&!N(Ct,_t))&&(!(St||!N(this,_t)||!N(kn,_t)||N(this,De)&&this[De][_t])||St)},nr=function(it,_t){var St=te(it),It=V(_t);if(St!==jt||!N(kn,It)||N(Ct,It)){var gn=Bt(St,It);return!gn||!N(kn,It)||N(St,De)&&St[De][It]||(gn.enumerable=!0),gn}},vr=function(it){var _t=zt(te(it)),St=[];return ye(_t,function(It){N(kn,It)||N(nt,It)||mn(St,It)}),St},Xn=function(it){var _t=it===jt,St=zt(_t?Ct:te(it)),It=[];return ye(St,function(gn){!N(kn,gn)||_t&&!N(jt,gn)||mn(It,kn[gn])}),It};if(T||(vt=function(){if(ne(Te,this))throw ct("Symbol is not a constructor");var it=arguments.length&&arguments[0]!==void 0?z(arguments[0]):void 0,_t=wt(it),St=function(It){this===jt&&E(St,Ct,It),N(this,De)&&N(this[De],_t)&&(this[De][_t]=!1),_e(this,_t,H(1,It))};return k&&ie&&_e(jt,_t,{configurable:!0,set:St}),Ye(_t,it)},Pe(Te=vt.prototype,"toString",function(){return kt(this).tag}),Pe(vt,"withoutSetter",function(it){return Ye(wt(it),it)}),je.f=Ht,ze.f=Ve,Ae.f=nr,ce.f=Ee.f=vr,me.f=Xn,qe.f=function(it){return Ye(Xe(it),it)},k&&(pn(Te,"description",{configurable:!0,get:function(){return kt(this).description}}),j||Pe(jt,"propertyIsEnumerable",Ht,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!T,sham:!T},{Symbol:vt}),ye(q(he),function(it){mt(it)}),d({target:Ge,stat:!0,forced:!T},{for:function(it){var _t=z(it);if(N(Hn,_t))return Hn[_t];var St=vt(_t);return Hn[_t]=St,Q[St]=_t,St},keyFor:function(it){if(!ue(it))throw ct(it+" is not a symbol");if(N(Q,it))return Q[it]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),d({target:"Object",stat:!0,forced:!T,sham:!k},{create:function(it,_t){return _t===void 0?Y(it):ft(Y(it),_t)},defineProperty:Ve,defineProperties:ft,getOwnPropertyDescriptor:nr}),d({target:"Object",stat:!0,forced:!T},{getOwnPropertyNames:vr,getOwnPropertySymbols:Xn}),d({target:"Object",stat:!0,forced:C(function(){me.f(1)})},{getOwnPropertySymbols:function(it){return me.f(ee(it))}}),ot&&d({target:"JSON",stat:!0,forced:!T||C(function(){var it=vt();return ot([it])!="[null]"||ot({a:it})!="{}"||ot(Object(it))!="{}"})},{stringify:function(it,_t,St){var It=ve(arguments),gn=_t;if((U(_t)||it!==void 0)&&!ue(it))return I(_t)||(_t=function(Bn,Fo){if(W(gn)&&(Fo=E(gn,this,Bn,Fo)),!ue(Fo))return Fo}),It[1]=_t,g(ot,null,It)}}),!Te[Le]){var Zn=Te.valueOf;Pe(Te,Le,function(it){return E(Zn,this)})}fe(vt,Ge),nt[De]=!0},function(a,f,o){var d=o(7),h=o(152),m=o(153),g=o(3),E=o(57),P=o(28),j=P("iterator"),k=P("toStringTag"),T=g.values,C=function(I,W){if(I){if(I[j]!==T)try{E(I,j,T)}catch(ne){I[j]=T}if(I[k]||E(I,k,W),h[W]){for(var U in g)if(I[U]!==g[U])try{E(I,U,g[U])}catch(ne){I[U]=g[U]}}}};for(var N in h)C(d[N]&&d[N].prototype,N);C(m,"DOMTokenList")},function(a,f,o){var d=o(151).charAt,h=o(39),m=o(58),g=o(116),E="String Iterator",P=m.set,j=m.getterFor(E);g(String,"String",function(k){P(this,{type:E,string:h(k),index:0})},function(){var k,T=j(this),C=T.string,N=T.index;return N>=C.length?{value:void 0,done:!0}:(k=d(C,N),T.index+=k.length,{value:k,done:!1})})},function(a,f,o){(function(d){var h=function(m){return m&&m.Math==Math&&m};a.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof d=="object"&&d)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(a,f,o){var d=o(16),h=o(36),m=o(7),g=o(15),E=o(35),P=o(30),j=o(54),k=o(39),T=o(38).f,C=o(134),N=m.Symbol,I=N&&N.prototype;if(h&&P(N)&&(!("description"in I)||N().description!==void 0)){var W={},U=function(){var z=arguments.length<1||arguments[0]===void 0?void 0:k(arguments[0]),H=j(I,this)?new N(z):z===void 0?N():N(z);return z===""&&(W[H]=!0),H};C(U,N),U.prototype=I,I.constructor=U;var ne=String(N("test"))=="Symbol(test)",ue=g(I.toString),ae=g(I.valueOf),ee=/^Symbol\((.*)\)[^)]+$/,te=g("".replace),V=g("".slice);T(I,"description",{configurable:!0,get:function(){var z=ae(this),H=ue(z);if(E(W,z))return"";var Y=ne?V(H,7,-1):te(H,ee,"$1");return Y===""?void 0:Y}}),d({global:!0,forced:!0},{Symbol:U})}},function(a,f,o){o(141)("iterator")},function(a,f,o){o.d(f,"a",function(){return g.a}),o.d(f,"c",function(){return g.e}),o.d(f,"h",function(){return ee}),o.d(f,"i",function(){return ne}),o.d(f,"j",function(){return W}),o.d(f,"b",function(){return Ae}),o.d(f,"e",function(){return Pe}),o.d(f,"f",function(){return ze}),o.d(f,"g",function(){return kn});var d,h,m,g=o(0),E=0,P=[],j=g.i.__b,k=g.i.__r,T=g.i.diffed,C=g.i.__c,N=g.i.unmount;function I(Q,he){g.i.__h&&g.i.__h(h,Q,E||he),E=0;var ie=h.__H||(h.__H={__:[],__h:[]});return Q>=ie.__.length&&ie.__.push({}),ie.__[Q]}function W(Q){return E=1,U(ce,Q)}function U(Q,he,ie){var _e=I(d++,2);return _e.t=Q,_e.__c||(_e.__=[ie?ie(he):ce(void 0,he),function(Ye){var Ve=_e.t(_e.__[0],Ye);_e.__[0]!==Ve&&(_e.__=[Ve,_e.__[1]],_e.__c.setState({}))}],_e.__c=h),_e.__}function ne(Q,he){var ie=I(d++,3);!g.i.__s&&q(ie.__H,he)&&(ie.__=Q,ie.__H=he,h.__H.__h.push(ie))}function ue(Q,he){var ie=I(d++,4);!g.i.__s&&q(ie.__H,he)&&(ie.__=Q,ie.__H=he,h.__h.push(ie))}function ae(Q,he){var ie=I(d++,7);return q(ie.__H,he)&&(ie.__=Q(),ie.__H=he,ie.__h=Q),ie.__}function ee(Q,he){return E=8,ae(function(){return Q},he)}function te(){var Q;for(P.sort(function(he,ie){return he.__v.__b-ie.__v.__b});Q=P.pop();)if(Q.__P)try{Q.__H.__h.forEach(H),Q.__H.__h.forEach(Y),Q.__H.__h=[]}catch(he){Q.__H.__h=[],g.i.__e(he,Q.__v)}}g.i.__b=function(Q){h=null,j&&j(Q)},g.i.__r=function(Q){k&&k(Q),d=0;var he=(h=Q.__c).__H;he&&(he.__h.forEach(H),he.__h.forEach(Y),he.__h=[])},g.i.diffed=function(Q){T&&T(Q);var he=Q.__c;he&&he.__H&&he.__H.__h.length&&(P.push(he)!==1&&m===g.i.requestAnimationFrame||((m=g.i.requestAnimationFrame)||z)(te)),h=null},g.i.__c=function(Q,he){he.some(function(ie){try{ie.__h.forEach(H),ie.__h=ie.__h.filter(function(_e){return!_e.__||Y(_e)})}catch(_e){he.some(function(Ye){Ye.__h&&(Ye.__h=[])}),he=[],g.i.__e(_e,ie.__v)}}),C&&C(Q,he)},g.i.unmount=function(Q){N&&N(Q);var he,ie=Q.__c;ie&&ie.__H&&(ie.__H.__.forEach(function(_e){try{H(_e)}catch(Ye){he=Ye}}),he&&g.i.__e(he,ie.__v))};var V=typeof requestAnimationFrame=="function";function z(Q){var he,ie=function(){clearTimeout(_e),V&&cancelAnimationFrame(he),setTimeout(Q)},_e=setTimeout(ie,100);V&&(he=requestAnimationFrame(ie))}function H(Q){var he=h,ie=Q.__c;typeof ie=="function"&&(Q.__c=void 0,ie()),h=he}function Y(Q){var he=h;Q.__c=Q.__(),h=he}function q(Q,he){return!Q||Q.length!==he.length||he.some(function(ie,_e){return ie!==Q[_e]})}function ce(Q,he){return typeof he=="function"?he(Q):he}function Ee(Q,he){for(var ie in he)Q[ie]=he[ie];return Q}function me(Q,he){for(var ie in Q)if(ie!=="__source"&&!(ie in he))return!0;for(var _e in he)if(_e!=="__source"&&Q[_e]!==he[_e])return!0;return!1}function Ae(Q){this.props=Q}function ze(Q,he){function ie(Ye){var Ve=this.props.ref,ft=Ve==Ye.ref;return!ft&&Ve&&(Ve.call?Ve(null):Ve.current=null),he?!he(this.props,Ye)||!ft:me(this.props,Ye)}function _e(Ye){return this.shouldComponentUpdate=ie,Object(g.e)(Q,Ye)}return _e.displayName="Memo("+(Q.displayName||Q.name)+")",_e.prototype.isReactComponent=!0,_e.__f=!0,_e}(Ae.prototype=new g.a).isPureReactComponent=!0,Ae.prototype.shouldComponentUpdate=function(Q,he){return me(this.props,Q)||me(this.state,he)};var je=g.i.__b;g.i.__b=function(Q){Q.type&&Q.type.__f&&Q.ref&&(Q.props.ref=Q.ref,Q.ref=null),je&&je(Q)};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pe(Q){function he(ie,_e){var Ye=Ee({},ie);return delete Ye.ref,Q(Ye,!(_e=ie.ref||_e)||typeof _e=="object"&&!("current"in _e)?null:_e)}return he.$$typeof=ve,he.render=he,he.prototype.isReactComponent=he.__f=!0,he.displayName="ForwardRef("+(Q.displayName||Q.name)+")",he}var Me=function(Q,he){return Q==null?null:Object(g.k)(Object(g.k)(Q).map(he))},$e={map:Me,forEach:Me,count:function(Q){return Q?Object(g.k)(Q).length:0},only:function(Q){var he=Object(g.k)(Q);if(he.length!==1)throw"Children.only";return he[0]},toArray:g.k},nt=g.i.__e;g.i.__e=function(Q,he,ie){if(Q.then){for(var _e,Ye=he;Ye=Ye.__;)if((_e=Ye.__c)&&_e.__c)return he.__e==null&&(he.__e=ie.__e,he.__k=ie.__k),_e.__c(Q,he)}nt(Q,he,ie)};var wt=g.i.unmount;function Xe(Q,he,ie){return Q&&(Q.__c&&Q.__c.__H&&(Q.__c.__H.__.forEach(function(_e){typeof _e.__c=="function"&&_e.__c()}),Q.__c.__H=null),(Q=Ee({},Q)).__c!=null&&(Q.__c.__P===ie&&(Q.__c.__P=he),Q.__c=null),Q.__k=Q.__k&&Q.__k.map(function(_e){return Xe(_e,he,ie)})),Q}function qe(Q,he,ie){return Q&&(Q.__v=null,Q.__k=Q.__k&&Q.__k.map(function(_e){return qe(_e,he,ie)}),Q.__c&&Q.__c.__P===he&&(Q.__e&&ie.insertBefore(Q.__e,Q.__d),Q.__c.__e=!0,Q.__c.__P=ie)),Q}function mt(){this.__u=0,this.t=null,this.__b=null}function fe(Q){var he=Q.__.__c;return he&&he.__e&&he.__e(Q)}function se(){this.u=null,this.o=null}g.i.unmount=function(Q){var he=Q.__c;he&&he.__R&&he.__R(),he&&Q.__h===!0&&(Q.type=null),wt&&wt(Q)},(mt.prototype=new g.a).__c=function(Q,he){var ie=he.__c,_e=this;_e.t==null&&(_e.t=[]),_e.t.push(ie);var Ye=fe(_e.__v),Ve=!1,ft=function(){Ve||(Ve=!0,ie.__R=null,Ye?Ye(Ht):Ht())};ie.__R=ft;var Ht=function(){if(!--_e.__u){if(_e.state.__e){var vr=_e.state.__e;_e.__v.__k[0]=qe(vr,vr.__c.__P,vr.__c.__O)}var Xn;for(_e.setState({__e:_e.__b=null});Xn=_e.t.pop();)Xn.forceUpdate()}},nr=he.__h===!0;_e.__u++||nr||_e.setState({__e:_e.__b=_e.__v.__k[0]}),Q.then(ft,ft)},mt.prototype.componentWillUnmount=function(){this.t=[]},mt.prototype.render=function(Q,he){if(this.__b){if(this.__v.__k){var ie=document.createElement("div"),_e=this.__v.__k[0].__c;this.__v.__k[0]=Xe(this.__b,ie,_e.__O=_e.__P)}this.__b=null}var Ye=he.__e&&Object(g.e)(g.b,null,Q.fallback);return Ye&&(Ye.__h=null),[Object(g.e)(g.b,null,he.__e?null:Q.children),Ye]};var ye=function(Q,he,ie){if(++ie[1]===ie[0]&&Q.o.delete(he),Q.props.revealOrder&&(Q.props.revealOrder[0]!=="t"||!Q.o.size))for(ie=Q.u;ie;){for(;ie.length>3;)ie.pop()();if(ie[1]<ie[0])break;Q.u=ie=ie[2]}};function De(Q){return this.getChildContext=function(){return Q.context},Q.children}function Ge(Q){var he=this,ie=Q.i;he.componentWillUnmount=function(){Object(g.j)(null,he.l),he.l=null,he.i=null},he.i&&he.i!==ie&&he.componentWillUnmount(),Q.__v?(he.l||(he.i=ie,he.l={nodeType:1,parentNode:ie,childNodes:[],appendChild:function(_e){this.childNodes.push(_e),he.i.appendChild(_e)},insertBefore:function(_e,Ye){this.childNodes.push(_e),he.i.appendChild(_e)},removeChild:function(_e){this.childNodes.splice(this.childNodes.indexOf(_e)>>>1,1),he.i.removeChild(_e)}}),Object(g.j)(Object(g.e)(De,{context:he.context},Q.__v),he.l)):he.l&&he.componentWillUnmount()}(se.prototype=new g.a).__e=function(Q){var he=this,ie=fe(he.__v),_e=he.o.get(Q);return _e[0]++,function(Ye){var Ve=function(){he.props.revealOrder?(_e.push(Ye),ye(he,Q,_e)):Ye()};ie?ie(Ve):Ve()}},se.prototype.render=function(Q){this.u=null,this.o=new Map;var he=Object(g.k)(Q.children);Q.revealOrder&&Q.revealOrder[0]==="b"&&he.reverse();for(var ie=he.length;ie--;)this.o.set(he[ie],this.u=[1,0,this.u]);return Q.children},se.prototype.componentDidUpdate=se.prototype.componentDidMount=function(){var Q=this;this.o.forEach(function(he,ie){ye(Q,ie,he)})};var Le=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,xt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,kt=typeof document!="undefined",jt=function(Q){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(Q)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(Q){Object.defineProperty(g.a.prototype,Q,{configurable:!0,get:function(){return this["UNSAFE_"+Q]},set:function(he){Object.defineProperty(this,Q,{configurable:!0,writable:!0,value:he})}})});var vt=g.i.event;function Te(){}function ct(){return this.cancelBubble}function pe(){return this.defaultPrevented}g.i.event=function(Q){return vt&&(Q=vt(Q)),Q.persist=Te,Q.isPropagationStopped=ct,Q.isDefaultPrevented=pe,Q.nativeEvent=Q};var ot,Bt={configurable:!0,get:function(){return this.class}},pn=g.i.vnode;g.i.vnode=function(Q){var he=Q.type,ie=Q.props,_e=ie;if(typeof he=="string"){var Ye=he.indexOf("-")===-1;for(var Ve in _e={},ie){var ft=ie[Ve];kt&&Ve==="children"&&he==="noscript"||Ve==="value"&&"defaultValue"in ie&&ft==null||(Ve==="defaultValue"&&"value"in ie&&ie.value==null?Ve="value":Ve==="download"&&ft===!0?ft="":/ondoubleclick/i.test(Ve)?Ve="ondblclick":/^onchange(textarea|input)/i.test(Ve+he)&&!jt(ie.type)?Ve="oninput":/^onfocus$/i.test(Ve)?Ve="onfocusin":/^onblur$/i.test(Ve)?Ve="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ve)?Ve=Ve.toLowerCase():Ye&&xt.test(Ve)?Ve=Ve.replace(/[A-Z0-9]/,"-$&").toLowerCase():ft===null&&(ft=void 0),_e[Ve]=ft)}he=="select"&&_e.multiple&&Array.isArray(_e.value)&&(_e.value=Object(g.k)(ie.children).forEach(function(Ht){Ht.props.selected=_e.value.indexOf(Ht.props.value)!=-1})),he=="select"&&_e.defaultValue!=null&&(_e.value=Object(g.k)(ie.children).forEach(function(Ht){Ht.props.selected=_e.multiple?_e.defaultValue.indexOf(Ht.props.value)!=-1:_e.defaultValue==Ht.props.value})),Q.props=_e,ie.class!=ie.className&&(Bt.enumerable="className"in ie,ie.className!=null&&(_e.class=ie.className),Object.defineProperty(_e,"className",Bt))}Q.$$typeof=Le,pn&&pn(Q)};var zt=g.i.__r;g.i.__r=function(Q){zt&&zt(Q),ot=Q.__c};var nn={ReactCurrentDispatcher:{current:{readContext:function(Q){return ot.__n[Q.__c].props.value}}}};function mn(Q){return!!Q&&Q.$$typeof===Le}var kn=function(Q,he){return Q(he)},Ct=g.b,Hn={useState:W,useReducer:U,useEffect:ne,useLayoutEffect:ue,useRef:function(Q){return E=5,ae(function(){return{current:Q}},[])},useImperativeHandle:function(Q,he,ie){E=6,ue(function(){typeof Q=="function"?Q(he()):Q&&(Q.current=he())},ie==null?ie:ie.concat(Q))},useMemo:ae,useCallback:ee,useContext:function(Q){var he=h.context[Q.__c],ie=I(d++,9);return ie.c=Q,he?(ie.__==null&&(ie.__=!0,he.sub(h)),he.props.value):Q.__},useDebugValue:function(Q,he){g.i.useDebugValue&&g.i.useDebugValue(he?he(Q):Q)},version:"17.0.2",Children:$e,render:function(Q,he,ie){return he.__k==null&&(he.textContent=""),Object(g.j)(Q,he),typeof ie=="function"&&ie(),Q?Q.__c:null},hydrate:function(Q,he,ie){return Object(g.h)(Q,he),typeof ie=="function"&&ie(),Q?Q.__c:null},unmountComponentAtNode:function(Q){return!!Q.__k&&(Object(g.j)(null,Q),!0)},createPortal:function(Q,he){return Object(g.e)(Ge,{__v:Q,i:he})},createElement:g.e,createContext:g.d,createFactory:function(Q){return g.e.bind(null,Q)},cloneElement:function(Q){return mn(Q)?g.c.apply(null,arguments):Q},createRef:g.f,Fragment:g.b,isValidElement:mn,findDOMNode:function(Q){return Q&&(Q.base||Q.nodeType===1&&Q)||null},Component:g.a,PureComponent:Ae,memo:ze,forwardRef:Pe,flushSync:function(Q,he){return Q(he)},unstable_batchedUpdates:kn,StrictMode:Ct,Suspense:mt,SuspenseList:se,lazy:function(Q){var he,ie,_e;function Ye(Ve){if(he||(he=Q()).then(function(ft){ie=ft.default||ft},function(ft){_e=ft}),_e)throw _e;if(!ie)throw he;return Object(g.e)(ie,Ve)}return Ye.displayName="Lazy",Ye.__f=!0,Ye},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:nn};f.d=Hn},function(a,f,o){var d=o(7),h=o(152),m=o(153),g=o(187),E=o(57),P=function(k){if(k&&k.forEach!==g)try{E(k,"forEach",g)}catch(T){k.forEach=g}};for(var j in h)h[j]&&P(d[j]&&d[j].prototype);P(m)},function(a,f,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(a,f,o){var d=o(16),h=o(18),m=o(40),g=o(101),E=o(143);d({target:"Object",stat:!0,forced:h(function(){g(1)}),sham:!E},{getPrototypeOf:function(P){return g(m(P))}})},function(a,f,o){var d=o(16),h=o(46),m=o(76),g=o(203),E=o(165),P=o(32),j=o(33),k=o(60),T=o(18),C=h("Reflect","construct"),N=Object.prototype,I=[].push,W=T(function(){function ue(){}return!(C(function(){},[],ue)instanceof ue)}),U=!T(function(){C(function(){})}),ne=W||U;d({target:"Reflect",stat:!0,forced:ne,sham:ne},{construct:function(ue,ae){E(ue),P(ae);var ee=arguments.length<3?ue:E(arguments[2]);if(U&&!W)return C(ue,ae,ee);if(ue==ee){switch(ae.length){case 0:return new ue;case 1:return new ue(ae[0]);case 2:return new ue(ae[0],ae[1]);case 3:return new ue(ae[0],ae[1],ae[2]);case 4:return new ue(ae[0],ae[1],ae[2],ae[3])}var te=[null];return m(I,te,ae),new(m(g,ue,te))}var V=ee.prototype,z=k(j(V)?V:N),H=m(ue,z,ae);return j(H)?H:z}})},function(a,f){var o=Function.prototype,d=o.bind,h=o.call,m=d&&d.bind(h);a.exports=d?function(g){return g&&m(h,g)}:function(g){return g&&function(){return h.apply(g,arguments)}}},function(a,f,o){var d=o(7),h=o(50).f,m=o(57),g=o(42),E=o(110),P=o(134),j=o(95);a.exports=function(k,T){var C,N,I,W,U,ne=k.target,ue=k.global,ae=k.stat;if(C=ue?d:ae?d[ne]||E(ne,{}):(d[ne]||{}).prototype)for(N in T){if(W=T[N],I=k.noTargetGet?(U=h(C,N))&&U.value:C[N],!j(ue?N:ne+(ae?".":"#")+N,k.forced)&&I!==void 0){if(typeof W==typeof I)continue;P(W,I)}(k.sham||I&&I.sham)&&m(W,"sham",!0),g(C,N,W,k)}}},function(a,f,o){var d=o(16),h=o(7),m=o(96),g=o(99),E=o(33),P=o(75),j=o(45),k=o(41),T=o(62),C=o(28),N=o(81),I=o(98),W=N("slice"),U=C("species"),ne=h.Array,ue=Math.max;d({target:"Array",proto:!0,forced:!W},{slice:function(ae,ee){var te,V,z,H=k(this),Y=j(H),q=P(ae,Y),ce=P(ee===void 0?Y:ee,Y);if(m(H)&&(te=H.constructor,(g(te)&&(te===ne||m(te.prototype))||E(te)&&(te=te[U])===null)&&(te=void 0),te===ne||te===void 0))return I(H,q,ce);for(V=new(te===void 0?ne:te)(ue(ce-q,0)),z=0;q<ce;q++,z++)q in H&&T(V,z,H[q]);return V.length=z,V}})},function(a,f){a.exports=function(o){try{return!!o()}catch(d){return!0}}},function(a,f,o){var d=o(16),h=o(103);d({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},function(a,f,o){var d=o(16),h=o(40),m=o(77);d({target:"Object",stat:!0,forced:o(18)(function(){m(1)})},{keys:function(g){return m(h(g))}})},function(a,f,o){var d=o(36),h=o(73).EXISTS,m=o(15),g=o(38).f,E=Function.prototype,P=m(E.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,k=m(j.exec);d&&!h&&g(E,"name",{configurable:!0,get:function(){try{return k(j,P(this))[1]}catch(T){return""}}})},function(a,f,o){var d=o(16),h=o(18),m=o(41),g=o(50).f,E=o(36),P=h(function(){g(1)});d({target:"Object",stat:!0,forced:!E||P,sham:!E},{getOwnPropertyDescriptor:function(j,k){return g(m(j),k)}})},function(a,f,o){var d=o(16),h=o(188);d({target:"Array",stat:!0,forced:!o(120)(function(m){Array.from(m)})},{from:h})},function(a,f,o){var d=o(16),h=o(79).filter;d({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(a,f,o){var d=o(16),h=o(36),m=o(135),g=o(41),E=o(50),P=o(62);d({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(j){for(var k,T,C=g(j),N=E.f,I=m(C),W={},U=0;I.length>U;)(T=N(C,k=I[U++]))!==void 0&&P(W,k,T);return W}})},function(a,f,o){var d=o(16),h=o(7),m=o(18),g=o(96),E=o(33),P=o(40),j=o(45),k=o(62),T=o(115),C=o(81),N=o(28),I=o(70),W=N("isConcatSpreadable"),U=9007199254740991,ne="Maximum allowed index exceeded",ue=h.TypeError,ae=I>=51||!m(function(){var V=[];return V[W]=!1,V.concat()[0]!==V}),ee=C("concat"),te=function(V){if(!E(V))return!1;var z=V[W];return z!==void 0?!!z:g(V)};d({target:"Array",proto:!0,forced:!ae||!ee},{concat:function(V){var z,H,Y,q,ce,Ee=P(this),me=T(Ee,0),Ae=0;for(z=-1,Y=arguments.length;z<Y;z++)if(te(ce=z===-1?Ee:arguments[z])){if(Ae+(q=j(ce))>U)throw ue(ne);for(H=0;H<q;H++,Ae++)H in ce&&k(me,Ae,ce[H])}else{if(Ae>=U)throw ue(ne);k(me,Ae++,ce)}return me.length=Ae,me}})},,function(a,f,o){var d=o(7),h=o(89),m=o(35),g=o(90),E=o(108),P=o(132),j=h("wks"),k=d.Symbol,T=k&&k.for,C=P?k:k&&k.withoutSetter||g;a.exports=function(N){if(!m(j,N)||!E&&typeof j[N]!="string"){var I="Symbol."+N;E&&m(k,N)?j[N]=k[N]:j[N]=P&&T?T(I):C(I)}return j[N]}},function(a,f,o){var d=o(16),h=o(202);d({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},function(a,f){a.exports=function(o){return typeof o=="function"}},function(a,f,o){var d=o(106),h=typeof self=="object"&&self&&self.Object===Object&&self,m=d.a||h||Function("return this")();f.a=m},function(a,f,o){var d=o(7),h=o(33),m=d.String,g=d.TypeError;a.exports=function(E){if(h(E))return E;throw g(m(E)+" is not an object")}},function(a,f,o){var d=o(30);a.exports=function(h){return typeof h=="object"?h!==null:d(h)}},function(a,f){var o=Function.prototype.call;a.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(a,f,o){var d=o(15),h=o(40),m=d({}.hasOwnProperty);a.exports=Object.hasOwn||function(g,E){return m(h(g),E)}},function(a,f,o){var d=o(18);a.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(a,f,o){var d=o(16),h=o(79).map;d({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(a,f,o){var d=o(7),h=o(36),m=o(133),g=o(32),E=o(86),P=d.TypeError,j=Object.defineProperty;f.f=h?j:function(k,T,C){if(g(k),T=E(T),g(C),m)try{return j(k,T,C)}catch(N){}if("get"in C||"set"in C)throw P("Accessors not supported");return"value"in C&&(k[T]=C.value),k}},function(a,f,o){var d=o(7),h=o(97),m=d.String;a.exports=function(g){if(h(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return m(g)}},function(a,f,o){var d=o(7),h=o(44),m=d.Object;a.exports=function(g){return m(h(g))}},function(a,f,o){var d=o(85),h=o(44);a.exports=function(m){return d(h(m))}},function(a,f,o){var d=o(7),h=o(30),m=o(35),g=o(57),E=o(110),P=o(92),j=o(58),k=o(73).CONFIGURABLE,T=j.get,C=j.enforce,N=String(String).split("String");(a.exports=function(I,W,U,ne){var ue,ae=!!ne&&!!ne.unsafe,ee=!!ne&&!!ne.enumerable,te=!!ne&&!!ne.noTargetGet,V=ne&&ne.name!==void 0?ne.name:W;h(U)&&(String(V).slice(0,7)==="Symbol("&&(V="["+String(V).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!m(U,"name")||k&&U.name!==V)&&g(U,"name",V),(ue=C(U)).source||(ue.source=N.join(typeof V=="string"?V:""))),I!==d?(ae?!te&&I[W]&&(ee=!0):delete I[W],ee?I[W]=U:g(I,W,U)):ee?I[W]=U:E(W,U)})(Function.prototype,"toString",function(){return h(this)&&T(this).source||P(this)})},function(a,f,o){(function(d){o.d(f,"d",function(){return g}),o.d(f,"c",function(){return E}),o.d(f,"b",function(){return P}),o.d(f,"a",function(){return k});var h=o(10),m=function(T,C){var N=typeof Symbol=="function"&&T[Symbol.iterator];if(!N)return T;var I,W,U=N.call(T),ne=[];try{for(;(C===void 0||C-- >0)&&!(I=U.next()).done;)ne.push(I.value)}catch(ue){W={error:ue}}finally{try{I&&!I.done&&(N=U.return)&&N.call(U)}finally{if(W)throw W.error}}return ne};function g(){var T=m(Object(h.j)(0),2)[1];return Object(h.h)(function(){T(function(C){return C+1})},[])}function E(T){if(!T||typeof T!="object")return!1;var C=Object.getPrototypeOf(T);return!C||C===Object.prototype}function P(T){return typeof Symbol=="function"?Symbol.for(T):"__$mobx-react "+T+"__"}var j={};function k(){return typeof window!="undefined"?window:d!==void 0?d:typeof self!="undefined"?self:j}}).call(this,o(68))},function(a,f,o){var d=o(7).TypeError;a.exports=function(h){if(h==null)throw d("Can't call method on "+h);return h}},function(a,f,o){var d=o(94);a.exports=function(h){return d(h.length)}},function(a,f,o){var d=o(7),h=o(30),m=function(g){return h(g)?g:void 0};a.exports=function(g,E){return arguments.length<2?m(d[g]):d[g]&&d[g][E]}},function(a,f,o){var d=o(16),h=o(34),m=o(33),g=o(32),E=o(204),P=o(50),j=o(101);d({target:"Reflect",stat:!0},{get:function k(T,C){var N,I,W=arguments.length<3?T:arguments[2];return g(T)===W?T[C]:(N=P.f(T,C))?E(N)?N.value:N.get===void 0?void 0:h(N.get,W):m(I=j(T))?k(I,C,W):void 0}})},function(a,f,o){(function(d){var h=o(31),m=o(171),g=u&&!u.nodeType&&u,E=g&&typeof d=="object"&&d&&!d.nodeType&&d,P=E&&E.exports===g?h.a.Buffer:void 0,j=(P?P.isBuffer:void 0)||m.a;f.a=j}).call(this,o(122)(a))},function(a,f,o){(function(d){var h=o(106),m=u&&!u.nodeType&&u,g=m&&typeof d=="object"&&d&&!d.nodeType&&d,E=g&&g.exports===m&&h.a.process,P=function(){try{var j=g&&g.require&&g.require("util").types;return j||E&&E.binding&&E.binding("util")}catch(k){}}();f.a=P}).call(this,o(122)(a))},function(a,f,o){var d=o(36),h=o(34),m=o(84),g=o(69),E=o(41),P=o(86),j=o(35),k=o(133),T=Object.getOwnPropertyDescriptor;f.f=d?T:function(C,N){if(C=E(C),N=P(N),k)try{return T(C,N)}catch(I){}if(j(C,N))return g(!h(m.f,C,N),C[N])}},function(a,f,o){var d=o(15),h=d({}.toString),m=d("".slice);a.exports=function(g){return m(h(g),8,-1)}},function(a,f,o){o(182)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},o(186))},function(a,f,o){var d=o(16),h=o(219).entries;d({target:"Object",stat:!0},{entries:function(m){return h(m)}})},function(a,f,o){var d=o(15);a.exports=d({}.isPrototypeOf)},function(a,f,o){var d=o(46);a.exports=d("navigator","userAgent")||""},function(a,f,o){var d=o(7),h=o(30),m=o(88),g=d.TypeError;a.exports=function(E){if(h(E))return E;throw g(m(E)+" is not a function")}},function(a,f,o){var d=o(36),h=o(38),m=o(69);a.exports=d?function(g,E,P){return h.f(g,E,m(1,P))}:function(g,E,P){return g[E]=P,g}},function(a,f,o){var d,h,m,g=o(175),E=o(7),P=o(15),j=o(33),k=o(57),T=o(35),C=o(109),N=o(93),I=o(72),W="Object already initialized",U=E.TypeError,ne=E.WeakMap;if(g||C.state){var ue=C.state||(C.state=new ne),ae=P(ue.get),ee=P(ue.has),te=P(ue.set);d=function(z,H){if(ee(ue,z))throw new U(W);return H.facade=z,te(ue,z,H),H},h=function(z){return ae(ue,z)||{}},m=function(z){return ee(ue,z)}}else{var V=N("state");I[V]=!0,d=function(z,H){if(T(z,V))throw new U(W);return H.facade=z,k(z,V,H),H},h=function(z){return T(z,V)?z[V]:{}},m=function(z){return T(z,V)}}a.exports={set:d,get:h,has:m,enforce:function(z){return m(z)?h(z):d(z,{})},getterFor:function(z){return function(H){var Y;if(!j(H)||(Y=h(H)).type!==z)throw U("Incompatible receiver, "+z+" required");return Y}}}},function(a,f){var o=Math.ceil,d=Math.floor;a.exports=function(h){var m=+h;return m!=m||m===0?0:(m>0?d:o)(m)}},function(a,f,o){var d,h=o(32),m=o(176),g=o(111),E=o(72),P=o(138),j=o(91),k=o(93),T=k("IE_PROTO"),C=function(){},N=function(U){return"<script>"+U+"<\/script>"},I=function(U){U.write(N("")),U.close();var ne=U.parentWindow.Object;return U=null,ne},W=function(){try{d=new ActiveXObject("htmlfile")}catch(ae){}var U,ne;W=typeof document!="undefined"?document.domain&&d?I(d):((ne=j("iframe")).style.display="none",P.appendChild(ne),ne.src="javascript:",(U=ne.contentWindow.document).open(),U.write(N("document.F=Object")),U.close(),U.F):I(d);for(var ue=g.length;ue--;)delete W.prototype[g[ue]];return W()};E[T]=!0,a.exports=Object.create||function(U,ne){var ue;return U!==null?(C.prototype=h(U),ue=new C,C.prototype=null,ue[T]=U):ue=W(),ne===void 0?ue:m(ue,ne)}},function(a,f,o){var d=o(56);a.exports=function(h,m){var g=h[m];return g==null?void 0:d(g)}},function(a,f,o){var d=o(86),h=o(38),m=o(69);a.exports=function(g,E,P){var j=d(E);j in g?h.f(g,j,m(0,P)):g[j]=P}},function(a,f,o){var d=o(15),h=o(56),m=d(d.bind);a.exports=function(g,E){return h(g),E===void 0?g:m?m(g,E):function(){return g.apply(E,arguments)}}},function(a,f,o){var d=o(36),h=o(7),m=o(15),g=o(95),E=o(42),P=o(35),j=o(148),k=o(54),T=o(87),C=o(131),N=o(18),I=o(74).f,W=o(50).f,U=o(38).f,ne=o(160),ue=o(161).trim,ae="Number",ee=h.Number,te=ee.prototype,V=h.TypeError,z=m("".slice),H=m("".charCodeAt),Y=function(ze){var je=C(ze,"number");return typeof je=="bigint"?je:q(je)},q=function(ze){var je,ve,Pe,Me,$e,nt,wt,Xe,qe=C(ze,"number");if(T(qe))throw V("Cannot convert a Symbol value to a number");if(typeof qe=="string"&&qe.length>2){if(qe=ue(qe),(je=H(qe,0))===43||je===45){if((ve=H(qe,2))===88||ve===120)return NaN}else if(je===48){switch(H(qe,1)){case 66:case 98:Pe=2,Me=49;break;case 79:case 111:Pe=8,Me=55;break;default:return+qe}for(nt=($e=z(qe,2)).length,wt=0;wt<nt;wt++)if((Xe=H($e,wt))<48||Xe>Me)return NaN;return parseInt($e,Pe)}}return+qe};if(g(ae,!ee(" 0o1")||!ee("0b1")||ee("+0x1"))){for(var ce,Ee=function(ze){var je=arguments.length<1?0:ee(Y(ze)),ve=this;return k(te,ve)&&N(function(){ne(ve)})?j(Object(je),ve,Ee):je},me=d?I(ee):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ae=0;me.length>Ae;Ae++)P(ee,ce=me[Ae])&&!P(Ee,ce)&&U(Ee,ce,W(ee,ce));Ee.prototype=te,te.constructor=Ee,E(h,ae,Ee)}},function(a,f,o){var d=o(16),h=o(15),m=o(85),g=o(41),E=o(121),P=h([].join),j=m!=Object,k=E("join",",");d({target:"Array",proto:!0,forced:j||!k},{join:function(T){return P(g(this),T===void 0?",":T)}})},function(a,f,o){var d=o(15),h=o(73).PROPER,m=o(42),g=o(32),E=o(54),P=o(39),j=o(18),k=o(154),T="toString",C=RegExp.prototype,N=C.toString,I=d(k),W=j(function(){return N.call({source:"a",flags:"b"})!="/a/b"}),U=h&&N.name!=T;(W||U)&&m(RegExp.prototype,T,function(){var ne=g(this),ue=P(ne.source),ae=ne.flags;return"/"+ue+"/"+P(ae===void 0&&E(C,ne)&&!("flags"in C)?I(ne):ae)},{unsafe:!0})},function(a,f,o){var d=o(16),h=o(216),m=o(100);d({target:"Array",proto:!0},{fill:h}),m("fill")},function(a,f){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(d){typeof window=="object"&&(o=window)}a.exports=o},function(a,f){a.exports=function(o,d){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:d}}},function(a,f,o){var d,h,m=o(7),g=o(55),E=m.process,P=m.Deno,j=E&&E.versions||P&&P.version,k=j&&j.v8;k&&(h=(d=k.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!h&&g&&(!(d=g.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=g.match(/Chrome\/(\d+)/))&&(h=+d[1]),a.exports=h},function(a,f){a.exports=!1},function(a,f){a.exports={}},function(a,f,o){var d=o(36),h=o(35),m=Function.prototype,g=d&&Object.getOwnPropertyDescriptor,E=h(m,"name"),P=E&&function(){}.name==="something",j=E&&(!d||d&&g(m,"name").configurable);a.exports={EXISTS:E,PROPER:P,CONFIGURABLE:j}},function(a,f,o){var d=o(136),h=o(111).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(m){return d(m,h)}},function(a,f,o){var d=o(59),h=Math.max,m=Math.min;a.exports=function(g,E){var P=d(g);return P<0?h(P+E,0):m(P,E)}},function(a,f){var o=Function.prototype,d=o.apply,h=o.bind,m=o.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(h?m.bind(d):function(){return m.apply(d,arguments)})},function(a,f,o){var d=o(136),h=o(111);a.exports=Object.keys||function(m){return d(m,h)}},function(a,f,o){var d=o(38).f,h=o(35),m=o(28)("toStringTag");a.exports=function(g,E,P){g&&!h(g=P?g:g.prototype,m)&&d(g,m,{configurable:!0,value:E})}},function(a,f,o){var d=o(63),h=o(15),m=o(85),g=o(40),E=o(45),P=o(115),j=h([].push),k=function(T){var C=T==1,N=T==2,I=T==3,W=T==4,U=T==6,ne=T==7,ue=T==5||U;return function(ae,ee,te,V){for(var z,H,Y=g(ae),q=m(Y),ce=d(ee,te),Ee=E(q),me=0,Ae=V||P,ze=C?Ae(ae,Ee):N||ne?Ae(ae,0):void 0;Ee>me;me++)if((ue||me in q)&&(H=ce(z=q[me],me,Y),T))if(C)ze[me]=H;else if(H)switch(T){case 3:return!0;case 5:return z;case 6:return me;case 2:j(ze,z)}else switch(T){case 4:return!1;case 7:j(ze,z)}return U?-1:I||W?W:ze}};a.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},function(a,f){a.exports={}},function(a,f,o){var d=o(18),h=o(28),m=o(70),g=h("species");a.exports=function(E){return m>=51||!d(function(){var P=[];return(P.constructor={})[g]=function(){return{foo:1}},P[E](Boolean).foo!==1})}},function(a,f,o){var d=o(76),h=o(34),m=o(15),g=o(123),E=o(159),P=o(32),j=o(44),k=o(164),T=o(124),C=o(94),N=o(39),I=o(61),W=o(114),U=o(125),ne=o(103),ue=o(155),ae=o(18),ee=ue.UNSUPPORTED_Y,te=4294967295,V=Math.min,z=[].push,H=m(/./.exec),Y=m(z),q=m("".slice),ce=!ae(function(){var Ee=/(?:)/,me=Ee.exec;Ee.exec=function(){return me.apply(this,arguments)};var Ae="ab".split(Ee);return Ae.length!==2||Ae[0]!=="a"||Ae[1]!=="b"});g("split",function(Ee,me,Ae){var ze;return ze="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,ve){var Pe=N(j(this)),Me=ve===void 0?te:ve>>>0;if(Me===0)return[];if(je===void 0)return[Pe];if(!E(je))return h(me,Pe,je,Me);for(var $e,nt,wt,Xe=[],qe=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),mt=0,fe=new RegExp(je.source,qe+"g");($e=h(ne,fe,Pe))&&!((nt=fe.lastIndex)>mt&&(Y(Xe,q(Pe,mt,$e.index)),$e.length>1&&$e.index<Pe.length&&d(z,Xe,W($e,1)),wt=$e[0].length,mt=nt,Xe.length>=Me));)fe.lastIndex===$e.index&&fe.lastIndex++;return mt===Pe.length?!wt&&H(fe,"")||Y(Xe,""):Y(Xe,q(Pe,mt)),Xe.length>Me?W(Xe,0,Me):Xe}:"0".split(void 0,0).length?function(je,ve){return je===void 0&&ve===0?[]:h(me,this,je,ve)}:me,[function(je,ve){var Pe=j(this),Me=je==null?void 0:I(je,Ee);return Me?h(Me,je,Pe,ve):h(ze,N(Pe),je,ve)},function(je,ve){var Pe=P(this),Me=N(je),$e=Ae(ze,Pe,Me,ve,ze!==me);if($e.done)return $e.value;var nt=k(Pe,RegExp),wt=Pe.unicode,Xe=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(ee?"g":"y"),qe=new nt(ee?"^(?:"+Pe.source+")":Pe,Xe),mt=ve===void 0?te:ve>>>0;if(mt===0)return[];if(Me.length===0)return U(qe,Me)===null?[Me]:[];for(var fe=0,se=0,ye=[];se<Me.length;){qe.lastIndex=ee?0:se;var De,Ge=U(qe,ee?q(Me,se):Me);if(Ge===null||(De=V(C(qe.lastIndex+(ee?se:0)),Me.length))===fe)se=T(Me,se,wt);else{if(Y(ye,q(Me,fe,se)),ye.length===mt)return ye;for(var Le=1;Le<=Ge.length-1;Le++)if(Y(ye,Ge[Le]),ye.length===mt)return ye;se=fe=De}}return Y(ye,q(Me,fe)),ye}]},!ce,ee)},function(a,f,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(a,f,o){var d={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,m=h&&!d.call({1:2},1);f.f=m?function(g){var E=h(this,g);return!!E&&E.enumerable}:d},function(a,f,o){var d=o(7),h=o(15),m=o(18),g=o(51),E=d.Object,P=h("".split);a.exports=m(function(){return!E("z").propertyIsEnumerable(0)})?function(j){return g(j)=="String"?P(j,""):E(j)}:E},function(a,f,o){var d=o(131),h=o(87);a.exports=function(m){var g=d(m,"string");return h(g)?g:g+""}},function(a,f,o){var d=o(7),h=o(46),m=o(30),g=o(54),E=o(132),P=d.Object;a.exports=E?function(j){return typeof j=="symbol"}:function(j){var k=h("Symbol");return m(k)&&g(k.prototype,P(j))}},function(a,f,o){var d=o(7).String;a.exports=function(h){try{return d(h)}catch(m){return"Object"}}},function(a,f,o){var d=o(71),h=o(109);(a.exports=function(m,g){return h[m]||(h[m]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:d?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(a,f,o){var d=o(15),h=0,m=Math.random(),g=d(1 .toString);a.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+g(++h+m,36)}},function(a,f,o){var d=o(7),h=o(33),m=d.document,g=h(m)&&h(m.createElement);a.exports=function(E){return g?m.createElement(E):{}}},function(a,f,o){var d=o(15),h=o(30),m=o(109),g=d(Function.toString);h(m.inspectSource)||(m.inspectSource=function(E){return g(E)}),a.exports=m.inspectSource},function(a,f,o){var d=o(89),h=o(90),m=d("keys");a.exports=function(g){return m[g]||(m[g]=h(g))}},function(a,f,o){var d=o(59),h=Math.min;a.exports=function(m){return m>0?h(d(m),9007199254740991):0}},function(a,f,o){var d=o(18),h=o(30),m=/#|\.prototype\./,g=function(T,C){var N=P[E(T)];return N==k||N!=j&&(h(C)?d(C):!!C)},E=g.normalize=function(T){return String(T).replace(m,".").toLowerCase()},P=g.data={},j=g.NATIVE="N",k=g.POLYFILL="P";a.exports=g},function(a,f,o){var d=o(51);a.exports=Array.isArray||function(h){return d(h)=="Array"}},function(a,f,o){var d=o(7),h=o(113),m=o(30),g=o(51),E=o(28)("toStringTag"),P=d.Object,j=g(function(){return arguments}())=="Arguments";a.exports=h?g:function(k){var T,C,N;return k===void 0?"Undefined":k===null?"Null":typeof(C=function(I,W){try{return I[W]}catch(U){}}(T=P(k),E))=="string"?C:j?g(T):(N=g(T))=="Object"&&m(T.callee)?"Arguments":N}},function(a,f,o){var d=o(15);a.exports=d([].slice)},function(a,f,o){var d=o(15),h=o(18),m=o(30),g=o(97),E=o(46),P=o(92),j=function(){},k=[],T=E("Reflect","construct"),C=/^\s*(?:class|function)\b/,N=d(C.exec),I=!C.exec(j),W=function(U){if(!m(U))return!1;try{return T(j,k,U),!0}catch(ne){return!1}};a.exports=!T||h(function(){var U;return W(W.call)||!W(Object)||!W(function(){U=!0})||U})?function(U){if(!m(U))return!1;switch(g(U)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return I||!!N(C,P(U))}:W},function(a,f,o){var d=o(28),h=o(60),m=o(38),g=d("unscopables"),E=Array.prototype;E[g]==null&&m.f(E,g,{configurable:!0,value:h(null)}),a.exports=function(P){E[g][P]=!0}},function(a,f,o){var d=o(7),h=o(35),m=o(30),g=o(40),E=o(93),P=o(143),j=E("IE_PROTO"),k=d.Object,T=k.prototype;a.exports=P?k.getPrototypeOf:function(C){var N=g(C);if(h(N,j))return N[j];var I=N.constructor;return m(I)&&N instanceof I?I.prototype:N instanceof k?T:null}},function(a,f,o){var d=o(15),h=o(32),m=o(181);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,E=!1,P={};try{(g=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(P,[]),E=P instanceof Array}catch(j){}return function(j,k){return h(j),m(k),E?g(j,k):j.__proto__=k,j}}():void 0)},function(a,f,o){var d,h,m=o(34),g=o(15),E=o(39),P=o(154),j=o(155),k=o(89),T=o(60),C=o(58).get,N=o(190),I=o(191),W=k("native-string-replace",String.prototype.replace),U=RegExp.prototype.exec,ne=U,ue=g("".charAt),ae=g("".indexOf),ee=g("".replace),te=g("".slice),V=(h=/b*/g,m(U,d=/a/,"a"),m(U,h,"a"),d.lastIndex!==0||h.lastIndex!==0),z=j.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(V||H||z||N||I)&&(ne=function(Y){var q,ce,Ee,me,Ae,ze,je,ve=this,Pe=C(ve),Me=E(Y),$e=Pe.raw;if($e)return $e.lastIndex=ve.lastIndex,q=m(ne,$e,Me),ve.lastIndex=$e.lastIndex,q;var nt=Pe.groups,wt=z&&ve.sticky,Xe=m(P,ve),qe=ve.source,mt=0,fe=Me;if(wt&&(Xe=ee(Xe,"y",""),ae(Xe,"g")===-1&&(Xe+="g"),fe=te(Me,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&ue(Me,ve.lastIndex-1)!==`
`)&&(qe="(?: "+qe+")",fe=" "+fe,mt++),ce=new RegExp("^(?:"+qe+")",Xe)),H&&(ce=new RegExp("^"+qe+"$(?!\\s)",Xe)),V&&(Ee=ve.lastIndex),me=m(U,wt?ce:ve,fe),wt?me?(me.input=te(me.input,mt),me[0]=te(me[0],mt),me.index=ve.lastIndex,ve.lastIndex+=me[0].length):ve.lastIndex=0:V&&me&&(ve.lastIndex=ve.global?me.index+me[0].length:Ee),H&&me&&me.length>1&&m(W,me[0],ce,function(){for(Ae=1;Ae<arguments.length-2;Ae++)arguments[Ae]===void 0&&(me[Ae]=void 0)}),me&&nt)for(me.groups=ze=T(null),Ae=0;Ae<nt.length;Ae++)ze[(je=nt[Ae])[0]]=me[je[1]];return me}),a.exports=ne},function(a,f,o){var d=o(16),h=o(7),m=o(75),g=o(59),E=o(45),P=o(40),j=o(115),k=o(62),T=o(81)("splice"),C=h.TypeError,N=Math.max,I=Math.min,W=9007199254740991,U="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!T},{splice:function(ne,ue){var ae,ee,te,V,z,H,Y=P(this),q=E(Y),ce=m(ne,q),Ee=arguments.length;if(Ee===0?ae=ee=0:Ee===1?(ae=0,ee=q-ce):(ae=Ee-2,ee=I(N(g(ue),0),q-ce)),q+ae-ee>W)throw C(U);for(te=j(Y,ee),V=0;V<ee;V++)(z=ce+V)in Y&&k(te,V,Y[z]);if(te.length=ee,ae<ee){for(V=ce;V<q-ee;V++)H=V+ae,(z=V+ee)in Y?Y[H]=Y[z]:delete Y[H];for(V=q;V>q-ee+ae;V--)delete Y[V-1]}else if(ae>ee)for(V=q-ee;V>ce;V--)H=V+ae-1,(z=V+ee-1)in Y?Y[H]=Y[z]:delete Y[H];for(V=0;V<ae;V++)Y[V+ce]=arguments[V+2];return Y.length=q-ee+ae,te}})},function(a,f,o){var d=o(16),h=o(205);d({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(m){return h(this,"a","name",m)}})},function(a,f,o){(function(d){var h=typeof d=="object"&&d&&d.Object===Object&&d;f.a=h}).call(this,o(68))},function(a,f,o){(function(d){var h=o(31),m=u&&!u.nodeType&&u,g=m&&typeof d=="object"&&d&&!d.nodeType&&d,E=g&&g.exports===m?h.a.Buffer:void 0,P=E?E.allocUnsafe:void 0;f.a=function(j,k){if(k)return j.slice();var T=j.length,C=P?P(T):new j.constructor(T);return j.copy(C),C}}).call(this,o(122)(a))},function(a,f,o){var d=o(70),h=o(18);a.exports=!!Object.getOwnPropertySymbols&&!h(function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&d&&d<41})},function(a,f,o){var d=o(7),h=o(110),m="__core-js_shared__",g=d[m]||h(m,{});a.exports=g},function(a,f,o){var d=o(7),h=Object.defineProperty;a.exports=function(m,g){try{h(d,m,{value:g,configurable:!0,writable:!0})}catch(E){d[m]=g}return g}},function(a,f){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(a,f){f.f=Object.getOwnPropertySymbols},function(a,f,o){var d={};d[o(28)("toStringTag")]="z",a.exports=String(d)==="[object z]"},function(a,f,o){var d=o(7),h=o(75),m=o(45),g=o(62),E=d.Array,P=Math.max;a.exports=function(j,k,T){for(var C=m(j),N=h(k,C),I=h(T===void 0?C:T,C),W=E(P(I-N,0)),U=0;N<I;N++,U++)g(W,U,j[N]);return W.length=U,W}},function(a,f,o){var d=o(178);a.exports=function(h,m){return new(d(h))(m===0?0:m)}},function(a,f,o){var d=o(16),h=o(34),m=o(71),g=o(73),E=o(30),P=o(180),j=o(101),k=o(102),T=o(78),C=o(57),N=o(42),I=o(28),W=o(80),U=o(142),ne=g.PROPER,ue=g.CONFIGURABLE,ae=U.IteratorPrototype,ee=U.BUGGY_SAFARI_ITERATORS,te=I("iterator"),V="keys",z="values",H="entries",Y=function(){return this};a.exports=function(q,ce,Ee,me,Ae,ze,je){P(Ee,ce,me);var ve,Pe,Me,$e=function(se){if(se===Ae&&mt)return mt;if(!ee&&se in Xe)return Xe[se];switch(se){case V:case z:case H:return function(){return new Ee(this,se)}}return function(){return new Ee(this)}},nt=ce+" Iterator",wt=!1,Xe=q.prototype,qe=Xe[te]||Xe["@@iterator"]||Ae&&Xe[Ae],mt=!ee&&qe||$e(Ae),fe=ce=="Array"&&Xe.entries||qe;if(fe&&(ve=j(fe.call(new q)))!==Object.prototype&&ve.next&&(m||j(ve)===ae||(k?k(ve,ae):E(ve[te])||N(ve,te,Y)),T(ve,nt,!0,!0),m&&(W[nt]=Y)),ne&&Ae==z&&qe&&qe.name!==z&&(!m&&ue?C(Xe,"name",z):(wt=!0,mt=function(){return h(qe,this)})),Ae)if(Pe={values:$e(z),keys:ze?mt:$e(V),entries:$e(H)},je)for(Me in Pe)(ee||wt||!(Me in Xe))&&N(Xe,Me,Pe[Me]);else d({target:ce,proto:!0,forced:ee||wt},Pe);return m&&!je||Xe[te]===mt||N(Xe,te,mt,{name:Ae}),W[ce]=mt,Pe}},function(a,f,o){var d=o(7),h=o(63),m=o(34),g=o(32),E=o(88),P=o(145),j=o(45),k=o(54),T=o(146),C=o(118),N=o(147),I=d.TypeError,W=function(ne,ue){this.stopped=ne,this.result=ue},U=W.prototype;a.exports=function(ne,ue,ae){var ee,te,V,z,H,Y,q,ce=ae&&ae.that,Ee=!(!ae||!ae.AS_ENTRIES),me=!(!ae||!ae.IS_ITERATOR),Ae=!(!ae||!ae.INTERRUPTED),ze=h(ue,ce),je=function(Pe){return ee&&N(ee,"normal",Pe),new W(!0,Pe)},ve=function(Pe){return Ee?(g(Pe),Ae?ze(Pe[0],Pe[1],je):ze(Pe[0],Pe[1])):Ae?ze(Pe,je):ze(Pe)};if(me)ee=ne;else{if(!(te=C(ne)))throw I(E(ne)+" is not iterable");if(P(te)){for(V=0,z=j(ne);z>V;V++)if((H=ve(ne[V]))&&k(U,H))return H;return new W(!1)}ee=T(ne,te)}for(Y=ee.next;!(q=m(Y,ee)).done;){try{H=ve(q.value)}catch(Pe){N(ee,"throw",Pe)}if(typeof H=="object"&&H&&k(U,H))return H}return new W(!1)}},function(a,f,o){var d=o(97),h=o(61),m=o(80),g=o(28)("iterator");a.exports=function(E){if(E!=null)return h(E,g)||h(E,"@@iterator")||m[d(E)]}},function(a,f,o){var d=o(7),h=o(54),m=d.TypeError;a.exports=function(g,E){if(h(E,g))return g;throw m("Incorrect invocation")}},function(a,f,o){var d=o(28)("iterator"),h=!1;try{var m=0,g={next:function(){return{done:!!m++}},return:function(){h=!0}};g[d]=function(){return this},Array.from(g,function(){throw 2})}catch(E){}a.exports=function(E,P){if(!P&&!h)return!1;var j=!1;try{var k={};k[d]=function(){return{next:function(){return{done:j=!0}}}},E(k)}catch(T){}return j}},function(a,f,o){var d=o(18);a.exports=function(h,m){var g=[][h];return!!g&&d(function(){g.call(null,m||function(){throw 1},1)})}},function(a,f){a.exports=function(o){if(!o.webpackPolyfill){var d=Object.create(o);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(a,f,o){o(19);var d=o(15),h=o(42),m=o(103),g=o(18),E=o(28),P=o(57),j=E("species"),k=RegExp.prototype;a.exports=function(T,C,N,I){var W=E(T),U=!g(function(){var ee={};return ee[W]=function(){return 7},""[T](ee)!=7}),ne=U&&!g(function(){var ee=!1,te=/a/;return T==="split"&&((te={}).constructor={},te.constructor[j]=function(){return te},te.flags="",te[W]=/./[W]),te.exec=function(){return ee=!0,null},te[W](""),!ee});if(!U||!ne||N){var ue=d(/./[W]),ae=C(W,""[T],function(ee,te,V,z,H){var Y=d(ee),q=te.exec;return q===m||q===k.exec?U&&!H?{done:!0,value:ue(te,V,z)}:{done:!0,value:Y(V,te,z)}:{done:!1}});h(String.prototype,T,ae[0]),h(k,W,ae[1])}I&&P(k[W],"sham",!0)}},function(a,f,o){var d=o(151).charAt;a.exports=function(h,m,g){return m+(g?d(h,m).length:1)}},function(a,f,o){var d=o(7),h=o(34),m=o(32),g=o(30),E=o(51),P=o(103),j=d.TypeError;a.exports=function(k,T){var C=k.exec;if(g(C)){var N=h(C,k,T);return N!==null&&m(N),N}if(E(k)==="RegExp")return h(P,k,T);throw j("RegExp#exec called on incompatible receiver")}},function(a,f,o){var d=o(76),h=o(34),m=o(15),g=o(123),E=o(18),P=o(32),j=o(30),k=o(59),T=o(94),C=o(39),N=o(44),I=o(124),W=o(61),U=o(201),ne=o(125),ue=o(28)("replace"),ae=Math.max,ee=Math.min,te=m([].concat),V=m([].push),z=m("".indexOf),H=m("".slice),Y="a".replace(/./,"$0")==="$0",q=!!/./[ue]&&/./[ue]("a","$0")==="";g("replace",function(ce,Ee,me){var Ae=q?"$":"$0";return[function(ze,je){var ve=N(this),Pe=ze==null?void 0:W(ze,ue);return Pe?h(Pe,ze,ve,je):h(Ee,C(ve),ze,je)},function(ze,je){var ve=P(this),Pe=C(ze);if(typeof je=="string"&&z(je,Ae)===-1&&z(je,"$<")===-1){var Me=me(Ee,ve,Pe,je);if(Me.done)return Me.value}var $e=j(je);$e||(je=C(je));var nt=ve.global;if(nt){var wt=ve.unicode;ve.lastIndex=0}for(var Xe=[];;){var qe=ne(ve,Pe);if(qe===null||(V(Xe,qe),!nt))break;C(qe[0])===""&&(ve.lastIndex=I(Pe,T(ve.lastIndex),wt))}for(var mt,fe="",se=0,ye=0;ye<Xe.length;ye++){for(var De=C((qe=Xe[ye])[0]),Ge=ae(ee(k(qe.index),Pe.length),0),Le=[],xt=1;xt<qe.length;xt++)V(Le,(mt=qe[xt])===void 0?mt:String(mt));var kt=qe.groups;if($e){var jt=te([De],Le,Ge,Pe);kt!==void 0&&V(jt,kt);var vt=C(d(je,void 0,jt))}else vt=U(De,Pe,Ge,Le,kt,je);Ge>=se&&(fe+=H(Pe,se,Ge)+vt,se=Ge+De.length)}return fe+H(Pe,se)}]},!!E(function(){var ce=/./;return ce.exec=function(){var Ee=[];return Ee.groups={a:"7"},Ee},"".replace(ce,"$<a>")!=="7"})||!Y||q)},function(a,f,o){var d=o(16),h=Math.hypot,m=Math.abs,g=Math.sqrt;d({target:"Math",stat:!0,forced:!!h&&h(1/0,NaN)!==1/0},{hypot:function(E,P){for(var j,k,T=0,C=0,N=arguments.length,I=0;C<N;)I<(j=m(arguments[C++]))?(T=T*(k=I/j)*k+1,I=j):T+=j>0?(k=j/I)*k:j;return I===1/0?1/0:I*g(T)}})},function(a,f,o){var d=o(51),h=o(7);a.exports=d(h.process)=="process"},function(a,f,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(a,f,o){(function(d,h){var m;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var g,E="Expected a function",P="__lodash_hash_undefined__",j="__lodash_placeholder__",k=16,T=32,C=64,N=128,I=256,W=1/0,U=9007199254740991,ne=NaN,ue=4294967295,ae=[["ary",N],["bind",1],["bindKey",2],["curry",8],["curryRight",k],["flip",512],["partial",T],["partialRight",C],["rearg",I]],ee="[object Arguments]",te="[object Array]",V="[object Boolean]",z="[object Date]",H="[object Error]",Y="[object Function]",q="[object GeneratorFunction]",ce="[object Map]",Ee="[object Number]",me="[object Object]",Ae="[object Promise]",ze="[object RegExp]",je="[object Set]",ve="[object String]",Pe="[object Symbol]",Me="[object WeakMap]",$e="[object ArrayBuffer]",nt="[object DataView]",wt="[object Float32Array]",Xe="[object Float64Array]",qe="[object Int8Array]",mt="[object Int16Array]",fe="[object Int32Array]",se="[object Uint8Array]",ye="[object Uint8ClampedArray]",De="[object Uint16Array]",Ge="[object Uint32Array]",Le=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jt=/&(?:amp|lt|gt|quot|#39);/g,vt=/[&<>"']/g,Te=RegExp(jt.source),ct=RegExp(vt.source),pe=/<%-([\s\S]+?)%>/g,ot=/<%([\s\S]+?)%>/g,Bt=/<%=([\s\S]+?)%>/g,pn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zt=/^\w*$/,nn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mn=/[\\^$.*+?()[\]{}|]/g,kn=RegExp(mn.source),Ct=/^\s+/,Hn=/\s/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,he=/\{\n\/\* \[wrapped with (.+)\] \*/,ie=/,? & /,_e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ye=/[()=,{}\[\]\/\s]/,Ve=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ht=/\w*$/,nr=/^[-+]0x[0-9a-f]+$/i,vr=/^0b[01]+$/i,Xn=/^\[object .+?Constructor\]$/,Zn=/^0o[0-7]+$/i,it=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,St=/($^)/,It=/['\n\r\u2028\u2029\\]/g,gn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Bn="\\u2700-\\u27bf",Fo="a-z\\xdf-\\xf6\\xf8-\\xff",Eo="A-Z\\xc0-\\xd6\\xd8-\\xde",$o="\\ufe0e\\ufe0f",Li="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tl="['’]",zu="[\\ud800-\\udfff]",Jr="["+Li+"]",fa="["+gn+"]",st="\\d+",kl="[\\u2700-\\u27bf]",Fu="["+Fo+"]",$u="[^\\ud800-\\udfff"+Li+st+Bn+Fo+Eo+"]",kr="\\ud83c[\\udffb-\\udfff]",Wr="[^\\ud800-\\udfff]",Ha="(?:\\ud83c[\\udde6-\\uddff]){2}",ho="[\\ud800-\\udbff][\\udc00-\\udfff]",Qr="["+Eo+"]",yo="(?:"+Fu+"|"+$u+")",Wu="(?:"+Qr+"|"+$u+")",Gu="(?:['’](?:d|ll|m|re|s|t|ve))?",Yc="(?:['’](?:D|LL|M|RE|S|T|VE))?",pa="(?:"+fa+"|"+kr+")?",Vc="[\\ufe0e\\ufe0f]?",Uu=Vc+pa+("(?:\\u200d(?:"+[Wr,Ha,ho].join("|")+")"+Vc+pa+")*"),Dl="(?:"+[kl,Ha,ho].join("|")+")"+Uu,di="(?:"+[Wr+fa+"?",fa,Ha,ho,zu].join("|")+")",Kc=RegExp(Tl,"g"),Wo=RegExp(fa,"g"),Hu=RegExp(kr+"(?="+kr+")|"+di+Uu,"g"),Xa=RegExp([Qr+"?"+Fu+"+"+Gu+"(?="+[Jr,Qr,"$"].join("|")+")",Wu+"+"+Yc+"(?="+[Jr,Qr+yo,"$"].join("|")+")",Qr+"?"+yo+"+"+Gu,Qr+"+"+Yc,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",st,Dl].join("|"),"g"),Xu=RegExp("[\\u200d\\ud800-\\udfff"+gn+$o+"]"),Yu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qc=-1,hn={};hn[wt]=hn[Xe]=hn[qe]=hn[mt]=hn[fe]=hn[se]=hn[ye]=hn[De]=hn[Ge]=!0,hn[ee]=hn[te]=hn[$e]=hn[V]=hn[nt]=hn[z]=hn[H]=hn[Y]=hn[ce]=hn[Ee]=hn[me]=hn[ze]=hn[je]=hn[ve]=hn[Me]=!1;var dn={};dn[ee]=dn[te]=dn[$e]=dn[nt]=dn[V]=dn[z]=dn[wt]=dn[Xe]=dn[qe]=dn[mt]=dn[fe]=dn[ce]=dn[Ee]=dn[me]=dn[ze]=dn[je]=dn[ve]=dn[Pe]=dn[se]=dn[ye]=dn[De]=dn[Ge]=!0,dn[H]=dn[Y]=dn[Me]=!1;var Zc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bi=parseFloat,Go=parseInt,Vu=typeof d=="object"&&d&&d.Object===Object&&d,Jc=typeof self=="object"&&self&&self.Object===Object&&self,Gn=Vu||Jc||Function("return this")(),Ku=f&&!f.nodeType&&f,da=Ku&&typeof h=="object"&&h&&!h.nodeType&&h,qu=da&&da.exports===Ku,Ya=qu&&Vu.process,gr=function(){try{var we=da&&da.require&&da.require("util").types;return we||Ya&&Ya.binding&&Ya.binding("util")}catch(Ne){}}(),Zu=gr&&gr.isArrayBuffer,Qc=gr&&gr.isDate,Ju=gr&&gr.isMap,Va=gr&&gr.isRegExp,zi=gr&&gr.isSet,So=gr&&gr.isTypedArray;function wn(we,Ne,Ie){switch(Ie.length){case 0:return we.call(Ne);case 1:return we.call(Ne,Ie[0]);case 2:return we.call(Ne,Ie[0],Ie[1]);case 3:return we.call(Ne,Ie[0],Ie[1],Ie[2])}return we.apply(Ne,Ie)}function es(we,Ne,Ie,Je){for(var Ft=-1,Jt=we==null?0:we.length;++Ft<Jt;){var Sn=we[Ft];Ne(Je,Sn,Ie(Sn),we)}return Je}function Dr(we,Ne){for(var Ie=-1,Je=we==null?0:we.length;++Ie<Je&&Ne(we[Ie],Ie,we)!==!1;);return we}function ts(we,Ne){for(var Ie=we==null?0:we.length;Ie--&&Ne(we[Ie],Ie,we)!==!1;);return we}function ns(we,Ne){for(var Ie=-1,Je=we==null?0:we.length;++Ie<Je;)if(!Ne(we[Ie],Ie,we))return!1;return!0}function Sr(we,Ne){for(var Ie=-1,Je=we==null?0:we.length,Ft=0,Jt=[];++Ie<Je;){var Sn=we[Ie];Ne(Sn,Ie,we)&&(Jt[Ft++]=Sn)}return Jt}function Nr(we,Ne){return!!(we!=null&&we.length)&&Fi(we,Ne,0)>-1}function Qu(we,Ne,Ie){for(var Je=-1,Ft=we==null?0:we.length;++Je<Ft;)if(Ie(Ne,we[Je]))return!0;return!1}function un(we,Ne){for(var Ie=-1,Je=we==null?0:we.length,Ft=Array(Je);++Ie<Je;)Ft[Ie]=Ne(we[Ie],Ie,we);return Ft}function rr(we,Ne){for(var Ie=-1,Je=Ne.length,Ft=we.length;++Ie<Je;)we[Ft+Ie]=Ne[Ie];return we}function Ka(we,Ne,Ie,Je){var Ft=-1,Jt=we==null?0:we.length;for(Je&&Jt&&(Ie=we[++Ft]);++Ft<Jt;)Ie=Ne(Ie,we[Ft],Ft,we);return Ie}function rs(we,Ne,Ie,Je){var Ft=we==null?0:we.length;for(Je&&Ft&&(Ie=we[--Ft]);Ft--;)Ie=Ne(Ie,we[Ft],Ft,we);return Ie}function ec(we,Ne){for(var Ie=-1,Je=we==null?0:we.length;++Ie<Je;)if(Ne(we[Ie],Ie,we))return!0;return!1}var qa=Cr("length");function jo(we,Ne,Ie){var Je;return Ie(we,function(Ft,Jt,Sn){if(Ne(Ft,Jt,Sn))return Je=Jt,!1}),Je}function Uo(we,Ne,Ie,Je){for(var Ft=we.length,Jt=Ie+(Je?1:-1);Je?Jt--:++Jt<Ft;)if(Ne(we[Jt],Jt,we))return Jt;return-1}function Fi(we,Ne,Ie){return Ne==Ne?function(Je,Ft,Jt){for(var Sn=Jt-1,O=Je.length;++Sn<O;)if(Je[Sn]===Ft)return Sn;return-1}(we,Ne,Ie):Uo(we,Ho,Ie)}function Rr(we,Ne,Ie,Je){for(var Ft=Ie-1,Jt=we.length;++Ft<Jt;)if(Je(we[Ft],Ne))return Ft;return-1}function Ho(we){return we!=we}function rn(we,Ne){var Ie=we==null?0:we.length;return Ie?Za(we,Ne)/Ie:ne}function Cr(we){return function(Ne){return Ne==null?g:Ne[we]}}function Po(we){return function(Ne){return we==null?g:we[Ne]}}function pr(we,Ne,Ie,Je,Ft){return Ft(we,function(Jt,Sn,O){Ie=Je?(Je=!1,Jt):Ne(Ie,Jt,Sn,O)}),Ie}function Za(we,Ne){for(var Ie,Je=-1,Ft=we.length;++Je<Ft;){var Jt=Ne(we[Je]);Jt!==g&&(Ie=Ie===g?Jt:Ie+Jt)}return Ie}function ha(we,Ne){for(var Ie=-1,Je=Array(we);++Ie<we;)Je[Ie]=Ne(Ie);return Je}function tc(we){return we&&we.slice(0,Ir(we)+1).replace(Ct,"")}function zn(we){return function(Ne){return we(Ne)}}function Ja(we,Ne){return un(Ne,function(Ie){return we[Ie]})}function Xo(we,Ne){return we.has(Ne)}function eo(we,Ne){for(var Ie=-1,Je=we.length;++Ie<Je&&Fi(Ne,we[Ie],0)>-1;);return Ie}function nc(we,Ne){for(var Ie=we.length;Ie--&&Fi(Ne,we[Ie],0)>-1;);return Ie}function Rl(we,Ne){for(var Ie=we.length,Je=0;Ie--;)we[Ie]===Ne&&++Je;return Je}var rc=Po({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Jn=Po({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function $i(we){return"\\"+Zc[we]}function Ao(we){return Xu.test(we)}function jr(we){var Ne=-1,Ie=Array(we.size);return we.forEach(function(Je,Ft){Ie[++Ne]=[Ft,Je]}),Ie}function oc(we,Ne){return function(Ie){return we(Ne(Ie))}}function Gr(we,Ne){for(var Ie=-1,Je=we.length,Ft=0,Jt=[];++Ie<Je;){var Sn=we[Ie];Sn!==Ne&&Sn!==j||(we[Ie]=j,Jt[Ft++]=Ie)}return Jt}function hi(we){var Ne=-1,Ie=Array(we.size);return we.forEach(function(Je){Ie[++Ne]=Je}),Ie}function Qa(we){var Ne=-1,Ie=Array(we.size);return we.forEach(function(Je){Ie[++Ne]=[Je,Je]}),Ie}function Mo(we){return Ao(we)?function(Ne){for(var Ie=Hu.lastIndex=0;Hu.test(Ne);)++Ie;return Ie}(we):qa(we)}function Ur(we){return Ao(we)?function(Ne){return Ne.match(Hu)||[]}(we):function(Ne){return Ne.split("")}(we)}function Ir(we){for(var Ne=we.length;Ne--&&Hn.test(we.charAt(Ne)););return Ne}var to=Po({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),To=function we(Ne){var Ie,Je=(Ne=Ne==null?Gn:To.defaults(Gn.Object(),Ne,To.pick(Gn,Nl))).Array,Ft=Ne.Date,Jt=Ne.Error,Sn=Ne.Function,O=Ne.Math,w=Ne.Object,M=Ne.RegExp,B=Ne.String,K=Ne.TypeError,de=Je.prototype,Se=Sn.prototype,Fe=w.prototype,at=Ne["__core-js_shared__"],Vt=Se.toString,Qe=Fe.hasOwnProperty,_n=0,$t=(Ie=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||""))?"Symbol(src)_1."+Ie:"",sn=Fe.toString,no=Vt.call(w),Nn=Gn._,Lr=M("^"+Vt.call(Qe).replace(mn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yo=qu?Ne.Buffer:g,Vo=Ne.Symbol,ya=Ne.Uint8Array,ic=Yo?Yo.allocUnsafe:g,yi=oc(w.getPrototypeOf,w),eu=w.create,Pr=Fe.propertyIsEnumerable,va=de.splice,Wi=Vo?Vo.isConcatSpreadable:g,vi=Vo?Vo.iterator:g,gi=Vo?Vo.toStringTag:g,ac=function(){try{var l=Ki(w,"defineProperty");return l({},"",{}),l}catch(y){}}(),My=Ne.clearTimeout!==Gn.clearTimeout&&Ne.clearTimeout,Ty=Ft&&Ft.now!==Gn.Date.now&&Ft.now,Fp=Ne.setTimeout!==Gn.setTimeout&&Ne.setTimeout,os=O.ceil,tu=O.floor,Cl=w.getOwnPropertySymbols,ky=Yo?Yo.isBuffer:g,$p=Ne.isFinite,Dy=de.join,Wp=oc(w.keys,w),dr=O.max,Ar=O.min,is=Ft.now,as=Ne.parseInt,us=O.random,Ny=de.reverse,nu=Ki(Ne,"DataView"),Ko=Ki(Ne,"Map"),Il=Ki(Ne,"Promise"),ga=Ki(Ne,"Set"),ru=Ki(Ne,"WeakMap"),uc=Ki(w,"create"),cs=ru&&new ru,ou={},Ry=Yr(nu),Gp=Yr(Ko),Cy=Yr(Il),Iy=Yr(ga),Up=Yr(ru),ss=Vo?Vo.prototype:g,hr=ss?ss.valueOf:g,Hp=ss?ss.toString:g;function F(l){if(Wn(l)&&!Gt(l)&&!(l instanceof an)){if(l instanceof vo)return l;if(Qe.call(l,"__wrapped__"))return Ed(l)}return new vo(l)}var iu=function(){function l(){}return function(y){if(!$n(y))return{};if(eu)return eu(y);l.prototype=y;var _=new l;return l.prototype=g,_}}();function cc(){}function vo(l,y){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=g}function an(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function ba(l){var y=-1,_=l==null?0:l.length;for(this.clear();++y<_;){var A=l[y];this.set(A[0],A[1])}}function On(l){var y=-1,_=l==null?0:l.length;for(this.clear();++y<_;){var A=l[y];this.set(A[0],A[1])}}function qo(l){var y=-1,_=l==null?0:l.length;for(this.clear();++y<_;){var A=l[y];this.set(A[0],A[1])}}function Gi(l){var y=-1,_=l==null?0:l.length;for(this.__data__=new qo;++y<_;)this.add(l[y])}function go(l){var y=this.__data__=new On(l);this.size=y.size}function Ll(l,y){var _=Gt(l),A=!_&&Ea(l),R=!_&&!A&&xi(l),G=!_&&!A&&!R&&qi(l),re=_||A||R||G,le=re?ha(l.length,B):[],Oe=le.length;for(var Z in l)!y&&!Qe.call(l,Z)||re&&(Z=="length"||R&&(Z=="offset"||Z=="parent")||G&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||ti(Z,Oe))||le.push(Z);return le}function Bl(l){var y=l.length;return y?l[Xl(0,y-1)]:g}function Xp(l,y){return _a(Xr(l),Ui(y,0,l.length))}function Yp(l){return _a(Xr(l))}function ls(l,y,_){(_!==g&&!Ln(l[y],_)||_===g&&!(y in l))&&Zo(l,y,_)}function au(l,y,_){var A=l[y];Qe.call(l,y)&&Ln(A,_)&&(_!==g||y in l)||Zo(l,y,_)}function sc(l,y){for(var _=l.length;_--;)if(Ln(l[_][0],y))return _;return-1}function Vp(l,y,_,A){return Rn(l,function(R,G,re){y(A,R,_(R),re)}),A}function zl(l,y){return l&&Jo(y,ar(y),l)}function Zo(l,y,_){y=="__proto__"&&ac?ac(l,y,{configurable:!0,enumerable:!0,value:_,writable:!0}):l[y]=_}function fs(l,y){for(var _=-1,A=y.length,R=Je(A),G=l==null;++_<A;)R[_]=G?g:wc(l,y[_]);return R}function Ui(l,y,_){return l==l&&(_!==g&&(l=l<=_?l:_),y!==g&&(l=l>=y?l:y)),l}function ro(l,y,_,A,R,G){var re,le=1&y,Oe=2&y,Z=4&y;if(_&&(re=R?_(l,A,R,G):_(l)),re!==g)return re;if(!$n(l))return l;var Re=Gt(l);if(Re){if(re=function(Be){var Ue=Be.length,Dt=new Be.constructor(Ue);return Ue&&typeof Be[0]=="string"&&Qe.call(Be,"index")&&(Dt.index=Be.index,Dt.input=Be.input),Dt}(l),!le)return Xr(l,re)}else{var We=Or(l),lt=We==Y||We==q;if(xi(l))return Ql(l,le);if(We==me||We==ee||lt&&!R){if(re=Oe||lt?{}:uf(l),!le)return Oe?function(Be,Ue){return Jo(Be,ke(Be),Ue)}(l,function(Be,Ue){return Be&&Jo(Ue,mr(Ue),Be)}(re,l)):function(Be,Ue){return Jo(Be,of(Be),Ue)}(l,zl(re,l))}else{if(!dn[We])return R?l:{};re=function(Be,Ue,Dt){var ut=Be.constructor;switch(Ue){case $e:return ef(Be);case V:case z:return new ut(+Be);case nt:return function(Lt,tn){var gt=tn?ef(Lt.buffer):Lt.buffer;return new Lt.constructor(gt,Lt.byteOffset,Lt.byteLength)}(Be,Dt);case wt:case Xe:case qe:case mt:case fe:case se:case ye:case De:case Ge:return Pn(Be,Dt);case ce:return new ut;case Ee:case ve:return new ut(Be);case ze:return function(Lt){var tn=new Lt.constructor(Lt.source,Ht.exec(Lt));return tn.lastIndex=Lt.lastIndex,tn}(Be);case je:return new ut;case Pe:return Nt=Be,hr?w(hr.call(Nt)):{}}var Nt}(l,We,le)}}G||(G=new go);var yt=G.get(l);if(yt)return yt;G.set(l,re),mu(l)?l.forEach(function(Be){re.add(ro(Be,y,_,Be,l,G))}):Id(l)&&l.forEach(function(Be,Ue){re.set(Ue,ro(Be,y,_,Ue,l,G))});var At=Re?g:(Z?Oe?rf:hc:Oe?mr:ar)(l);return Dr(At||l,function(Be,Ue){At&&(Be=l[Ue=Be]),au(re,Ue,ro(Be,y,_,Ue,l,G))}),re}function Fl(l,y,_){var A=_.length;if(l==null)return!A;for(l=w(l);A--;){var R=_[A],G=y[R],re=l[R];if(re===g&&!(R in l)||!G(re))return!1}return!0}function $l(l,y,_){if(typeof l!="function")throw new K(E);return vu(function(){l.apply(g,_)},y)}function bi(l,y,_,A){var R=-1,G=Nr,re=!0,le=l.length,Oe=[],Z=y.length;if(!le)return Oe;_&&(y=un(y,zn(_))),A?(G=Qu,re=!1):y.length>=200&&(G=Xo,re=!1,y=new Gi(y));e:for(;++R<le;){var Re=l[R],We=_==null?Re:_(Re);if(Re=A||Re!==0?Re:0,re&&We==We){for(var lt=Z;lt--;)if(y[lt]===We)continue e;Oe.push(Re)}else G(y,We,A)||Oe.push(Re)}return Oe}F.templateSettings={escape:pe,evaluate:ot,interpolate:Bt,variable:"",imports:{_:F}},F.prototype=cc.prototype,F.prototype.constructor=F,vo.prototype=iu(cc.prototype),vo.prototype.constructor=vo,an.prototype=iu(cc.prototype),an.prototype.constructor=an,ba.prototype.clear=function(){this.__data__=uc?uc(null):{},this.size=0},ba.prototype.delete=function(l){var y=this.has(l)&&delete this.__data__[l];return this.size-=y?1:0,y},ba.prototype.get=function(l){var y=this.__data__;if(uc){var _=y[l];return _===P?g:_}return Qe.call(y,l)?y[l]:g},ba.prototype.has=function(l){var y=this.__data__;return uc?y[l]!==g:Qe.call(y,l)},ba.prototype.set=function(l,y){var _=this.__data__;return this.size+=this.has(l)?0:1,_[l]=uc&&y===g?P:y,this},On.prototype.clear=function(){this.__data__=[],this.size=0},On.prototype.delete=function(l){var y=this.__data__,_=sc(y,l);return!(_<0)&&(_==y.length-1?y.pop():va.call(y,_,1),--this.size,!0)},On.prototype.get=function(l){var y=this.__data__,_=sc(y,l);return _<0?g:y[_][1]},On.prototype.has=function(l){return sc(this.__data__,l)>-1},On.prototype.set=function(l,y){var _=this.__data__,A=sc(_,l);return A<0?(++this.size,_.push([l,y])):_[A][1]=y,this},qo.prototype.clear=function(){this.size=0,this.__data__={hash:new ba,map:new(Ko||On),string:new ba}},qo.prototype.delete=function(l){var y=hu(this,l).delete(l);return this.size-=y?1:0,y},qo.prototype.get=function(l){return hu(this,l).get(l)},qo.prototype.has=function(l){return hu(this,l).has(l)},qo.prototype.set=function(l,y){var _=hu(this,l),A=_.size;return _.set(l,y),this.size+=_.size==A?0:1,this},Gi.prototype.add=Gi.prototype.push=function(l){return this.__data__.set(l,P),this},Gi.prototype.has=function(l){return this.__data__.has(l)},go.prototype.clear=function(){this.__data__=new On,this.size=0},go.prototype.delete=function(l){var y=this.__data__,_=y.delete(l);return this.size=y.size,_},go.prototype.get=function(l){return this.__data__.get(l)},go.prototype.has=function(l){return this.__data__.has(l)},go.prototype.set=function(l,y){var _=this.__data__;if(_ instanceof On){var A=_.__data__;if(!Ko||A.length<199)return A.push([l,y]),this.size=++_.size,this;_=this.__data__=new qo(A)}return _.set(l,y),this.size=_.size,this};var Rn=fd(pt),Kp=fd(jn,!0);function qp(l,y){var _=!0;return Rn(l,function(A,R,G){return _=!!y(A,R,G)}),_}function Yn(l,y,_){for(var A=-1,R=l.length;++A<R;){var G=l[A],re=y(G);if(re!=null&&(le===g?re==re&&!wr(re):_(re,le)))var le=re,Oe=G}return Oe}function yn(l,y){var _=[];return Rn(l,function(A,R,G){y(A,R,G)&&_.push(A)}),_}function br(l,y,_,A,R){var G=-1,re=l.length;for(_||(_=_d),R||(R=[]);++G<re;){var le=l[G];y>0&&_(le)?y>1?br(le,y-1,_,A,R):rr(R,le):A||(R[R.length]=le)}return R}var qt=pd(),Qn=pd(!0);function pt(l,y){return l&&qt(l,y,ar)}function jn(l,y){return l&&Qn(l,y,ar)}function ps(l,y){return Sr(y,function(_){return Ei(l[_])})}function mi(l,y){for(var _=0,A=(y=Xi(y,l)).length;l!=null&&_<A;)l=l[or(y[_++])];return _&&_==A?l:g}function Wl(l,y,_){var A=y(l);return Gt(l)?A:rr(A,_(l))}function Fn(l){return l==null?l===g?"[object Undefined]":"[object Null]":gi&&gi in w(l)?function(y){var _=Qe.call(y,gi),A=y[gi];try{y[gi]=g;var R=!0}catch(re){}var G=sn.call(y);return R&&(_?y[gi]=A:delete y[gi]),G}(l):function(y){return sn.call(y)}(l)}function Un(l,y){return l>y}function Zp(l,y){return l!=null&&Qe.call(l,y)}function Jp(l,y){return l!=null&&y in w(l)}function ds(l,y,_){for(var A=_?Qu:Nr,R=l[0].length,G=l.length,re=G,le=Je(G),Oe=1/0,Z=[];re--;){var Re=l[re];re&&y&&(Re=un(Re,zn(y))),Oe=Ar(Re.length,Oe),le[re]=!_&&(y||R>=120&&Re.length>=120)?new Gi(re&&Re):g}Re=l[0];var We=-1,lt=le[0];e:for(;++We<R&&Z.length<Oe;){var yt=Re[We],At=y?y(yt):yt;if(yt=_||yt!==0?yt:0,!(lt?Xo(lt,At):A(Z,At,_))){for(re=G;--re;){var Be=le[re];if(!(Be?Xo(Be,At):A(l[re],At,_)))continue e}lt&&lt.push(At),Z.push(yt)}}return Z}function uu(l,y,_){var A=(l=ff(l,y=Xi(y,l)))==null?l:l[or(An(y))];return A==null?g:wn(A,l,_)}function Gl(l){return Wn(l)&&Fn(l)==ee}function cu(l,y,_,A,R){return l===y||(l==null||y==null||!Wn(l)&&!Wn(y)?l!=l&&y!=y:function(G,re,le,Oe,Z,Re){var We=Gt(G),lt=Gt(re),yt=We?te:Or(G),At=lt?te:Or(re),Be=(yt=yt==ee?me:yt)==me,Ue=(At=At==ee?me:At)==me,Dt=yt==At;if(Dt&&xi(G)){if(!xi(re))return!1;We=!0,Be=!1}if(Dt&&!Be)return Re||(Re=new go),We||qi(G)?md(G,re,le,Oe,Z,Re):function(gt,Mt,ur,xr,No,yr,ri){switch(ur){case nt:if(gt.byteLength!=Mt.byteLength||gt.byteOffset!=Mt.byteOffset)return!1;gt=gt.buffer,Mt=Mt.buffer;case $e:return!(gt.byteLength!=Mt.byteLength||!yr(new ya(gt),new ya(Mt)));case V:case z:case Ee:return Ln(+gt,+Mt);case H:return gt.name==Mt.name&&gt.message==Mt.message;case ze:case ve:return gt==Mt+"";case ce:var Ro=jr;case je:var Pi=1&xr;if(Ro||(Ro=hi),gt.size!=Mt.size&&!Pi)return!1;var Ai=ri.get(gt);if(Ai)return Ai==Mt;xr|=2,ri.set(gt,Mt);var Pa=md(Ro(gt),Ro(Mt),xr,No,yr,ri);return ri.delete(gt),Pa;case Pe:if(hr)return hr.call(gt)==hr.call(Mt)}return!1}(G,re,yt,le,Oe,Z,Re);if(!(1&le)){var ut=Be&&Qe.call(G,"__wrapped__"),Nt=Ue&&Qe.call(re,"__wrapped__");if(ut||Nt){var Lt=ut?G.value():G,tn=Nt?re.value():re;return Re||(Re=new go),Z(Lt,tn,le,Oe,Re)}}return Dt?(Re||(Re=new go),function(gt,Mt,ur,xr,No,yr){var ri=1&ur,Ro=hc(gt),Pi=Ro.length,Ai=hc(Mt).length;if(Pi!=Ai&&!ri)return!1;for(var Pa=Pi;Pa--;){var Mi=Ro[Pa];if(!(ri?Mi in Mt:Qe.call(Mt,Mi)))return!1}var Mc=yr.get(gt),io=yr.get(Mt);if(Mc&&io)return Mc==Mt&&io==gt;var Xs=!0;yr.set(gt,Mt),yr.set(Mt,gt);for(var ao=ri;++Pa<Pi;){var bt=gt[Mi=Ro[Pa]],Tc=Mt[Mi];if(xr)var np=ri?xr(Tc,bt,Mi,Mt,gt,yr):xr(bt,Tc,Mi,gt,Mt,yr);if(!(np===g?bt===Tc||No(bt,Tc,ur,xr,yr):np)){Xs=!1;break}ao||(ao=Mi=="constructor")}if(Xs&&!ao){var kc=gt.constructor,Ys=Mt.constructor;kc==Ys||!("constructor"in gt)||!("constructor"in Mt)||typeof kc=="function"&&kc instanceof kc&&typeof Ys=="function"&&Ys instanceof Ys||(Xs=!1)}return yr.delete(gt),yr.delete(Mt),Xs}(G,re,le,Oe,Z,Re)):!1}(l,y,_,A,cu,R))}function hs(l,y,_,A){var R=_.length,G=R,re=!A;if(l==null)return!G;for(l=w(l);R--;){var le=_[R];if(re&&le[2]?le[1]!==l[le[0]]:!(le[0]in l))return!1}for(;++R<G;){var Oe=(le=_[R])[0],Z=l[Oe],Re=le[1];if(re&&le[2]){if(Z===g&&!(Oe in l))return!1}else{var We=new go;if(A)var lt=A(Z,Re,Oe,l,y,We);if(!(lt===g?cu(Re,Z,3,A,We):lt))return!1}}return!0}function su(l){return!(!$n(l)||(y=l,$t&&$t in y))&&(Ei(l)?Lr:Xn).test(Yr(l));var y}function Ul(l){return typeof l=="function"?l:l==null?Tr:typeof l=="object"?Gt(l)?ed(l[0],l[1]):Qp(l):Qf(l)}function _i(l){if(!yu(l))return Wp(l);var y=[];for(var _ in w(l))Qe.call(l,_)&&_!="constructor"&&y.push(_);return y}function Ly(l){if(!$n(l))return function(R){var G=[];if(R!=null)for(var re in w(R))G.push(re);return G}(l);var y=yu(l),_=[];for(var A in l)(A!="constructor"||!y&&Qe.call(l,A))&&_.push(A);return _}function Oi(l,y){return l<y}function bo(l,y){var _=-1,A=Br(l)?Je(l.length):[];return Rn(l,function(R,G,re){A[++_]=y(R,G,re)}),A}function Qp(l){var y=Ps(l);return y.length==1&&y[0][2]?sf(y[0][0],y[0][1]):function(_){return _===l||hs(_,l,y)}}function ed(l,y){return As(l)&&cf(y)?sf(or(l),y):function(_){var A=wc(_,l);return A===g&&A===y?xc(_,l):cu(y,A,3)}}function ys(l,y,_,A,R){l!==y&&qt(y,function(G,re){if(R||(R=new go),$n(G))(function(Oe,Z,Re,We,lt,yt,At){var Be=Ts(Oe,Re),Ue=Ts(Z,Re),Dt=At.get(Ue);if(Dt)return void ls(Oe,Re,Dt);var ut=yt?yt(Be,Ue,Re+"",Oe,Z,At):g,Nt=ut===g;if(Nt){var Lt=Gt(Ue),tn=!Lt&&xi(Ue),gt=!Lt&&!tn&&qi(Ue);ut=Ue,Lt||tn||gt?Gt(Be)?ut=Be:Vn(Be)?ut=Xr(Be):tn?(Nt=!1,ut=Ql(Ue,!0)):gt?(Nt=!1,ut=Pn(Ue,!0)):ut=[]:Si(Ue)||Ea(Ue)?(ut=Be,Ea(Be)?ut=Cf(Be):$n(Be)&&!Ei(Be)||(ut=uf(Ue))):Nt=!1}Nt&&(At.set(Ue,ut),lt(ut,Ue,We,yt,At),At.delete(Ue)),ls(Oe,Re,ut)})(l,y,re,_,ys,A,R);else{var le=A?A(Ts(l,re),G,re+"",l,y,R):g;le===g&&(le=G),ls(l,re,le)}},mr)}function td(l,y){var _=l.length;if(_)return ti(y+=y<0?_:0,_)?l[y]:g}function nd(l,y,_){y=y.length?un(y,function(G){return Gt(G)?function(re){return mi(re,G.length===1?G[0]:G)}:G}):[Tr];var A=-1;y=un(y,zn(Et()));var R=bo(l,function(G,re,le){var Oe=un(y,function(Z){return Z(G)});return{criteria:Oe,index:++A,value:G}});return function(G,re){var le=G.length;for(G.sort(re);le--;)G[le]=G[le].value;return G}(R,function(G,re){return function(le,Oe,Z){for(var Re=-1,We=le.criteria,lt=Oe.criteria,yt=We.length,At=Z.length;++Re<yt;){var Be=ld(We[Re],lt[Re]);if(Be)return Re>=At?Be:Be*(Z[Re]=="desc"?-1:1)}return le.index-Oe.index}(G,re,_)})}function rd(l,y,_){for(var A=-1,R=y.length,G={};++A<R;){var re=y[A],le=mi(l,re);_(le,re)&&fu(G,Xi(re,l),le)}return G}function Hl(l,y,_,A){var R=A?Rr:Fi,G=-1,re=y.length,le=l;for(l===y&&(y=Xr(y)),_&&(le=un(l,zn(_)));++G<re;)for(var Oe=0,Z=y[G],Re=_?_(Z):Z;(Oe=R(le,Re,Oe,A))>-1;)le!==l&&va.call(le,Oe,1),va.call(l,Oe,1);return l}function lu(l,y){for(var _=l?y.length:0,A=_-1;_--;){var R=y[_];if(_==A||R!==G){var G=R;ti(R)?va.call(l,R,1):bs(l,R)}}return l}function Xl(l,y){return l+tu(us()*(y-l+1))}function vs(l,y){var _="";if(!l||y<1||y>U)return _;do y%2&&(_+=l),(y=tu(y/2))&&(l+=l);while(y);return _}function Zt(l,y){return ks(lf(l,y,Tr),l+"")}function By(l){return Bl(Ji(l))}function Yl(l,y){var _=Ji(l);return _a(_,Ui(y,0,_.length))}function fu(l,y,_,A){if(!$n(l))return l;for(var R=-1,G=(y=Xi(y,l)).length,re=G-1,le=l;le!=null&&++R<G;){var Oe=or(y[R]),Z=_;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return l;if(R!=re){var Re=le[Oe];(Z=A?A(Re,Oe,le):g)===g&&(Z=$n(Re)?Re:ti(y[R+1])?[]:{})}au(le,Oe,Z),le=le[Oe]}return l}var od=cs?function(l,y){return cs.set(l,y),l}:Tr,zy=ac?function(l,y){return ac(l,"toString",{configurable:!0,enumerable:!1,value:Ws(y),writable:!0})}:Tr;function Fy(l){return _a(Ji(l))}function mo(l,y,_){var A=-1,R=l.length;y<0&&(y=-y>R?0:R+y),(_=_>R?R:_)<0&&(_+=R),R=y>_?0:_-y>>>0,y>>>=0;for(var G=Je(R);++A<R;)G[A]=l[A+y];return G}function Vl(l,y){var _;return Rn(l,function(A,R,G){return!(_=y(A,R,G))}),!!_}function gs(l,y,_){var A=0,R=l==null?A:l.length;if(typeof y=="number"&&y==y&&R<=2147483647){for(;A<R;){var G=A+R>>>1,re=l[G];re!==null&&!wr(re)&&(_?re<=y:re<y)?A=G+1:R=G}return R}return Kl(l,y,Tr,_)}function Kl(l,y,_,A){var R=0,G=l==null?0:l.length;if(G===0)return 0;for(var re=(y=_(y))!=y,le=y===null,Oe=wr(y),Z=y===g;R<G;){var Re=tu((R+G)/2),We=_(l[Re]),lt=We!==g,yt=We===null,At=We==We,Be=wr(We);if(re)var Ue=A||At;else Ue=Z?At&&(A||lt):le?At&&lt&&(A||!yt):Oe?At&&lt&&!yt&&(A||!Be):!yt&&!Be&&(A?We<=y:We<y);Ue?R=Re+1:G=Re}return Ar(G,4294967294)}function id(l,y){for(var _=-1,A=l.length,R=0,G=[];++_<A;){var re=l[_],le=y?y(re):re;if(!_||!Ln(le,Oe)){var Oe=le;G[R++]=re===0?0:re}}return G}function ql(l){return typeof l=="number"?l:wr(l)?ne:+l}function Hr(l){if(typeof l=="string")return l;if(Gt(l))return un(l,Hr)+"";if(wr(l))return Hp?Hp.call(l):"";var y=l+"";return y=="0"&&1/l==-1/0?"-0":y}function Hi(l,y,_){var A=-1,R=Nr,G=l.length,re=!0,le=[],Oe=le;if(_)re=!1,R=Qu;else if(G>=200){var Z=y?null:nf(l);if(Z)return hi(Z);re=!1,R=Xo,Oe=new Gi}else Oe=y?[]:le;e:for(;++A<G;){var Re=l[A],We=y?y(Re):Re;if(Re=_||Re!==0?Re:0,re&&We==We){for(var lt=Oe.length;lt--;)if(Oe[lt]===We)continue e;y&&Oe.push(We),le.push(Re)}else R(Oe,We,_)||(Oe!==le&&Oe.push(We),le.push(Re))}return le}function bs(l,y){return(l=ff(l,y=Xi(y,l)))==null||delete l[or(An(y))]}function ad(l,y,_,A){return fu(l,y,_(mi(l,y)),A)}function lc(l,y,_,A){for(var R=l.length,G=A?R:-1;(A?G--:++G<R)&&y(l[G],G,l););return _?mo(l,A?0:G,A?G+1:R):mo(l,A?G+1:0,A?R:G)}function ud(l,y){var _=l;return _ instanceof an&&(_=_.value()),Ka(y,function(A,R){return R.func.apply(R.thisArg,rr([A],R.args))},_)}function ms(l,y,_){var A=l.length;if(A<2)return A?Hi(l[0]):[];for(var R=-1,G=Je(A);++R<A;)for(var re=l[R],le=-1;++le<A;)le!=R&&(G[R]=bi(G[R]||re,l[le],y,_));return Hi(br(G,1),y,_)}function cd(l,y,_){for(var A=-1,R=l.length,G=y.length,re={};++A<R;){var le=A<G?y[A]:g;_(re,l[A],le)}return re}function _s(l){return Vn(l)?l:[]}function Zl(l){return typeof l=="function"?l:Tr}function Xi(l,y){return Gt(l)?l:As(l,y)?[l]:xd(vn(l))}var sd=Zt;function Yi(l,y,_){var A=l.length;return _=_===g?A:_,!y&&_>=A?l:mo(l,y,_)}var Jl=My||function(l){return Gn.clearTimeout(l)};function Ql(l,y){if(y)return l.slice();var _=l.length,A=ic?ic(_):new l.constructor(_);return l.copy(A),A}function ef(l){var y=new l.constructor(l.byteLength);return new ya(y).set(new ya(l)),y}function Pn(l,y){var _=y?ef(l.buffer):l.buffer;return new l.constructor(_,l.byteOffset,l.length)}function ld(l,y){if(l!==y){var _=l!==g,A=l===null,R=l==l,G=wr(l),re=y!==g,le=y===null,Oe=y==y,Z=wr(y);if(!le&&!Z&&!G&&l>y||G&&re&&Oe&&!le&&!Z||A&&re&&Oe||!_&&Oe||!R)return 1;if(!A&&!G&&!Z&&l<y||Z&&_&&R&&!A&&!G||le&&_&&R||!re&&R||!Oe)return-1}return 0}function Cn(l,y,_,A){for(var R=-1,G=l.length,re=_.length,le=-1,Oe=y.length,Z=dr(G-re,0),Re=Je(Oe+Z),We=!A;++le<Oe;)Re[le]=y[le];for(;++R<re;)(We||R<G)&&(Re[_[R]]=l[R]);for(;Z--;)Re[le++]=l[R++];return Re}function Os(l,y,_,A){for(var R=-1,G=l.length,re=-1,le=_.length,Oe=-1,Z=y.length,Re=dr(G-le,0),We=Je(Re+Z),lt=!A;++R<Re;)We[R]=l[R];for(var yt=R;++Oe<Z;)We[yt+Oe]=y[Oe];for(;++re<le;)(lt||R<G)&&(We[yt+_[re]]=l[R++]);return We}function Xr(l,y){var _=-1,A=l.length;for(y||(y=Je(A));++_<A;)y[_]=l[_];return y}function Jo(l,y,_,A){var R=!_;_||(_={});for(var G=-1,re=y.length;++G<re;){var le=y[G],Oe=A?A(_[le],l[le],le,_,l):g;Oe===g&&(Oe=l[le]),R?Zo(_,le,Oe):au(_,le,Oe)}return _}function ws(l,y){return function(_,A){var R=Gt(_)?es:Vp,G=y?y():{};return R(_,l,Et(A,2),G)}}function ma(l){return Zt(function(y,_){var A=-1,R=_.length,G=R>1?_[R-1]:g,re=R>2?_[2]:g;for(G=l.length>3&&typeof G=="function"?(R--,G):g,re&&Mr(_[0],_[1],re)&&(G=R<3?g:G,R=1),y=w(y);++A<R;){var le=_[A];le&&l(y,le,A,G)}return y})}function fd(l,y){return function(_,A){if(_==null)return _;if(!Br(_))return l(_,A);for(var R=_.length,G=y?R:-1,re=w(_);(y?G--:++G<R)&&A(re[G],G,re)!==!1;);return _}}function pd(l){return function(y,_,A){for(var R=-1,G=w(y),re=A(y),le=re.length;le--;){var Oe=re[l?le:++R];if(_(G[Oe],Oe,G)===!1)break}return y}}function dd(l){return function(y){var _=Ao(y=vn(y))?Ur(y):g,A=_?_[0]:y.charAt(0),R=_?Yi(_,1).join(""):y.slice(1);return A[l]()+R}}function Vi(l){return function(y){return Ka(Do(Fs(y).replace(Kc,"")),l,"")}}function fc(l){return function(){var y=arguments;switch(y.length){case 0:return new l;case 1:return new l(y[0]);case 2:return new l(y[0],y[1]);case 3:return new l(y[0],y[1],y[2]);case 4:return new l(y[0],y[1],y[2],y[3]);case 5:return new l(y[0],y[1],y[2],y[3],y[4]);case 6:return new l(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new l(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var _=iu(l.prototype),A=l.apply(_,y);return $n(A)?A:_}}function hd(l){return function(y,_,A){var R=w(y);if(!Br(y)){var G=Et(_,3);y=ar(y),_=function(le){return G(R[le],le,R)}}var re=l(y,_,A);return re>-1?R[G?y[re]:re]:g}}function yd(l){return In(function(y){var _=y.length,A=_,R=vo.prototype.thru;for(l&&y.reverse();A--;){var G=y[A];if(typeof G!="function")throw new K(E);if(R&&!re&&ko(G)=="wrapper")var re=new vo([],!0)}for(A=re?A:_;++A<_;){var le=ko(G=y[A]),Oe=le=="wrapper"?yc(G):g;re=Oe&&Ms(Oe[0])&&Oe[1]==424&&!Oe[4].length&&Oe[9]==1?re[ko(Oe[0])].apply(re,Oe[3]):G.length==1&&Ms(G)?re[le]():re.thru(G)}return function(){var Z=arguments,Re=Z[0];if(re&&Z.length==1&&Gt(Re))return re.plant(Re).value();for(var We=0,lt=_?y[We].apply(this,Z):Re;++We<_;)lt=y[We].call(this,lt);return lt}})}function pc(l,y,_,A,R,G,re,le,Oe,Z){var Re=y&N,We=1&y,lt=2&y,yt=24&y,At=512&y,Be=lt?g:fc(l);return function Ue(){for(var Dt=arguments.length,ut=Je(Dt),Nt=Dt;Nt--;)ut[Nt]=arguments[Nt];if(yt)var Lt=du(Ue),tn=Rl(ut,Lt);if(A&&(ut=Cn(ut,A,R,yt)),G&&(ut=Os(ut,G,re,yt)),Dt-=tn,yt&&Dt<Z){var gt=Gr(ut,Lt);return Es(l,y,pc,Ue.placeholder,_,ut,gt,le,Oe,Z-Dt)}var Mt=We?_:this,ur=lt?Mt[l]:l;return Dt=ut.length,le?ut=wd(ut,le):At&&Dt>1&&ut.reverse(),Re&&Oe<Dt&&(ut.length=Oe),this&&this!==Gn&&this instanceof Ue&&(ur=Be||fc(ur)),ur.apply(Mt,ut)}}function vd(l,y){return function(_,A){return function(R,G,re,le){return pt(R,function(Oe,Z,Re){G(le,re(Oe),Z,Re)}),le}(_,l,y(A),{})}}function dc(l,y){return function(_,A){var R;if(_===g&&A===g)return y;if(_!==g&&(R=_),A!==g){if(R===g)return A;typeof _=="string"||typeof A=="string"?(_=Hr(_),A=Hr(A)):(_=ql(_),A=ql(A)),R=l(_,A)}return R}}function tf(l){return In(function(y){return y=un(y,zn(Et())),Zt(function(_){var A=this;return l(y,function(R){return wn(R,A,_)})})})}function xs(l,y){var _=(y=y===g?" ":Hr(y)).length;if(_<2)return _?vs(y,l):y;var A=vs(y,os(l/Mo(y)));return Ao(y)?Yi(Ur(A),0,l).join(""):A.slice(0,l)}function Qo(l){return function(y,_,A){return A&&typeof A!="number"&&Mr(y,_,A)&&(_=A=g),y=ni(y),_===g?(_=y,y=0):_=ni(_),function(R,G,re,le){for(var Oe=-1,Z=dr(os((G-R)/(re||1)),0),Re=Je(Z);Z--;)Re[le?Z:++Oe]=R,R+=re;return Re}(y,_,A=A===g?y<_?1:-1:ni(A),l)}}function pu(l){return function(y,_){return typeof y=="string"&&typeof _=="string"||(y=zr(y),_=zr(_)),l(y,_)}}function Es(l,y,_,A,R,G,re,le,Oe,Z){var Re=8&y;y|=Re?T:C,4&(y&=~(Re?C:T))||(y&=-4);var We=[l,y,R,Re?G:g,Re?re:g,Re?g:G,Re?g:re,le,Oe,Z],lt=_.apply(g,We);return Ms(l)&&pf(lt,We),lt.placeholder=A,df(lt,l,y)}function Ss(l){var y=O[l];return function(_,A){if(_=zr(_),(A=A==null?0:Ar(Xt(A),292))&&$p(_)){var R=(vn(_)+"e").split("e");return+((R=(vn(y(R[0]+"e"+(+R[1]+A)))+"e").split("e"))[0]+"e"+(+R[1]-A))}return y(_)}}var nf=ga&&1/hi(new ga([,-0]))[1]==W?function(l){return new ga(l)}:Gs;function js(l){return function(y){var _=Or(y);return _==ce?jr(y):_==je?Qa(y):function(A,R){return un(R,function(G){return[G,A[G]]})}(y,l(y))}}function ei(l,y,_,A,R,G,re,le){var Oe=2&y;if(!Oe&&typeof l!="function")throw new K(E);var Z=A?A.length:0;if(Z||(y&=-97,A=R=g),re=re===g?re:dr(Xt(re),0),le=le===g?le:Xt(le),Z-=R?R.length:0,y&C){var Re=A,We=R;A=R=g}var lt=Oe?g:yc(l),yt=[l,y,_,A,R,Re,We,G,re,le];if(lt&&function(Be,Ue){var Dt=Be[1],ut=Ue[1],Nt=Dt|ut,Lt=Nt<131,tn=ut==N&&Dt==8||ut==N&&Dt==I&&Be[7].length<=Ue[8]||ut==384&&Ue[7].length<=Ue[8]&&Dt==8;if(!Lt&&!tn)return Be;1&ut&&(Be[2]=Ue[2],Nt|=1&Dt?0:4);var gt=Ue[3];if(gt){var Mt=Be[3];Be[3]=Mt?Cn(Mt,gt,Ue[4]):gt,Be[4]=Mt?Gr(Be[3],j):Ue[4]}(gt=Ue[5])&&(Mt=Be[5],Be[5]=Mt?Os(Mt,gt,Ue[6]):gt,Be[6]=Mt?Gr(Be[5],j):Ue[6]),(gt=Ue[7])&&(Be[7]=gt),ut&N&&(Be[8]=Be[8]==null?Ue[8]:Ar(Be[8],Ue[8])),Be[9]==null&&(Be[9]=Ue[9]),Be[0]=Ue[0],Be[1]=Nt}(yt,lt),l=yt[0],y=yt[1],_=yt[2],A=yt[3],R=yt[4],!(le=yt[9]=yt[9]===g?Oe?0:l.length:dr(yt[9]-Z,0))&&24&y&&(y&=-25),y&&y!=1)At=y==8||y==k?function(Be,Ue,Dt){var ut=fc(Be);return function Nt(){for(var Lt=arguments.length,tn=Je(Lt),gt=Lt,Mt=du(Nt);gt--;)tn[gt]=arguments[gt];var ur=Lt<3&&tn[0]!==Mt&&tn[Lt-1]!==Mt?[]:Gr(tn,Mt);return(Lt-=ur.length)<Dt?Es(Be,Ue,pc,Nt.placeholder,g,tn,ur,g,g,Dt-Lt):wn(this&&this!==Gn&&this instanceof Nt?ut:Be,this,tn)}}(l,y,le):y!=T&&y!=33||R.length?pc.apply(g,yt):function(Be,Ue,Dt,ut){var Nt=1&Ue,Lt=fc(Be);return function tn(){for(var gt=-1,Mt=arguments.length,ur=-1,xr=ut.length,No=Je(xr+Mt),yr=this&&this!==Gn&&this instanceof tn?Lt:Be;++ur<xr;)No[ur]=ut[ur];for(;Mt--;)No[ur++]=arguments[++gt];return wn(yr,Nt?Dt:this,No)}}(l,y,_,A);else var At=function(Be,Ue,Dt){var ut=1&Ue,Nt=fc(Be);return function Lt(){return(this&&this!==Gn&&this instanceof Lt?Nt:Be).apply(ut?Dt:this,arguments)}}(l,y,_);return df((lt?od:pf)(At,yt),l,y)}function gd(l,y,_,A){return l===g||Ln(l,Fe[_])&&!Qe.call(A,_)?y:l}function bd(l,y,_,A,R,G){return $n(l)&&$n(y)&&(G.set(y,l),ys(l,y,g,bd,G),G.delete(y)),l}function $y(l){return Si(l)?g:l}function md(l,y,_,A,R,G){var re=1&_,le=l.length,Oe=y.length;if(le!=Oe&&!(re&&Oe>le))return!1;var Z=G.get(l),Re=G.get(y);if(Z&&Re)return Z==y&&Re==l;var We=-1,lt=!0,yt=2&_?new Gi:g;for(G.set(l,y),G.set(y,l);++We<le;){var At=l[We],Be=y[We];if(A)var Ue=re?A(Be,At,We,y,l,G):A(At,Be,We,l,y,G);if(Ue!==g){if(Ue)continue;lt=!1;break}if(yt){if(!ec(y,function(Dt,ut){if(!Xo(yt,ut)&&(At===Dt||R(At,Dt,_,A,G)))return yt.push(ut)})){lt=!1;break}}else if(At!==Be&&!R(At,Be,_,A,G)){lt=!1;break}}return G.delete(l),G.delete(y),lt}function In(l){return ks(lf(l,g,gf),l+"")}function hc(l){return Wl(l,ar,of)}function rf(l){return Wl(l,mr,ke)}var yc=cs?function(l){return cs.get(l)}:Gs;function ko(l){for(var y=l.name+"",_=ou[y],A=Qe.call(ou,y)?_.length:0;A--;){var R=_[A],G=R.func;if(G==null||G==l)return R.name}return y}function du(l){return(Qe.call(F,"placeholder")?F:l).placeholder}function Et(){var l=F.iteratee||qf;return l=l===qf?Ul:l,arguments.length?l(arguments[0],arguments[1]):l}function hu(l,y){var _,A,R=l.__data__;return((A=typeof(_=y))=="string"||A=="number"||A=="symbol"||A=="boolean"?_!=="__proto__":_===null)?R[typeof y=="string"?"string":"hash"]:R.map}function Ps(l){for(var y=ar(l),_=y.length;_--;){var A=y[_],R=l[A];y[_]=[A,R,cf(R)]}return y}function Ki(l,y){var _=function(A,R){return A==null?g:A[R]}(l,y);return su(_)?_:g}var of=Cl?function(l){return l==null?[]:(l=w(l),Sr(Cl(l),function(y){return Pr.call(l,y)}))}:wu,ke=Cl?function(l){for(var y=[];l;)rr(y,of(l)),l=yi(l);return y}:wu,Or=Fn;function af(l,y,_){for(var A=-1,R=(y=Xi(y,l)).length,G=!1;++A<R;){var re=or(y[A]);if(!(G=l!=null&&_(l,re)))break;l=l[re]}return G||++A!=R?G:!!(R=l==null?0:l.length)&&Sa(R)&&ti(re,R)&&(Gt(l)||Ea(l))}function uf(l){return typeof l.constructor!="function"||yu(l)?{}:iu(yi(l))}function _d(l){return Gt(l)||Ea(l)||!!(Wi&&l&&l[Wi])}function ti(l,y){var _=typeof l;return!!(y=y==null?U:y)&&(_=="number"||_!="symbol"&&it.test(l))&&l>-1&&l%1==0&&l<y}function Mr(l,y,_){if(!$n(_))return!1;var A=typeof y;return!!(A=="number"?Br(_)&&ti(y,_.length):A=="string"&&y in _)&&Ln(_[y],l)}function As(l,y){if(Gt(l))return!1;var _=typeof l;return!(_!="number"&&_!="symbol"&&_!="boolean"&&l!=null&&!wr(l))||zt.test(l)||!pn.test(l)||y!=null&&l in w(y)}function Ms(l){var y=ko(l),_=F[y];if(typeof _!="function"||!(y in an.prototype))return!1;if(l===_)return!0;var A=yc(_);return!!A&&l===A[0]}(nu&&Or(new nu(new ArrayBuffer(1)))!=nt||Ko&&Or(new Ko)!=ce||Il&&Or(Il.resolve())!=Ae||ga&&Or(new ga)!=je||ru&&Or(new ru)!=Me)&&(Or=function(l){var y=Fn(l),_=y==me?l.constructor:g,A=_?Yr(_):"";if(A)switch(A){case Ry:return nt;case Gp:return ce;case Cy:return Ae;case Iy:return je;case Up:return Me}return y});var Od=at?Ei:Ac;function yu(l){var y=l&&l.constructor;return l===(typeof y=="function"&&y.prototype||Fe)}function cf(l){return l==l&&!$n(l)}function sf(l,y){return function(_){return _!=null&&_[l]===y&&(y!==g||l in w(_))}}function lf(l,y,_){return y=dr(y===g?l.length-1:y,0),function(){for(var A=arguments,R=-1,G=dr(A.length-y,0),re=Je(G);++R<G;)re[R]=A[y+R];R=-1;for(var le=Je(y+1);++R<y;)le[R]=A[R];return le[y]=_(re),wn(l,this,le)}}function ff(l,y){return y.length<2?l:mi(l,mo(y,0,-1))}function wd(l,y){for(var _=l.length,A=Ar(y.length,_),R=Xr(l);A--;){var G=y[A];l[A]=ti(G,_)?R[G]:g}return l}function Ts(l,y){if((y!=="constructor"||typeof l[y]!="function")&&y!="__proto__")return l[y]}var pf=Ds(od),vu=Fp||function(l,y){return Gn.setTimeout(l,y)},ks=Ds(zy);function df(l,y,_){var A=y+"";return ks(l,function(R,G){var re=G.length;if(!re)return R;var le=re-1;return G[le]=(re>1?"& ":"")+G[le],G=G.join(re>2?", ":" "),R.replace(Q,`{
/* [wrapped with `+G+`] */
`)}(A,function(R,G){return Dr(ae,function(re){var le="_."+re[0];G&re[1]&&!Nr(R,le)&&R.push(le)}),R.sort()}(function(R){var G=R.match(he);return G?G[1].split(ie):[]}(A),_)))}function Ds(l){var y=0,_=0;return function(){var A=is(),R=16-(A-_);if(_=A,R>0){if(++y>=800)return arguments[0]}else y=0;return l.apply(g,arguments)}}function _a(l,y){var _=-1,A=l.length,R=A-1;for(y=y===g?A:y;++_<y;){var G=Xl(_,R),re=l[G];l[G]=l[_],l[_]=re}return l.length=y,l}var xd=function(l){var y=bu(l,function(A){return _.size===500&&_.clear(),A}),_=y.cache;return y}(function(l){var y=[];return l.charCodeAt(0)===46&&y.push(""),l.replace(nn,function(_,A,R,G){y.push(R?G.replace(Ve,"$1"):A||_)}),y});function or(l){if(typeof l=="string"||wr(l))return l;var y=l+"";return y=="0"&&1/l==-1/0?"-0":y}function Yr(l){if(l!=null){try{return Vt.call(l)}catch(y){}try{return l+""}catch(y){}}return""}function Ed(l){if(l instanceof an)return l.clone();var y=new vo(l.__wrapped__,l.__chain__);return y.__actions__=Xr(l.__actions__),y.__index__=l.__index__,y.__values__=l.__values__,y}var oo=Zt(function(l,y){return Vn(l)?bi(l,br(y,1,Vn,!0)):[]}),Sd=Zt(function(l,y){var _=An(y);return Vn(_)&&(_=g),Vn(l)?bi(l,br(y,1,Vn,!0),Et(_,2)):[]}),hf=Zt(function(l,y){var _=An(y);return Vn(_)&&(_=g),Vn(l)?bi(l,br(y,1,Vn,!0),g,_):[]});function yf(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=_==null?0:Xt(_);return R<0&&(R=dr(A+R,0)),Uo(l,Et(y,3),R)}function vf(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=A-1;return _!==g&&(R=Xt(_),R=_<0?dr(A+R,0):Ar(R,A-1)),Uo(l,Et(y,3),R,!0)}function gf(l){return l!=null&&l.length?br(l,1):[]}function bf(l){return l&&l.length?l[0]:g}var jd=Zt(function(l){var y=un(l,_s);return y.length&&y[0]===l[0]?ds(y):[]}),mf=Zt(function(l){var y=An(l),_=un(l,_s);return y===An(_)?y=g:_.pop(),_.length&&_[0]===l[0]?ds(_,Et(y,2)):[]}),vc=Zt(function(l){var y=An(l),_=un(l,_s);return(y=typeof y=="function"?y:g)&&_.pop(),_.length&&_[0]===l[0]?ds(_,g,y):[]});function An(l){var y=l==null?0:l.length;return y?l[y-1]:g}var Wy=Zt(Pd);function Pd(l,y){return l&&l.length&&y&&y.length?Hl(l,y):l}var _f=In(function(l,y){var _=l==null?0:l.length,A=fs(l,y);return lu(l,un(y,function(R){return ti(R,_)?+R:R}).sort(ld)),A});function Ns(l){return l==null?l:Ny.call(l)}var Vr=Zt(function(l){return Hi(br(l,1,Vn,!0))}),ir=Zt(function(l){var y=An(l);return Vn(y)&&(y=g),Hi(br(l,1,Vn,!0),Et(y,2))}),Gy=Zt(function(l){var y=An(l);return y=typeof y=="function"?y:g,Hi(br(l,1,Vn,!0),g,y)});function Kr(l){if(!l||!l.length)return[];var y=0;return l=Sr(l,function(_){if(Vn(_))return y=dr(_.length,y),!0}),ha(y,function(_){return un(l,Cr(_))})}function Pt(l,y){if(!l||!l.length)return[];var _=Kr(l);return y==null?_:un(_,function(A){return wn(y,g,A)})}var Of=Zt(function(l,y){return Vn(l)?bi(l,y):[]}),wf=Zt(function(l){return ms(Sr(l,Vn))}),xf=Zt(function(l){var y=An(l);return Vn(y)&&(y=g),ms(Sr(l,Vn),Et(y,2))}),Ad=Zt(function(l){var y=An(l);return y=typeof y=="function"?y:g,ms(Sr(l,Vn),g,y)}),Md=Zt(Kr),Uy=Zt(function(l){var y=l.length,_=y>1?l[y-1]:g;return _=typeof _=="function"?(l.pop(),_):g,Pt(l,_)});function Td(l){var y=F(l);return y.__chain__=!0,y}function gu(l,y){return y(l)}var Hy=In(function(l){var y=l.length,_=y?l[0]:0,A=this.__wrapped__,R=function(G){return fs(G,l)};return!(y>1||this.__actions__.length)&&A instanceof an&&ti(_)?((A=A.slice(_,+_+(y?1:0))).__actions__.push({func:gu,args:[R],thisArg:g}),new vo(A,this.__chain__).thru(function(G){return y&&!G.length&&G.push(g),G})):this.thru(R)}),Ef=ws(function(l,y,_){Qe.call(l,_)?++l[_]:Zo(l,_,1)}),Xy=hd(yf),Yy=hd(vf);function Sf(l,y){return(Gt(l)?Dr:Rn)(l,Et(y,3))}function Oa(l,y){return(Gt(l)?ts:Kp)(l,Et(y,3))}var kd=ws(function(l,y,_){Qe.call(l,_)?l[_].push(y):Zo(l,_,[y])}),Wt=Zt(function(l,y,_){var A=-1,R=typeof y=="function",G=Br(l)?Je(l.length):[];return Rn(l,function(re){G[++A]=R?wn(y,re,_):uu(re,y,_)}),G}),Dd=ws(function(l,y,_){Zo(l,_,y)});function wa(l,y){return(Gt(l)?un:bo)(l,Et(y,3))}var jf=ws(function(l,y,_){l[_?0:1].push(y)},function(){return[[],[]]}),Vy=Zt(function(l,y){if(l==null)return[];var _=y.length;return _>1&&Mr(l,y[0],y[1])?y=[]:_>2&&Mr(y[0],y[1],y[2])&&(y=[y[0]]),nd(l,br(y,1),[])}),gc=Ty||function(){return Gn.Date.now()};function Pf(l,y,_){return y=_?g:y,y=l&&y==null?l.length:y,ei(l,N,g,g,g,g,y)}function Af(l,y){var _;if(typeof y!="function")throw new K(E);return l=Xt(l),function(){return--l>0&&(_=y.apply(this,arguments)),l<=1&&(y=g),_}}var Mf=Zt(function(l,y,_){var A=1;if(_.length){var R=Gr(_,du(Mf));A|=T}return ei(l,A,y,_,R)}),Nd=Zt(function(l,y,_){var A=3;if(_.length){var R=Gr(_,du(Nd));A|=T}return ei(y,A,l,_,R)});function Rd(l,y,_){var A,R,G,re,le,Oe,Z=0,Re=!1,We=!1,lt=!0;if(typeof l!="function")throw new K(E);function yt(Nt){var Lt=A,tn=R;return A=R=g,Z=Nt,re=l.apply(tn,Lt)}function At(Nt){return Z=Nt,le=vu(Ue,y),Re?yt(Nt):re}function Be(Nt){var Lt=Nt-Oe;return Oe===g||Lt>=y||Lt<0||We&&Nt-Z>=G}function Ue(){var Nt=gc();if(Be(Nt))return Dt(Nt);le=vu(Ue,function(Lt){var tn=y-(Lt-Oe);return We?Ar(tn,G-(Lt-Z)):tn}(Nt))}function Dt(Nt){return le=g,lt&&A?yt(Nt):(A=R=g,re)}function ut(){var Nt=gc(),Lt=Be(Nt);if(A=arguments,R=this,Oe=Nt,Lt){if(le===g)return At(Oe);if(We)return Jl(le),le=vu(Ue,y),yt(Oe)}return le===g&&(le=vu(Ue,y)),re}return y=zr(y)||0,$n(_)&&(Re=!!_.leading,G=(We="maxWait"in _)?dr(zr(_.maxWait)||0,y):G,lt="trailing"in _?!!_.trailing:lt),ut.cancel=function(){le!==g&&Jl(le),Z=0,A=Oe=R=le=g},ut.flush=function(){return le===g?re:Dt(gc())},ut}var bc=Zt(function(l,y){return $l(l,1,y)}),Ky=Zt(function(l,y,_){return $l(l,zr(y)||0,_)});function bu(l,y){if(typeof l!="function"||y!=null&&typeof y!="function")throw new K(E);var _=function(){var A=arguments,R=y?y.apply(this,A):A[0],G=_.cache;if(G.has(R))return G.get(R);var re=l.apply(this,A);return _.cache=G.set(R,re)||G,re};return _.cache=new(bu.Cache||qo),_}function Rs(l){if(typeof l!="function")throw new K(E);return function(){var y=arguments;switch(y.length){case 0:return!l.call(this);case 1:return!l.call(this,y[0]);case 2:return!l.call(this,y[0],y[1]);case 3:return!l.call(this,y[0],y[1],y[2])}return!l.apply(this,y)}}bu.Cache=qo;var qy=sd(function(l,y){var _=(y=y.length==1&&Gt(y[0])?un(y[0],zn(Et())):un(br(y,1),zn(Et()))).length;return Zt(function(A){for(var R=-1,G=Ar(A.length,_);++R<G;)A[R]=y[R].call(this,A[R]);return wn(l,this,A)})}),xa=Zt(function(l,y){var _=Gr(y,du(xa));return ei(l,T,g,y,_)}),wi=Zt(function(l,y){var _=Gr(y,du(wi));return ei(l,C,g,y,_)}),Tf=In(function(l,y){return ei(l,I,g,g,g,y)});function Ln(l,y){return l===y||l!=l&&y!=y}var Cs=pu(Un),mc=pu(function(l,y){return l>=y}),Ea=Gl(function(){return arguments}())?Gl:function(l){return Wn(l)&&Qe.call(l,"callee")&&!Pr.call(l,"callee")},Gt=Je.isArray,Cd=Zu?zn(Zu):function(l){return Wn(l)&&Fn(l)==$e};function Br(l){return l!=null&&Sa(l.length)&&!Ei(l)}function Vn(l){return Wn(l)&&Br(l)}var xi=ky||Ac,Is=Qc?zn(Qc):function(l){return Wn(l)&&Fn(l)==z};function kf(l){if(!Wn(l))return!1;var y=Fn(l);return y==H||y=="[object DOMException]"||typeof l.message=="string"&&typeof l.name=="string"&&!Si(l)}function Ei(l){if(!$n(l))return!1;var y=Fn(l);return y==Y||y==q||y=="[object AsyncFunction]"||y=="[object Proxy]"}function Ls(l){return typeof l=="number"&&l==Xt(l)}function Sa(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=U}function $n(l){var y=typeof l;return l!=null&&(y=="object"||y=="function")}function Wn(l){return l!=null&&typeof l=="object"}var Id=Ju?zn(Ju):function(l){return Wn(l)&&Or(l)==ce};function Df(l){return typeof l=="number"||Wn(l)&&Fn(l)==Ee}function Si(l){if(!Wn(l)||Fn(l)!=me)return!1;var y=yi(l);if(y===null)return!0;var _=Qe.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&Vt.call(_)==no}var Nf=Va?zn(Va):function(l){return Wn(l)&&Fn(l)==ze},mu=zi?zn(zi):function(l){return Wn(l)&&Or(l)==je};function _c(l){return typeof l=="string"||!Gt(l)&&Wn(l)&&Fn(l)==ve}function wr(l){return typeof l=="symbol"||Wn(l)&&Fn(l)==Pe}var qi=So?zn(So):function(l){return Wn(l)&&Sa(l.length)&&!!hn[Fn(l)]},_u=pu(Oi),Oc=pu(function(l,y){return l<=y});function Ou(l){if(!l)return[];if(Br(l))return _c(l)?Ur(l):Xr(l);if(vi&&l[vi])return function(_){for(var A,R=[];!(A=_.next()).done;)R.push(A.value);return R}(l[vi]());var y=Or(l);return(y==ce?jr:y==je?hi:Ji)(l)}function ni(l){return l?(l=zr(l))===W||l===-1/0?17976931348623157e292*(l<0?-1:1):l==l?l:0:l===0?l:0}function Xt(l){var y=ni(l),_=y%1;return y==y?_?y-_:y:0}function Rf(l){return l?Ui(Xt(l),0,ue):0}function zr(l){if(typeof l=="number")return l;if(wr(l))return ne;if($n(l)){var y=typeof l.valueOf=="function"?l.valueOf():l;l=$n(y)?y+"":y}if(typeof l!="string")return l===0?l:+l;l=tc(l);var _=vr.test(l);return _||Zn.test(l)?Go(l.slice(2),_?2:8):nr.test(l)?ne:+l}function Cf(l){return Jo(l,mr(l))}function vn(l){return l==null?"":Hr(l)}var Ld=ma(function(l,y){if(yu(y)||Br(y))Jo(y,ar(y),l);else for(var _ in y)Qe.call(y,_)&&au(l,_,y[_])}),If=ma(function(l,y){Jo(y,mr(y),l)}),ji=ma(function(l,y,_,A){Jo(y,mr(y),l,A)}),Lf=ma(function(l,y,_,A){Jo(y,ar(y),l,A)}),Bd=In(fs),zd=Zt(function(l,y){l=w(l);var _=-1,A=y.length,R=A>2?y[2]:g;for(R&&Mr(y[0],y[1],R)&&(A=1);++_<A;)for(var G=y[_],re=mr(G),le=-1,Oe=re.length;++le<Oe;){var Z=re[le],Re=l[Z];(Re===g||Ln(Re,Fe[Z])&&!Qe.call(l,Z))&&(l[Z]=G[Z])}return l}),Bf=Zt(function(l){return l.push(g,bd),wn($f,g,l)});function wc(l,y,_){var A=l==null?g:mi(l,y);return A===g?_:A}function xc(l,y){return l!=null&&af(l,y,Jp)}var Fd=vd(function(l,y,_){y!=null&&typeof y.toString!="function"&&(y=sn.call(y)),l[y]=_},Ws(Tr)),zf=vd(function(l,y,_){y!=null&&typeof y.toString!="function"&&(y=sn.call(y)),Qe.call(l,y)?l[y].push(_):l[y]=[_]},Et),Ff=Zt(uu);function ar(l){return Br(l)?Ll(l):_i(l)}function mr(l){return Br(l)?Ll(l,!0):Ly(l)}var Zi=ma(function(l,y,_){ys(l,y,_)}),$f=ma(function(l,y,_,A){ys(l,y,_,A)}),$d=In(function(l,y){var _={};if(l==null)return _;var A=!1;y=un(y,function(G){return G=Xi(G,l),A||(A=G.length>1),G}),Jo(l,rf(l),_),A&&(_=ro(_,7,$y));for(var R=y.length;R--;)bs(_,y[R]);return _}),Wf=In(function(l,y){return l==null?{}:function(_,A){return rd(_,A,function(R,G){return xc(_,G)})}(l,y)});function Bs(l,y){if(l==null)return{};var _=un(rf(l),function(A){return[A]});return y=Et(y),rd(l,_,function(A,R){return y(A,R[0])})}var Wd=js(ar),Gf=js(mr);function Ji(l){return l==null?[]:Ja(l,ar(l))}var zs=Vi(function(l,y,_){return y=y.toLowerCase(),l+(_?Ec(y):y)});function Ec(l){return Kn(vn(l).toLowerCase())}function Fs(l){return(l=vn(l))&&l.replace(_t,rc).replace(Wo,"")}var Uf=Vi(function(l,y,_){return l+(_?"-":"")+y.toLowerCase()}),Gd=Vi(function(l,y,_){return l+(_?" ":"")+y.toLowerCase()}),Hf=dd("toLowerCase"),Ud=Vi(function(l,y,_){return l+(_?"_":"")+y.toLowerCase()}),Xf=Vi(function(l,y,_){return l+(_?" ":"")+Kn(y)}),Zy=Vi(function(l,y,_){return l+(_?" ":"")+y.toUpperCase()}),Kn=dd("toUpperCase");function Do(l,y,_){return l=vn(l),(y=_?g:y)===g?function(A){return Yu.test(A)}(l)?function(A){return A.match(Xa)||[]}(l):function(A){return A.match(_e)||[]}(l):l.match(y)||[]}var $s=Zt(function(l,y){try{return wn(l,g,y)}catch(_){return kf(_)?_:new Jt(_)}}),Yf=In(function(l,y){return Dr(y,function(_){_=or(_),Zo(l,_,Mf(l[_],l))}),l});function Ws(l){return function(){return l}}var Vf=yd(),Kf=yd(!0);function Tr(l){return l}function qf(l){return Ul(typeof l=="function"?l:ro(l,1))}var ja=Zt(function(l,y){return function(_){return uu(_,l,y)}}),Zf=Zt(function(l,y){return function(_){return uu(l,_,y)}});function Sc(l,y,_){var A=ar(y),R=ps(y,A);_!=null||$n(y)&&(R.length||!A.length)||(_=y,y=l,l=this,R=ps(y,ar(y)));var G=!($n(_)&&"chain"in _&&!_.chain),re=Ei(l);return Dr(R,function(le){var Oe=y[le];l[le]=Oe,re&&(l.prototype[le]=function(){var Z=this.__chain__;if(G||Z){var Re=l(this.__wrapped__),We=Re.__actions__=Xr(this.__actions__);return We.push({func:Oe,args:arguments,thisArg:l}),Re.__chain__=Z,Re}return Oe.apply(l,rr([this.value()],arguments))})}),l}function Gs(){}var jc=tf(un),Pc=tf(ns),Jf=tf(ec);function Qf(l){return As(l)?Cr(or(l)):function(y){return function(_){return mi(_,y)}}(l)}var Hd=Qo(),_r=Qo(!0);function wu(){return[]}function Ac(){return!1}var ep=dc(function(l,y){return l+y},0),Xd=Ss("ceil"),Yd=dc(function(l,y){return l/y},1),tp=Ss("floor"),xu,Vd=dc(function(l,y){return l*y},1),Us=Ss("round"),Hs=dc(function(l,y){return l-y},0);return F.after=function(l,y){if(typeof y!="function")throw new K(E);return l=Xt(l),function(){if(--l<1)return y.apply(this,arguments)}},F.ary=Pf,F.assign=Ld,F.assignIn=If,F.assignInWith=ji,F.assignWith=Lf,F.at=Bd,F.before=Af,F.bind=Mf,F.bindAll=Yf,F.bindKey=Nd,F.castArray=function(){if(!arguments.length)return[];var l=arguments[0];return Gt(l)?l:[l]},F.chain=Td,F.chunk=function(l,y,_){y=(_?Mr(l,y,_):y===g)?1:dr(Xt(y),0);var A=l==null?0:l.length;if(!A||y<1)return[];for(var R=0,G=0,re=Je(os(A/y));R<A;)re[G++]=mo(l,R,R+=y);return re},F.compact=function(l){for(var y=-1,_=l==null?0:l.length,A=0,R=[];++y<_;){var G=l[y];G&&(R[A++]=G)}return R},F.concat=function(){var l=arguments.length;if(!l)return[];for(var y=Je(l-1),_=arguments[0],A=l;A--;)y[A-1]=arguments[A];return rr(Gt(_)?Xr(_):[_],br(y,1))},F.cond=function(l){var y=l==null?0:l.length,_=Et();return l=y?un(l,function(A){if(typeof A[1]!="function")throw new K(E);return[_(A[0]),A[1]]}):[],Zt(function(A){for(var R=-1;++R<y;){var G=l[R];if(wn(G[0],this,A))return wn(G[1],this,A)}})},F.conforms=function(l){return function(y){var _=ar(y);return function(A){return Fl(A,y,_)}}(ro(l,1))},F.constant=Ws,F.countBy=Ef,F.create=function(l,y){var _=iu(l);return y==null?_:zl(_,y)},F.curry=function l(y,_,A){var R=ei(y,8,g,g,g,g,g,_=A?g:_);return R.placeholder=l.placeholder,R},F.curryRight=function l(y,_,A){var R=ei(y,k,g,g,g,g,g,_=A?g:_);return R.placeholder=l.placeholder,R},F.debounce=Rd,F.defaults=zd,F.defaultsDeep=Bf,F.defer=bc,F.delay=Ky,F.difference=oo,F.differenceBy=Sd,F.differenceWith=hf,F.drop=function(l,y,_){var A=l==null?0:l.length;return A?mo(l,(y=_||y===g?1:Xt(y))<0?0:y,A):[]},F.dropRight=function(l,y,_){var A=l==null?0:l.length;return A?mo(l,0,(y=A-(y=_||y===g?1:Xt(y)))<0?0:y):[]},F.dropRightWhile=function(l,y){return l&&l.length?lc(l,Et(y,3),!0,!0):[]},F.dropWhile=function(l,y){return l&&l.length?lc(l,Et(y,3),!0):[]},F.fill=function(l,y,_,A){var R=l==null?0:l.length;return R?(_&&typeof _!="number"&&Mr(l,y,_)&&(_=0,A=R),function(G,re,le,Oe){var Z=G.length;for((le=Xt(le))<0&&(le=-le>Z?0:Z+le),(Oe=Oe===g||Oe>Z?Z:Xt(Oe))<0&&(Oe+=Z),Oe=le>Oe?0:Rf(Oe);le<Oe;)G[le++]=re;return G}(l,y,_,A)):[]},F.filter=function(l,y){return(Gt(l)?Sr:yn)(l,Et(y,3))},F.flatMap=function(l,y){return br(wa(l,y),1)},F.flatMapDeep=function(l,y){return br(wa(l,y),W)},F.flatMapDepth=function(l,y,_){return _=_===g?1:Xt(_),br(wa(l,y),_)},F.flatten=gf,F.flattenDeep=function(l){return l!=null&&l.length?br(l,W):[]},F.flattenDepth=function(l,y){return l!=null&&l.length?br(l,y=y===g?1:Xt(y)):[]},F.flip=function(l){return ei(l,512)},F.flow=Vf,F.flowRight=Kf,F.fromPairs=function(l){for(var y=-1,_=l==null?0:l.length,A={};++y<_;){var R=l[y];A[R[0]]=R[1]}return A},F.functions=function(l){return l==null?[]:ps(l,ar(l))},F.functionsIn=function(l){return l==null?[]:ps(l,mr(l))},F.groupBy=kd,F.initial=function(l){return l!=null&&l.length?mo(l,0,-1):[]},F.intersection=jd,F.intersectionBy=mf,F.intersectionWith=vc,F.invert=Fd,F.invertBy=zf,F.invokeMap=Wt,F.iteratee=qf,F.keyBy=Dd,F.keys=ar,F.keysIn=mr,F.map=wa,F.mapKeys=function(l,y){var _={};return y=Et(y,3),pt(l,function(A,R,G){Zo(_,y(A,R,G),A)}),_},F.mapValues=function(l,y){var _={};return y=Et(y,3),pt(l,function(A,R,G){Zo(_,R,y(A,R,G))}),_},F.matches=function(l){return Qp(ro(l,1))},F.matchesProperty=function(l,y){return ed(l,ro(y,1))},F.memoize=bu,F.merge=Zi,F.mergeWith=$f,F.method=ja,F.methodOf=Zf,F.mixin=Sc,F.negate=Rs,F.nthArg=function(l){return l=Xt(l),Zt(function(y){return td(y,l)})},F.omit=$d,F.omitBy=function(l,y){return Bs(l,Rs(Et(y)))},F.once=function(l){return Af(2,l)},F.orderBy=function(l,y,_,A){return l==null?[]:(Gt(y)||(y=y==null?[]:[y]),Gt(_=A?g:_)||(_=_==null?[]:[_]),nd(l,y,_))},F.over=jc,F.overArgs=qy,F.overEvery=Pc,F.overSome=Jf,F.partial=xa,F.partialRight=wi,F.partition=jf,F.pick=Wf,F.pickBy=Bs,F.property=Qf,F.propertyOf=function(l){return function(y){return l==null?g:mi(l,y)}},F.pull=Wy,F.pullAll=Pd,F.pullAllBy=function(l,y,_){return l&&l.length&&y&&y.length?Hl(l,y,Et(_,2)):l},F.pullAllWith=function(l,y,_){return l&&l.length&&y&&y.length?Hl(l,y,g,_):l},F.pullAt=_f,F.range=Hd,F.rangeRight=_r,F.rearg=Tf,F.reject=function(l,y){return(Gt(l)?Sr:yn)(l,Rs(Et(y,3)))},F.remove=function(l,y){var _=[];if(!l||!l.length)return _;var A=-1,R=[],G=l.length;for(y=Et(y,3);++A<G;){var re=l[A];y(re,A,l)&&(_.push(re),R.push(A))}return lu(l,R),_},F.rest=function(l,y){if(typeof l!="function")throw new K(E);return Zt(l,y=y===g?y:Xt(y))},F.reverse=Ns,F.sampleSize=function(l,y,_){return y=(_?Mr(l,y,_):y===g)?1:Xt(y),(Gt(l)?Xp:Yl)(l,y)},F.set=function(l,y,_){return l==null?l:fu(l,y,_)},F.setWith=function(l,y,_,A){return A=typeof A=="function"?A:g,l==null?l:fu(l,y,_,A)},F.shuffle=function(l){return(Gt(l)?Yp:Fy)(l)},F.slice=function(l,y,_){var A=l==null?0:l.length;return A?(_&&typeof _!="number"&&Mr(l,y,_)?(y=0,_=A):(y=y==null?0:Xt(y),_=_===g?A:Xt(_)),mo(l,y,_)):[]},F.sortBy=Vy,F.sortedUniq=function(l){return l&&l.length?id(l):[]},F.sortedUniqBy=function(l,y){return l&&l.length?id(l,Et(y,2)):[]},F.split=function(l,y,_){return _&&typeof _!="number"&&Mr(l,y,_)&&(y=_=g),(_=_===g?ue:_>>>0)?(l=vn(l))&&(typeof y=="string"||y!=null&&!Nf(y))&&!(y=Hr(y))&&Ao(l)?Yi(Ur(l),0,_):l.split(y,_):[]},F.spread=function(l,y){if(typeof l!="function")throw new K(E);return y=y==null?0:dr(Xt(y),0),Zt(function(_){var A=_[y],R=Yi(_,0,y);return A&&rr(R,A),wn(l,this,R)})},F.tail=function(l){var y=l==null?0:l.length;return y?mo(l,1,y):[]},F.take=function(l,y,_){return l&&l.length?mo(l,0,(y=_||y===g?1:Xt(y))<0?0:y):[]},F.takeRight=function(l,y,_){var A=l==null?0:l.length;return A?mo(l,(y=A-(y=_||y===g?1:Xt(y)))<0?0:y,A):[]},F.takeRightWhile=function(l,y){return l&&l.length?lc(l,Et(y,3),!1,!0):[]},F.takeWhile=function(l,y){return l&&l.length?lc(l,Et(y,3)):[]},F.tap=function(l,y){return y(l),l},F.throttle=function(l,y,_){var A=!0,R=!0;if(typeof l!="function")throw new K(E);return $n(_)&&(A="leading"in _?!!_.leading:A,R="trailing"in _?!!_.trailing:R),Rd(l,y,{leading:A,maxWait:y,trailing:R})},F.thru=gu,F.toArray=Ou,F.toPairs=Wd,F.toPairsIn=Gf,F.toPath=function(l){return Gt(l)?un(l,or):wr(l)?[l]:Xr(xd(vn(l)))},F.toPlainObject=Cf,F.transform=function(l,y,_){var A=Gt(l),R=A||xi(l)||qi(l);if(y=Et(y,4),_==null){var G=l&&l.constructor;_=R?A?new G:[]:$n(l)&&Ei(G)?iu(yi(l)):{}}return(R?Dr:pt)(l,function(re,le,Oe){return y(_,re,le,Oe)}),_},F.unary=function(l){return Pf(l,1)},F.union=Vr,F.unionBy=ir,F.unionWith=Gy,F.uniq=function(l){return l&&l.length?Hi(l):[]},F.uniqBy=function(l,y){return l&&l.length?Hi(l,Et(y,2)):[]},F.uniqWith=function(l,y){return y=typeof y=="function"?y:g,l&&l.length?Hi(l,g,y):[]},F.unset=function(l,y){return l==null||bs(l,y)},F.unzip=Kr,F.unzipWith=Pt,F.update=function(l,y,_){return l==null?l:ad(l,y,Zl(_))},F.updateWith=function(l,y,_,A){return A=typeof A=="function"?A:g,l==null?l:ad(l,y,Zl(_),A)},F.values=Ji,F.valuesIn=function(l){return l==null?[]:Ja(l,mr(l))},F.without=Of,F.words=Do,F.wrap=function(l,y){return xa(Zl(y),l)},F.xor=wf,F.xorBy=xf,F.xorWith=Ad,F.zip=Md,F.zipObject=function(l,y){return cd(l||[],y||[],au)},F.zipObjectDeep=function(l,y){return cd(l||[],y||[],fu)},F.zipWith=Uy,F.entries=Wd,F.entriesIn=Gf,F.extend=If,F.extendWith=ji,Sc(F,F),F.add=ep,F.attempt=$s,F.camelCase=zs,F.capitalize=Ec,F.ceil=Xd,F.clamp=function(l,y,_){return _===g&&(_=y,y=g),_!==g&&(_=(_=zr(_))==_?_:0),y!==g&&(y=(y=zr(y))==y?y:0),Ui(zr(l),y,_)},F.clone=function(l){return ro(l,4)},F.cloneDeep=function(l){return ro(l,5)},F.cloneDeepWith=function(l,y){return ro(l,5,y=typeof y=="function"?y:g)},F.cloneWith=function(l,y){return ro(l,4,y=typeof y=="function"?y:g)},F.conformsTo=function(l,y){return y==null||Fl(l,y,ar(y))},F.deburr=Fs,F.defaultTo=function(l,y){return l==null||l!=l?y:l},F.divide=Yd,F.endsWith=function(l,y,_){l=vn(l),y=Hr(y);var A=l.length,R=_=_===g?A:Ui(Xt(_),0,A);return(_-=y.length)>=0&&l.slice(_,R)==y},F.eq=Ln,F.escape=function(l){return(l=vn(l))&&ct.test(l)?l.replace(vt,Jn):l},F.escapeRegExp=function(l){return(l=vn(l))&&kn.test(l)?l.replace(mn,"\\$&"):l},F.every=function(l,y,_){var A=Gt(l)?ns:qp;return _&&Mr(l,y,_)&&(y=g),A(l,Et(y,3))},F.find=Xy,F.findIndex=yf,F.findKey=function(l,y){return jo(l,Et(y,3),pt)},F.findLast=Yy,F.findLastIndex=vf,F.findLastKey=function(l,y){return jo(l,Et(y,3),jn)},F.floor=tp,F.forEach=Sf,F.forEachRight=Oa,F.forIn=function(l,y){return l==null?l:qt(l,Et(y,3),mr)},F.forInRight=function(l,y){return l==null?l:Qn(l,Et(y,3),mr)},F.forOwn=function(l,y){return l&&pt(l,Et(y,3))},F.forOwnRight=function(l,y){return l&&jn(l,Et(y,3))},F.get=wc,F.gt=Cs,F.gte=mc,F.has=function(l,y){return l!=null&&af(l,y,Zp)},F.hasIn=xc,F.head=bf,F.identity=Tr,F.includes=function(l,y,_,A){l=Br(l)?l:Ji(l),_=_&&!A?Xt(_):0;var R=l.length;return _<0&&(_=dr(R+_,0)),_c(l)?_<=R&&l.indexOf(y,_)>-1:!!R&&Fi(l,y,_)>-1},F.indexOf=function(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=_==null?0:Xt(_);return R<0&&(R=dr(A+R,0)),Fi(l,y,R)},F.inRange=function(l,y,_){return y=ni(y),_===g?(_=y,y=0):_=ni(_),function(A,R,G){return A>=Ar(R,G)&&A<dr(R,G)}(l=zr(l),y,_)},F.invoke=Ff,F.isArguments=Ea,F.isArray=Gt,F.isArrayBuffer=Cd,F.isArrayLike=Br,F.isArrayLikeObject=Vn,F.isBoolean=function(l){return l===!0||l===!1||Wn(l)&&Fn(l)==V},F.isBuffer=xi,F.isDate=Is,F.isElement=function(l){return Wn(l)&&l.nodeType===1&&!Si(l)},F.isEmpty=function(l){if(l==null)return!0;if(Br(l)&&(Gt(l)||typeof l=="string"||typeof l.splice=="function"||xi(l)||qi(l)||Ea(l)))return!l.length;var y=Or(l);if(y==ce||y==je)return!l.size;if(yu(l))return!_i(l).length;for(var _ in l)if(Qe.call(l,_))return!1;return!0},F.isEqual=function(l,y){return cu(l,y)},F.isEqualWith=function(l,y,_){var A=(_=typeof _=="function"?_:g)?_(l,y):g;return A===g?cu(l,y,g,_):!!A},F.isError=kf,F.isFinite=function(l){return typeof l=="number"&&$p(l)},F.isFunction=Ei,F.isInteger=Ls,F.isLength=Sa,F.isMap=Id,F.isMatch=function(l,y){return l===y||hs(l,y,Ps(y))},F.isMatchWith=function(l,y,_){return _=typeof _=="function"?_:g,hs(l,y,Ps(y),_)},F.isNaN=function(l){return Df(l)&&l!=+l},F.isNative=function(l){if(Od(l))throw new Jt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return su(l)},F.isNil=function(l){return l==null},F.isNull=function(l){return l===null},F.isNumber=Df,F.isObject=$n,F.isObjectLike=Wn,F.isPlainObject=Si,F.isRegExp=Nf,F.isSafeInteger=function(l){return Ls(l)&&l>=-9007199254740991&&l<=U},F.isSet=mu,F.isString=_c,F.isSymbol=wr,F.isTypedArray=qi,F.isUndefined=function(l){return l===g},F.isWeakMap=function(l){return Wn(l)&&Or(l)==Me},F.isWeakSet=function(l){return Wn(l)&&Fn(l)=="[object WeakSet]"},F.join=function(l,y){return l==null?"":Dy.call(l,y)},F.kebabCase=Uf,F.last=An,F.lastIndexOf=function(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=A;return _!==g&&(R=(R=Xt(_))<0?dr(A+R,0):Ar(R,A-1)),y==y?function(G,re,le){for(var Oe=le+1;Oe--;)if(G[Oe]===re)return Oe;return Oe}(l,y,R):Uo(l,Ho,R,!0)},F.lowerCase=Gd,F.lowerFirst=Hf,F.lt=_u,F.lte=Oc,F.max=function(l){return l&&l.length?Yn(l,Tr,Un):g},F.maxBy=function(l,y){return l&&l.length?Yn(l,Et(y,2),Un):g},F.mean=function(l){return rn(l,Tr)},F.meanBy=function(l,y){return rn(l,Et(y,2))},F.min=function(l){return l&&l.length?Yn(l,Tr,Oi):g},F.minBy=function(l,y){return l&&l.length?Yn(l,Et(y,2),Oi):g},F.stubArray=wu,F.stubFalse=Ac,F.stubObject=function(){return{}},F.stubString=function(){return""},F.stubTrue=function(){return!0},F.multiply=Vd,F.nth=function(l,y){return l&&l.length?td(l,Xt(y)):g},F.noConflict=function(){return Gn._===this&&(Gn._=Nn),this},F.noop=Gs,F.now=gc,F.pad=function(l,y,_){l=vn(l);var A=(y=Xt(y))?Mo(l):0;if(!y||A>=y)return l;var R=(y-A)/2;return xs(tu(R),_)+l+xs(os(R),_)},F.padEnd=function(l,y,_){l=vn(l);var A=(y=Xt(y))?Mo(l):0;return y&&A<y?l+xs(y-A,_):l},F.padStart=function(l,y,_){l=vn(l);var A=(y=Xt(y))?Mo(l):0;return y&&A<y?xs(y-A,_)+l:l},F.parseInt=function(l,y,_){return _||y==null?y=0:y&&(y=+y),as(vn(l).replace(Ct,""),y||0)},F.random=function(l,y,_){if(_&&typeof _!="boolean"&&Mr(l,y,_)&&(y=_=g),_===g&&(typeof y=="boolean"?(_=y,y=g):typeof l=="boolean"&&(_=l,l=g)),l===g&&y===g?(l=0,y=1):(l=ni(l),y===g?(y=l,l=0):y=ni(y)),l>y){var A=l;l=y,y=A}if(_||l%1||y%1){var R=us();return Ar(l+R*(y-l+Bi("1e-"+((R+"").length-1))),y)}return Xl(l,y)},F.reduce=function(l,y,_){var A=Gt(l)?Ka:pr,R=arguments.length<3;return A(l,Et(y,4),_,R,Rn)},F.reduceRight=function(l,y,_){var A=Gt(l)?rs:pr,R=arguments.length<3;return A(l,Et(y,4),_,R,Kp)},F.repeat=function(l,y,_){return y=(_?Mr(l,y,_):y===g)?1:Xt(y),vs(vn(l),y)},F.replace=function(){var l=arguments,y=vn(l[0]);return l.length<3?y:y.replace(l[1],l[2])},F.result=function(l,y,_){var A=-1,R=(y=Xi(y,l)).length;for(R||(R=1,l=g);++A<R;){var G=l==null?g:l[or(y[A])];G===g&&(A=R,G=_),l=Ei(G)?G.call(l):G}return l},F.round=Us,F.runInContext=we,F.sample=function(l){return(Gt(l)?Bl:By)(l)},F.size=function(l){if(l==null)return 0;if(Br(l))return _c(l)?Mo(l):l.length;var y=Or(l);return y==ce||y==je?l.size:_i(l).length},F.snakeCase=Ud,F.some=function(l,y,_){var A=Gt(l)?ec:Vl;return _&&Mr(l,y,_)&&(y=g),A(l,Et(y,3))},F.sortedIndex=function(l,y){return gs(l,y)},F.sortedIndexBy=function(l,y,_){return Kl(l,y,Et(_,2))},F.sortedIndexOf=function(l,y){var _=l==null?0:l.length;if(_){var A=gs(l,y);if(A<_&&Ln(l[A],y))return A}return-1},F.sortedLastIndex=function(l,y){return gs(l,y,!0)},F.sortedLastIndexBy=function(l,y,_){return Kl(l,y,Et(_,2),!0)},F.sortedLastIndexOf=function(l,y){if(l!=null&&l.length){var _=gs(l,y,!0)-1;if(Ln(l[_],y))return _}return-1},F.startCase=Xf,F.startsWith=function(l,y,_){return l=vn(l),_=_==null?0:Ui(Xt(_),0,l.length),y=Hr(y),l.slice(_,_+y.length)==y},F.subtract=Hs,F.sum=function(l){return l&&l.length?Za(l,Tr):0},F.sumBy=function(l,y){return l&&l.length?Za(l,Et(y,2)):0},F.template=function(l,y,_){var A=F.templateSettings;_&&Mr(l,y,_)&&(y=g),l=vn(l),y=ji({},y,A,gd);var R,G,re=ji({},y.imports,A.imports,gd),le=ar(re),Oe=Ja(re,le),Z=0,Re=y.interpolate||St,We="__p += '",lt=M((y.escape||St).source+"|"+Re.source+"|"+(Re===Bt?ft:St).source+"|"+(y.evaluate||St).source+"|$","g"),yt="//# sourceURL="+(Qe.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qc+"]")+`
`;l.replace(lt,function(Ue,Dt,ut,Nt,Lt,tn){return ut||(ut=Nt),We+=l.slice(Z,tn).replace(It,$i),Dt&&(R=!0,We+=`' +
__e(`+Dt+`) +
'`),Lt&&(G=!0,We+=`';
`+Lt+`;
__p += '`),ut&&(We+=`' +
((__t = (`+ut+`)) == null ? '' : __t) +
'`),Z=tn+Ue.length,Ue}),We+=`';
`;var At=Qe.call(y,"variable")&&y.variable;if(At){if(Ye.test(At))throw new Jt("Invalid `variable` option passed into `_.template`")}else We=`with (obj) {
`+We+`
}
`;We=(G?We.replace(Le,""):We).replace(xt,"$1").replace(kt,"$1;"),We="function("+(At||"obj")+`) {
`+(At?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(G?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+We+`return __p
}`;var Be=$s(function(){return Sn(le,yt+"return "+We).apply(g,Oe)});if(Be.source=We,kf(Be))throw Be;return Be},F.times=function(l,y){if((l=Xt(l))<1||l>U)return[];var _=ue,A=Ar(l,ue);y=Et(y),l-=ue;for(var R=ha(A,y);++_<l;)y(_);return R},F.toFinite=ni,F.toInteger=Xt,F.toLength=Rf,F.toLower=function(l){return vn(l).toLowerCase()},F.toNumber=zr,F.toSafeInteger=function(l){return l?Ui(Xt(l),-9007199254740991,U):l===0?l:0},F.toString=vn,F.toUpper=function(l){return vn(l).toUpperCase()},F.trim=function(l,y,_){if((l=vn(l))&&(_||y===g))return tc(l);if(!l||!(y=Hr(y)))return l;var A=Ur(l),R=Ur(y);return Yi(A,eo(A,R),nc(A,R)+1).join("")},F.trimEnd=function(l,y,_){if((l=vn(l))&&(_||y===g))return l.slice(0,Ir(l)+1);if(!l||!(y=Hr(y)))return l;var A=Ur(l);return Yi(A,0,nc(A,Ur(y))+1).join("")},F.trimStart=function(l,y,_){if((l=vn(l))&&(_||y===g))return l.replace(Ct,"");if(!l||!(y=Hr(y)))return l;var A=Ur(l);return Yi(A,eo(A,Ur(y))).join("")},F.truncate=function(l,y){var _=30,A="...";if($n(y)){var R="separator"in y?y.separator:R;_="length"in y?Xt(y.length):_,A="omission"in y?Hr(y.omission):A}var G=(l=vn(l)).length;if(Ao(l)){var re=Ur(l);G=re.length}if(_>=G)return l;var le=_-Mo(A);if(le<1)return A;var Oe=re?Yi(re,0,le).join(""):l.slice(0,le);if(R===g)return Oe+A;if(re&&(le+=Oe.length-le),Nf(R)){if(l.slice(le).search(R)){var Z,Re=Oe;for(R.global||(R=M(R.source,vn(Ht.exec(R))+"g")),R.lastIndex=0;Z=R.exec(Re);)var We=Z.index;Oe=Oe.slice(0,We===g?le:We)}}else if(l.indexOf(Hr(R),le)!=le){var lt=Oe.lastIndexOf(R);lt>-1&&(Oe=Oe.slice(0,lt))}return Oe+A},F.unescape=function(l){return(l=vn(l))&&Te.test(l)?l.replace(jt,to):l},F.uniqueId=function(l){var y=++_n;return vn(l)+y},F.upperCase=Zy,F.upperFirst=Kn,F.each=Sf,F.eachRight=Oa,F.first=bf,Sc(F,(xu={},pt(F,function(l,y){Qe.call(F.prototype,y)||(xu[y]=l)}),xu),{chain:!1}),F.VERSION="4.17.21",Dr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){F[l].placeholder=F}),Dr(["drop","take"],function(l,y){an.prototype[l]=function(_){_=_===g?1:dr(Xt(_),0);var A=this.__filtered__&&!y?new an(this):this.clone();return A.__filtered__?A.__takeCount__=Ar(_,A.__takeCount__):A.__views__.push({size:Ar(_,ue),type:l+(A.__dir__<0?"Right":"")}),A},an.prototype[l+"Right"]=function(_){return this.reverse()[l](_).reverse()}}),Dr(["filter","map","takeWhile"],function(l,y){var _=y+1,A=_==1||_==3;an.prototype[l]=function(R){var G=this.clone();return G.__iteratees__.push({iteratee:Et(R,3),type:_}),G.__filtered__=G.__filtered__||A,G}}),Dr(["head","last"],function(l,y){var _="take"+(y?"Right":"");an.prototype[l]=function(){return this[_](1).value()[0]}}),Dr(["initial","tail"],function(l,y){var _="drop"+(y?"":"Right");an.prototype[l]=function(){return this.__filtered__?new an(this):this[_](1)}}),an.prototype.compact=function(){return this.filter(Tr)},an.prototype.find=function(l){return this.filter(l).head()},an.prototype.findLast=function(l){return this.reverse().find(l)},an.prototype.invokeMap=Zt(function(l,y){return typeof l=="function"?new an(this):this.map(function(_){return uu(_,l,y)})}),an.prototype.reject=function(l){return this.filter(Rs(Et(l)))},an.prototype.slice=function(l,y){l=Xt(l);var _=this;return _.__filtered__&&(l>0||y<0)?new an(_):(l<0?_=_.takeRight(-l):l&&(_=_.drop(l)),y!==g&&(_=(y=Xt(y))<0?_.dropRight(-y):_.take(y-l)),_)},an.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},an.prototype.toArray=function(){return this.take(ue)},pt(an.prototype,function(l,y){var _=/^(?:filter|find|map|reject)|While$/.test(y),A=/^(?:head|last)$/.test(y),R=F[A?"take"+(y=="last"?"Right":""):y],G=A||/^find/.test(y);R&&(F.prototype[y]=function(){var re=this.__wrapped__,le=A?[1]:arguments,Oe=re instanceof an,Z=le[0],Re=Oe||Gt(re),We=function(Dt){var ut=R.apply(F,rr([Dt],le));return A&&lt?ut[0]:ut};Re&&_&&typeof Z=="function"&&Z.length!=1&&(Oe=Re=!1);var lt=this.__chain__,yt=!!this.__actions__.length,At=G&&!lt,Be=Oe&&!yt;if(!G&&Re){re=Be?re:new an(this);var Ue=l.apply(re,le);return Ue.__actions__.push({func:gu,args:[We],thisArg:g}),new vo(Ue,lt)}return At&&Be?l.apply(this,le):(Ue=this.thru(We),At?A?Ue.value()[0]:Ue.value():Ue)})}),Dr(["pop","push","shift","sort","splice","unshift"],function(l){var y=de[l],_=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",A=/^(?:pop|shift)$/.test(l);F.prototype[l]=function(){var R=arguments;if(A&&!this.__chain__){var G=this.value();return y.apply(Gt(G)?G:[],R)}return this[_](function(re){return y.apply(Gt(re)?re:[],R)})}}),pt(an.prototype,function(l,y){var _=F[y];if(_){var A=_.name+"";Qe.call(ou,A)||(ou[A]=[]),ou[A].push({name:y,func:_})}}),ou[pc(g,2).name]=[{name:"wrapper",func:g}],an.prototype.clone=function(){var l=new an(this.__wrapped__);return l.__actions__=Xr(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Xr(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Xr(this.__views__),l},an.prototype.reverse=function(){if(this.__filtered__){var l=new an(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},an.prototype.value=function(){var l=this.__wrapped__.value(),y=this.__dir__,_=Gt(l),A=y<0,R=_?l.length:0,G=function(tn,gt,Mt){for(var ur=-1,xr=Mt.length;++ur<xr;){var No=Mt[ur],yr=No.size;switch(No.type){case"drop":tn+=yr;break;case"dropRight":gt-=yr;break;case"take":gt=Ar(gt,tn+yr);break;case"takeRight":tn=dr(tn,gt-yr)}}return{start:tn,end:gt}}(0,R,this.__views__),re=G.start,le=G.end,Oe=le-re,Z=A?le:re-1,Re=this.__iteratees__,We=Re.length,lt=0,yt=Ar(Oe,this.__takeCount__);if(!_||!A&&R==Oe&&yt==Oe)return ud(l,this.__actions__);var At=[];e:for(;Oe--&&lt<yt;){for(var Be=-1,Ue=l[Z+=y];++Be<We;){var Dt=Re[Be],ut=Dt.iteratee,Nt=Dt.type,Lt=ut(Ue);if(Nt==2)Ue=Lt;else if(!Lt){if(Nt==1)continue e;break e}}At[lt++]=Ue}return At},F.prototype.at=Hy,F.prototype.chain=function(){return Td(this)},F.prototype.commit=function(){return new vo(this.value(),this.__chain__)},F.prototype.next=function(){this.__values__===g&&(this.__values__=Ou(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?g:this.__values__[this.__index__++]}},F.prototype.plant=function(l){for(var y,_=this;_ instanceof cc;){var A=Ed(_);A.__index__=0,A.__values__=g,y?R.__wrapped__=A:y=A;var R=A;_=_.__wrapped__}return R.__wrapped__=l,y},F.prototype.reverse=function(){var l=this.__wrapped__;if(l instanceof an){var y=l;return this.__actions__.length&&(y=new an(this)),(y=y.reverse()).__actions__.push({func:gu,args:[Ns],thisArg:g}),new vo(y,this.__chain__)}return this.thru(Ns)},F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return ud(this.__wrapped__,this.__actions__)},F.prototype.first=F.prototype.head,vi&&(F.prototype[vi]=function(){return this}),F}();Gn._=To,(m=function(){return To}.call(f,o,f,h))===g||(h.exports=m)}).call(this)}).call(this,o(68),o(220)(a))},function(a,f,o){var d=o(7),h=o(34),m=o(33),g=o(87),E=o(61),P=o(174),j=o(28),k=d.TypeError,T=j("toPrimitive");a.exports=function(C,N){if(!m(C)||g(C))return C;var I,W=E(C,T);if(W){if(N===void 0&&(N="default"),I=h(W,C,N),!m(I)||g(I))return I;throw k("Can't convert object to primitive value")}return N===void 0&&(N="number"),P(C,N)}},function(a,f,o){var d=o(108);a.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(a,f,o){var d=o(36),h=o(18),m=o(91);a.exports=!d&&!h(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7})},function(a,f,o){var d=o(35),h=o(135),m=o(50),g=o(38);a.exports=function(E,P){for(var j=h(P),k=g.f,T=m.f,C=0;C<j.length;C++){var N=j[C];d(E,N)||k(E,N,T(P,N))}}},function(a,f,o){var d=o(46),h=o(15),m=o(74),g=o(112),E=o(32),P=h([].concat);a.exports=d("Reflect","ownKeys")||function(j){var k=m.f(E(j)),T=g.f;return T?P(k,T(j)):k}},function(a,f,o){var d=o(15),h=o(35),m=o(41),g=o(137).indexOf,E=o(72),P=d([].push);a.exports=function(j,k){var T,C=m(j),N=0,I=[];for(T in C)!h(E,T)&&h(C,T)&&P(I,T);for(;k.length>N;)h(C,T=k[N++])&&(~g(I,T)||P(I,T));return I}},function(a,f,o){var d=o(41),h=o(75),m=o(45),g=function(E){return function(P,j,k){var T,C=d(P),N=m(C),I=h(k,N);if(E&&j!=j){for(;N>I;)if((T=C[I++])!=T)return!0}else for(;N>I;I++)if((E||I in C)&&C[I]===j)return E||I||0;return!E&&-1}};a.exports={includes:g(!0),indexOf:g(!1)}},function(a,f,o){var d=o(46);a.exports=d("document","documentElement")},function(a,f,o){var d=o(51),h=o(41),m=o(74).f,g=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(P){return E&&d(P)=="Window"?function(j){try{return m(j)}catch(k){return g(E)}}(P):m(h(P))}},function(a,f,o){var d=o(28);f.f=d},function(a,f,o){var d=o(177),h=o(35),m=o(140),g=o(38).f;a.exports=function(E){var P=d.Symbol||(d.Symbol={});h(P,E)||g(P,E,{value:m.f(E)})}},function(a,f,o){var d,h,m,g=o(18),E=o(30),P=o(60),j=o(101),k=o(42),T=o(28),C=o(71),N=T("iterator"),I=!1;[].keys&&("next"in(m=[].keys())?(h=j(j(m)))!==Object.prototype&&(d=h):I=!0),d==null||g(function(){var W={};return d[N].call(W)!==W})?d={}:C&&(d=P(d)),E(d[N])||k(d,N,function(){return this}),a.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:I}},function(a,f,o){var d=o(18);a.exports=!d(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},function(a,f,o){var d=o(16),h=o(15),m=o(72),g=o(33),E=o(35),P=o(38).f,j=o(74),k=o(139),T=o(183),C=o(90),N=o(185),I=!1,W=C("meta"),U=0,ne=function(ae){P(ae,W,{value:{objectID:"O"+U++,weakData:{}}})},ue=a.exports={enable:function(){ue.enable=function(){},I=!0;var ae=j.f,ee=h([].splice),te={};te[W]=1,ae(te).length&&(j.f=function(V){for(var z=ae(V),H=0,Y=z.length;H<Y;H++)if(z[H]===W){ee(z,H,1);break}return z},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(ae,ee){if(!g(ae))return typeof ae=="symbol"?ae:(typeof ae=="string"?"S":"P")+ae;if(!E(ae,W)){if(!T(ae))return"F";if(!ee)return"E";ne(ae)}return ae[W].objectID},getWeakData:function(ae,ee){if(!E(ae,W)){if(!T(ae))return!0;if(!ee)return!1;ne(ae)}return ae[W].weakData},onFreeze:function(ae){return N&&I&&T(ae)&&!E(ae,W)&&ne(ae),ae}};m[W]=!0},function(a,f,o){var d=o(28),h=o(80),m=d("iterator"),g=Array.prototype;a.exports=function(E){return E!==void 0&&(h.Array===E||g[m]===E)}},function(a,f,o){var d=o(7),h=o(34),m=o(56),g=o(32),E=o(88),P=o(118),j=d.TypeError;a.exports=function(k,T){var C=arguments.length<2?P(k):T;if(m(C))return g(h(C,k));throw j(E(k)+" is not iterable")}},function(a,f,o){var d=o(34),h=o(32),m=o(61);a.exports=function(g,E,P){var j,k;h(g);try{if(!(j=m(g,"return"))){if(E==="throw")throw P;return P}j=d(j,g)}catch(T){k=!0,j=T}if(E==="throw")throw P;if(k)throw j;return h(j),P}},function(a,f,o){var d=o(30),h=o(33),m=o(102);a.exports=function(g,E,P){var j,k;return m&&d(j=E.constructor)&&j!==P&&h(k=j.prototype)&&k!==P.prototype&&m(g,k),g}},function(a,f,o){var d=o(42);a.exports=function(h,m,g){for(var E in m)d(h,E,m[E],g);return h}},function(a,f,o){var d=o(46),h=o(38),m=o(28),g=o(36),E=m("species");a.exports=function(P){var j=d(P),k=h.f;g&&j&&!j[E]&&k(j,E,{configurable:!0,get:function(){return this}})}},function(a,f,o){var d=o(15),h=o(59),m=o(39),g=o(44),E=d("".charAt),P=d("".charCodeAt),j=d("".slice),k=function(T){return function(C,N){var I,W,U=m(g(C)),ne=h(N),ue=U.length;return ne<0||ne>=ue?T?"":void 0:(I=P(U,ne))<55296||I>56319||ne+1===ue||(W=P(U,ne+1))<56320||W>57343?T?E(U,ne):I:T?j(U,ne,ne+2):W-56320+(I-55296<<10)+65536}};a.exports={codeAt:k(!1),charAt:k(!0)}},function(a,f){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(a,f,o){var d=o(91)("span").classList,h=d&&d.constructor&&d.constructor.prototype;a.exports=h===Object.prototype?void 0:h},function(a,f,o){var d=o(32);a.exports=function(){var h=d(this),m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),h.dotAll&&(m+="s"),h.unicode&&(m+="u"),h.sticky&&(m+="y"),m}},function(a,f,o){var d=o(18),h=o(7).RegExp,m=d(function(){var P=h("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),g=m||d(function(){return!h("a","y").sticky}),E=m||d(function(){var P=h("^r","gy");return P.lastIndex=2,P.exec("str")!=null});a.exports={BROKEN_CARET:E,MISSED_STICKY:g,UNSUPPORTED_Y:m}},function(a,f,o){var d=o(16),h=o(79).find,m=o(100),g="find",E=!0;g in[]&&Array(1).find(function(){E=!1}),d({target:"Array",proto:!0,forced:E},{find:function(P){return h(this,P,arguments.length>1?arguments[1]:void 0)}}),m(g)},function(a,f,o){var d=o(16),h=o(137).includes,m=o(100);d({target:"Array",proto:!0},{includes:function(g){return h(this,g,arguments.length>1?arguments[1]:void 0)}}),m("includes")},function(a,f,o){var d=o(16),h=o(15),m=o(197),g=o(44),E=o(39),P=o(198),j=h("".indexOf);d({target:"String",proto:!0,forced:!P("includes")},{includes:function(k){return!!~j(E(g(this)),E(m(k)),arguments.length>1?arguments[1]:void 0)}})},function(a,f,o){var d=o(33),h=o(51),m=o(28)("match");a.exports=function(g){var E;return d(g)&&((E=g[m])!==void 0?!!E:h(g)=="RegExp")}},function(a,f,o){var d=o(15);a.exports=d(1 .valueOf)},function(a,f,o){var d=o(15),h=o(44),m=o(39),g=o(162),E=d("".replace),P="["+g+"]",j=RegExp("^"+P+P+"*"),k=RegExp(P+P+"*$"),T=function(C){return function(N){var I=m(h(N));return 1&C&&(I=E(I,j,"")),2&C&&(I=E(I,k,"")),I}};a.exports={start:T(1),end:T(2),trim:T(3)}},function(a,f){a.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(a,f){var o,d,h=a.exports={};function m(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function E(U){if(o===setTimeout)return setTimeout(U,0);if((o===m||!o)&&setTimeout)return o=setTimeout,setTimeout(U,0);try{return o(U,0)}catch(ne){try{return o.call(null,U,0)}catch(ue){return o.call(this,U,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:m}catch(U){o=m}try{d=typeof clearTimeout=="function"?clearTimeout:g}catch(U){d=g}})();var P,j=[],k=!1,T=-1;function C(){k&&P&&(k=!1,P.length?j=P.concat(j):T=-1,j.length&&N())}function N(){if(!k){var U=E(C);k=!0;for(var ne=j.length;ne;){for(P=j,j=[];++T<ne;)P&&P[T].run();T=-1,ne=j.length}P=null,k=!1,function(ue){if(d===clearTimeout)return clearTimeout(ue);if((d===g||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(ue);try{d(ue)}catch(ae){try{return d.call(null,ue)}catch(ee){return d.call(this,ue)}}}(U)}}function I(U,ne){this.fun=U,this.array=ne}function W(){}h.nextTick=function(U){var ne=new Array(arguments.length-1);if(arguments.length>1)for(var ue=1;ue<arguments.length;ue++)ne[ue-1]=arguments[ue];j.push(new I(U,ne)),j.length!==1||k||E(N)},I.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=W,h.addListener=W,h.once=W,h.off=W,h.removeListener=W,h.removeAllListeners=W,h.emit=W,h.prependListener=W,h.prependOnceListener=W,h.listeners=function(U){return[]},h.binding=function(U){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(U){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(a,f,o){var d=o(32),h=o(165),m=o(28)("species");a.exports=function(g,E){var P,j=d(g).constructor;return j===void 0||(P=d(j)[m])==null?E:h(P)}},function(a,f,o){var d=o(7),h=o(99),m=o(88),g=d.TypeError;a.exports=function(E){if(h(E))return E;throw g(m(E)+" is not a constructor")}},function(a,f,o){var d=o(16),h=o(161).trim;d({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return h(this)}})},function(a,f,o){var d=o(34),h=o(123),m=o(32),g=o(94),E=o(39),P=o(44),j=o(61),k=o(124),T=o(125);h("match",function(C,N,I){return[function(W){var U=P(this),ne=W==null?void 0:j(W,C);return ne?d(ne,W,U):new RegExp(W)[C](E(U))},function(W){var U=m(this),ne=E(W),ue=I(N,U,ne);if(ue.done)return ue.value;if(!U.global)return T(U,ne);var ae=U.unicode;U.lastIndex=0;for(var ee,te=[],V=0;(ee=T(U,ne))!==null;){var z=E(ee[0]);te[V]=z,z===""&&(U.lastIndex=k(ne,g(U.lastIndex),ae)),V++}return V===0?null:te}]})},function(a,f,o){var d,h,m,g,E=o(7),P=o(76),j=o(63),k=o(30),T=o(35),C=o(18),N=o(138),I=o(98),W=o(91),U=o(169),ne=o(128),ue=E.setImmediate,ae=E.clearImmediate,ee=E.process,te=E.Dispatch,V=E.Function,z=E.MessageChannel,H=E.String,Y=0,q={},ce="onreadystatechange";try{d=E.location}catch(je){}var Ee=function(je){if(T(q,je)){var ve=q[je];delete q[je],ve()}},me=function(je){return function(){Ee(je)}},Ae=function(je){Ee(je.data)},ze=function(je){E.postMessage(H(je),d.protocol+"//"+d.host)};ue&&ae||(ue=function(je){var ve=I(arguments,1);return q[++Y]=function(){P(k(je)?je:V(je),void 0,ve)},h(Y),Y},ae=function(je){delete q[je]},ne?h=function(je){ee.nextTick(me(je))}:te&&te.now?h=function(je){te.now(me(je))}:z&&!U?(g=(m=new z).port2,m.port1.onmessage=Ae,h=j(g.postMessage,g)):E.addEventListener&&k(E.postMessage)&&!E.importScripts&&d&&d.protocol!=="file:"&&!C(ze)?(h=ze,E.addEventListener("message",Ae,!1)):h=ce in W("script")?function(je){N.appendChild(W("script")).onreadystatechange=function(){N.removeChild(this),Ee(je)}}:function(je){setTimeout(me(je),0)}),a.exports={set:ue,clear:ae}},function(a,f,o){var d=o(55);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},function(a,f,o){var d=o(56),h=function(m){var g,E;this.promise=new m(function(P,j){if(g!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");g=P,E=j}),this.resolve=d(g),this.reject=d(E)};a.exports.f=function(m){return new h(m)}},function(a,f,o){f.a=function(){return!1}},function(a,f,o){(function(d){o.d(f,"a",function(){return ee});var h=o(1);function m(z){throw new Error("[mobx-utils] "+z)}function g(z,H){H===void 0&&(H="Illegal state"),z||m(H)}var E=function(z){return z&&z!==Object.prototype&&Object.getOwnPropertyNames(z).concat(E(Object.getPrototypeOf(z))||[])},P=function(z){return function(H){var Y=E(H);return Y.filter(function(q,ce){return Y.indexOf(q)===ce})}(z).filter(function(H){return H!=="constructor"&&!~H.indexOf("__")})},j="pending",k="fulfilled",T="rejected";function C(z){switch(this.state){case j:return z.pending&&z.pending(this.value);case T:return z.rejected&&z.rejected(this.value);case k:return z.fulfilled?z.fulfilled(this.value):this.value}}function N(z,H){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof z=="function"||typeof z=="object"&&z&&typeof z.then=="function","Please pass a promise or function to fromPromise"),z.isPromiseBasedObservable===!0)return z;typeof z=="function"&&(z=new Promise(z));var Y=z;z.then(Object(h.k)("observableFromPromise-resolve",function(ce){Y.value=ce,Y.state=k}),Object(h.k)("observableFromPromise-reject",function(ce){Y.value=ce,Y.state=T})),Y.isPromiseBasedObservable=!0,Y.case=C;var q=H&&H.state===k?H.value:void 0;return Object(h.q)(Y,{value:q,state:j},{},{deep:!1}),Y}(function(z){z.reject=Object(h.k)("fromPromise.reject",function(H){var Y=z(Promise.reject(H));return Y.state=T,Y.value=H,Y}),z.resolve=Object(h.k)("fromPromise.resolve",function(H){H===void 0&&(H=void 0);var Y=z(Promise.resolve(H));return Y.state=k,Y.value=H,Y})})(N||(N={}));var I=function(z,H,Y,q){var ce,Ee=arguments.length,me=Ee<3?H:q===null?q=Object.getOwnPropertyDescriptor(H,Y):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(z,H,Y,q);else for(var Ae=z.length-1;Ae>=0;Ae--)(ce=z[Ae])&&(me=(Ee<3?ce(me):Ee>3?ce(H,Y,me):ce(H,Y))||me);return Ee>3&&me&&Object.defineProperty(H,Y,me),me};(function(){function z(H,Y){var q=this;Object(h.G)(function(){q.current=Y,q.subscription=H.subscribe(q)})}z.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},z.prototype.next=function(H){this.current=H},z.prototype.complete=function(){this.dispose()},z.prototype.error=function(H){this.current=H,this.dispose()},I([h.C.ref],z.prototype,"current",void 0),I([h.k.bound],z.prototype,"next",null),I([h.k.bound],z.prototype,"complete",null),I([h.k.bound],z.prototype,"error",null)})();var W=function(){return W=Object.assign||function(z){for(var H,Y=1,q=arguments.length;Y<q;Y++)for(var ce in H=arguments[Y])Object.prototype.hasOwnProperty.call(H,ce)&&(z[ce]=H[ce]);return z},W.apply(this,arguments)},U=function(z,H,Y,q){var ce,Ee=arguments.length,me=Ee<3?H:q===null?q=Object.getOwnPropertyDescriptor(H,Y):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(z,H,Y,q);else for(var Ae=z.length-1;Ae>=0;Ae--)(ce=z[Ae])&&(me=(Ee<3?ce(me):Ee>3?ce(H,Y,me):ce(H,Y))||me);return Ee>3&&me&&Object.defineProperty(H,Y,me),me},ne=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function z(H){var Y=this;this.model=H,this.localValues=h.C.map({}),this.localComputedValues=h.C.map({}),this.isPropertyDirty=function(q){return Y.localValues.has(q)},g(Object(h.A)(H),"createViewModel expects an observable object"),P(H).forEach(function(q){if(q!==h.a&&q!=="__mobxDidRunLazyInitializers"){if(g(ne.indexOf(q)===-1,"The propertyname "+q+" is reserved and cannot be used with viewModels"),Object(h.w)(H,q)){var ce=Object(h.h)(H,q).derivation;Y.localComputedValues.set(q,Object(h.m)(ce.bind(Y)))}var Ee=Object.getOwnPropertyDescriptor(H,q),me=Ee?{enumerable:Ee.enumerable}:{};Object.defineProperty(Y,q,W(W({},me),{configurable:!0,get:function(){return Object(h.w)(H,q)?Y.localComputedValues.get(q).get():Y.isPropertyDirty(q)?Y.localValues.get(q):Y.model[q]},set:Object(h.k)(function(Ae){Ae!==Y.model[q]?Y.localValues.set(q,Ae):Y.localValues.delete(q)})}))}})}Object.defineProperty(z.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),z.prototype.submit=function(){var H=this;Object(h.B)(this.localValues).forEach(function(Y){var q=H.localValues.get(Y),ce=H.model[Y];Object(h.y)(ce)?ce.replace(q):Object(h.z)(ce)?(ce.clear(),ce.merge(q)):Object(h.v)(q)||(H.model[Y]=q)}),this.localValues.clear()},z.prototype.reset=function(){this.localValues.clear()},z.prototype.resetProperty=function(H){this.localValues.delete(H)},U([h.m],z.prototype,"isDirty",null),U([h.m],z.prototype,"changedValues",null),U([h.k.bound],z.prototype,"submit",null),U([h.k.bound],z.prototype,"reset",null),U([h.k.bound],z.prototype,"resetProperty",null)})();function ue(z){if(!z)return"ROOT";for(var H=[];z.parent;)H.push(z.path),z=z.parent;return H.reverse().join("/")}function ae(z){return Object(h.A)(z)||Object(h.y)(z)||Object(h.z)(z)}function ee(z,H){var Y=new WeakMap;function q(me){var Ae=Y.get(me.object);(function(ze,je){switch(ze.type){case"add":ce(ze.newValue,je,ze.name);break;case"update":Ee(ze.oldValue),ce(ze.newValue,je,ze.name||""+ze.index);break;case"remove":case"delete":Ee(ze.oldValue);break;case"splice":ze.removed.map(Ee),ze.added.forEach(function(Me,$e){return ce(Me,je,""+(ze.index+$e))});for(var ve=ze.index+ze.addedCount;ve<ze.object.length;ve++)if(ae(ze.object[ve])){var Pe=Y.get(ze.object[ve]);Pe&&(Pe.path=""+ve)}}})(me,Ae),H(me,ue(Ae),z)}function ce(me,Ae,ze){if(ae(me)){var je=Y.get(me);if(je){if(je.parent!==Ae||je.path!==ze)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ue(Ae)+"/"+ze+"', but it already exists at '"+ue(je.parent)+"/"+je.path+"'")}else{var ve={parent:Ae,path:ze,dispose:Object(h.D)(me,q)};Y.set(me,ve),Object(h.p)(me).forEach(function(Pe){var Me=Pe[0];return ce(Pe[1],ve,Me)})}}}function Ee(me){if(ae(me)){var Ae=Y.get(me);if(!Ae)return;Y.delete(me),Ae.dispose(),Object(h.L)(me).forEach(Ee)}}return ce(z,void 0,""),function(){Ee(z)}}var te,V=(te=function(z,H){return te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,q){Y.__proto__=q}||function(Y,q){for(var ce in q)q.hasOwnProperty(ce)&&(Y[ce]=q[ce])},te(z,H)},function(z,H){function Y(){this.constructor=z}te(z,H),z.prototype=H===null?Object.create(H):(Y.prototype=H.prototype,new Y)});(function(z){function H(Y,q,ce){var Ee=ce===void 0?{}:ce,me=Ee.name,Ae=me===void 0?"ogm"+(1e3*Math.random()|0):me,ze=Ee.keyToName,je=ze===void 0?function(Me){return""+Me}:ze,ve=z.call(this)||this;ve._keyToName=je,ve._groupBy=q,ve._ogmInfoKey=Symbol("ogmInfo"+Ae),ve._base=Y;for(var Pe=0;Pe<Y.length;Pe++)ve._addItem(Y[Pe]);return ve._disposeBaseObserver=Object(h.D)(ve._base,function(Me){if(Me.type==="splice")Object(h.J)(function(){for(var $e=0,nt=Me.removed;$e<nt.length;$e++){var wt=nt[$e];ve._removeItem(wt)}for(var Xe=0,qe=Me.added;Xe<qe.length;Xe++){var mt=qe[Xe];ve._addItem(mt)}});else{if(Me.type!=="update")throw new Error("illegal state");Object(h.J)(function(){ve._removeItem(Me.oldValue),ve._addItem(Me.newValue)})}}),ve}V(H,z),H.prototype.clear=function(){throw new Error("not supported")},H.prototype.delete=function(Y){throw new Error("not supported")},H.prototype.set=function(Y,q){throw new Error("not supported")},H.prototype.dispose=function(){this._disposeBaseObserver();for(var Y=0;Y<this._base.length;Y++){var q=this._base[Y];q[this._ogmInfoKey].reaction(),delete q[this._ogmInfoKey]}},H.prototype._getGroupArr=function(Y){var q=z.prototype.get.call(this,Y);return q===void 0&&(q=Object(h.C)([],{name:"GroupArray["+this._keyToName(Y)+"]",deep:!1}),z.prototype.set.call(this,Y,q)),q},H.prototype._removeFromGroupArr=function(Y,q){var ce=z.prototype.get.call(this,Y);ce.length===1?z.prototype.delete.call(this,Y):(q===ce.length-1||(ce[q]=ce[ce.length-1],ce[q][this._ogmInfoKey].groupArrIndex=q),ce.length--)},H.prototype._addItem=function(Y){var q=this,ce=this._groupBy(Y),Ee=this._getGroupArr(ce),me={groupByValue:ce,groupArrIndex:Ee.length,reaction:Object(h.F)(function(){return q._groupBy(Y)},function(Ae,ze){var je=Y[q._ogmInfoKey];q._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var ve=q._getGroupArr(Ae),Pe=ve.length;ve.push(Y),je.groupByValue=Ae,je.groupArrIndex=Pe})};Object.defineProperty(Y,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:me}),Ee.push(Y)},H.prototype._removeItem=function(Y){var q=Y[this._ogmInfoKey];this._removeFromGroupArr(q.groupByValue,q.groupArrIndex),q.reaction(),delete Y[this._ogmInfoKey]}})(h.b),function(){function z(H,Y){this.base=H,this.args=Y,this.closestIdx=0,this.isDisposed=!1;for(var q=this.closest=this.root=H,ce=0;ce<this.args.length-1&&(q=q.get(Y[ce]));ce++)this.closest=q;this.closestIdx=ce}return z.prototype.exists=function(){this.assertNotDisposed();var H=this.args.length;return this.closestIdx>=H-1&&this.closest.has(this.args[H-1])},z.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},z.prototype.set=function(H){this.assertNotDisposed();for(var Y=this.args.length,q=this.closest,ce=this.closestIdx;ce<Y-1;ce++){var Ee=new Map;q.set(this.args[ce],Ee),q=Ee}this.closestIdx=Y-1,this.closest=q,q.set(this.args[Y-1],H)},z.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var H=this.args.length;this.closest.delete(this.args[H-1]);for(var Y=this.root,q=[Y],ce=0;ce<H-1;ce++)Y=Y.get(this.args[ce]),q.push(Y);for(ce=q.length-1;ce>0;ce--)q[ce].size===0&&q[ce-1].delete(this.args[ce-1]);this.isDisposed=!0},z.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},z}(),Promise.resolve(),typeof queueMicrotask!="undefined"||d!==void 0&&d.nextTick}).call(this,o(163))},function(a,f,o){var d;(function(h,m,g){if(h){for(var E,P={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},j={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},T={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)P[111+C]="f"+C;for(C=0;C<=9;++C)P[C+96]=C.toString();ae.prototype.bind=function(ee,te,V){var z=this;return ee=ee instanceof Array?ee:[ee],z._bindMultiple.call(z,ee,te,V),z},ae.prototype.unbind=function(ee,te){return this.bind.call(this,ee,function(){},te)},ae.prototype.trigger=function(ee,te){var V=this;return V._directMap[ee+":"+te]&&V._directMap[ee+":"+te]({},ee),V},ae.prototype.reset=function(){var ee=this;return ee._callbacks={},ee._directMap={},ee},ae.prototype.stopCallback=function(ee,te){if((" "+te.className+" ").indexOf(" mousetrap ")>-1||ue(te,this.target))return!1;if("composedPath"in ee&&typeof ee.composedPath=="function"){var V=ee.composedPath()[0];V!==ee.target&&(te=V)}return te.tagName=="INPUT"||te.tagName=="SELECT"||te.tagName=="TEXTAREA"||te.isContentEditable},ae.prototype.handleKey=function(){var ee=this;return ee._handleKey.apply(ee,arguments)},ae.addKeycodes=function(ee){for(var te in ee)ee.hasOwnProperty(te)&&(P[te]=ee[te]);E=null},ae.init=function(){var ee=ae(m);for(var te in ee)te.charAt(0)!=="_"&&(ae[te]=function(V){return function(){return ee[V].apply(ee,arguments)}}(te))},ae.init(),h.Mousetrap=ae,a.exports&&(a.exports=ae),(d=function(){return ae}.call(f,o,f,a))===void 0||(a.exports=d)}function N(ee,te,V){ee.addEventListener?ee.addEventListener(te,V,!1):ee.attachEvent("on"+te,V)}function I(ee){if(ee.type=="keypress"){var te=String.fromCharCode(ee.which);return ee.shiftKey||(te=te.toLowerCase()),te}return P[ee.which]?P[ee.which]:j[ee.which]?j[ee.which]:String.fromCharCode(ee.which).toLowerCase()}function W(ee){return ee=="shift"||ee=="ctrl"||ee=="alt"||ee=="meta"}function U(ee,te,V){return V||(V=function(){if(!E)for(var z in E={},P)z>95&&z<112||P.hasOwnProperty(z)&&(E[P[z]]=z);return E}()[ee]?"keydown":"keypress"),V=="keypress"&&te.length&&(V="keydown"),V}function ne(ee,te){var V,z,H,Y=[];for(V=function(q){return q==="+"?["+"]:(q=q.replace(/\+{2}/g,"+plus")).split("+")}(ee),H=0;H<V.length;++H)z=V[H],T[z]&&(z=T[z]),te&&te!="keypress"&&k[z]&&(z=k[z],Y.push("shift")),W(z)&&Y.push(z);return{key:z,modifiers:Y,action:te=U(z,Y,te)}}function ue(ee,te){return ee!==null&&ee!==m&&(ee===te||ue(ee.parentNode,te))}function ae(ee){var te=this;if(ee=ee||m,!(te instanceof ae))return new ae(ee);te.target=ee,te._callbacks={},te._directMap={};var V,z={},H=!1,Y=!1,q=!1;function ce(ve){ve=ve||{};var Pe,Me=!1;for(Pe in z)ve[Pe]?Me=!0:z[Pe]=0;Me||(q=!1)}function Ee(ve,Pe,Me,$e,nt,wt){var Xe,qe,mt,fe,se=[],ye=Me.type;if(!te._callbacks[ve])return[];for(ye=="keyup"&&W(ve)&&(Pe=[ve]),Xe=0;Xe<te._callbacks[ve].length;++Xe)if(qe=te._callbacks[ve][Xe],($e||!qe.seq||z[qe.seq]==qe.level)&&ye==qe.action&&(ye=="keypress"&&!Me.metaKey&&!Me.ctrlKey||(mt=Pe,fe=qe.modifiers,mt.sort().join(",")===fe.sort().join(",")))){var De=!$e&&qe.combo==nt,Ge=$e&&qe.seq==$e&&qe.level==wt;(De||Ge)&&te._callbacks[ve].splice(Xe,1),se.push(qe)}return se}function me(ve,Pe,Me,$e){te.stopCallback(Pe,Pe.target||Pe.srcElement,Me,$e)||ve(Pe,Me)===!1&&(function(nt){nt.preventDefault?nt.preventDefault():nt.returnValue=!1}(Pe),function(nt){nt.stopPropagation?nt.stopPropagation():nt.cancelBubble=!0}(Pe))}function Ae(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var Pe=I(ve);Pe&&(ve.type!="keyup"||H!==Pe?te.handleKey(Pe,function(Me){var $e=[];return Me.shiftKey&&$e.push("shift"),Me.altKey&&$e.push("alt"),Me.ctrlKey&&$e.push("ctrl"),Me.metaKey&&$e.push("meta"),$e}(ve),ve):H=!1)}function ze(ve,Pe,Me,$e){function nt(mt){return function(){q=mt,++z[ve],clearTimeout(V),V=setTimeout(ce,1e3)}}function wt(mt){me(Me,mt,ve),$e!=="keyup"&&(H=I(mt)),setTimeout(ce,10)}z[ve]=0;for(var Xe=0;Xe<Pe.length;++Xe){var qe=Xe+1===Pe.length?wt:nt($e||ne(Pe[Xe+1]).action);je(Pe[Xe],qe,$e,ve,Xe)}}function je(ve,Pe,Me,$e,nt){te._directMap[ve+":"+Me]=Pe;var wt,Xe=(ve=ve.replace(/\s+/g," ")).split(" ");Xe.length>1?ze(ve,Xe,Pe,Me):(wt=ne(ve,Me),te._callbacks[wt.key]=te._callbacks[wt.key]||[],Ee(wt.key,wt.modifiers,{type:wt.action},$e,ve,nt),te._callbacks[wt.key][$e?"unshift":"push"]({callback:Pe,modifiers:wt.modifiers,action:wt.action,seq:$e,level:nt,combo:ve}))}te._handleKey=function(ve,Pe,Me){var $e,nt=Ee(ve,Pe,Me),wt={},Xe=0,qe=!1;for($e=0;$e<nt.length;++$e)nt[$e].seq&&(Xe=Math.max(Xe,nt[$e].level));for($e=0;$e<nt.length;++$e)if(nt[$e].seq){if(nt[$e].level!=Xe)continue;qe=!0,wt[nt[$e].seq]=1,me(nt[$e].callback,Me,nt[$e].combo,nt[$e].seq)}else qe||me(nt[$e].callback,Me,nt[$e].combo);var mt=Me.type=="keypress"&&Y;Me.type!=q||W(ve)||mt||ce(wt),Y=qe&&Me.type=="keydown"},te._bindMultiple=function(ve,Pe,Me){for(var $e=0;$e<ve.length;++$e)je(ve[$e],Pe,Me)},N(ee,"keypress",Ae),N(ee,"keydown",Ae),N(ee,"keyup",Ae)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(a,f,o){var d=o(7),h=o(34),m=o(30),g=o(33),E=d.TypeError;a.exports=function(P,j){var k,T;if(j==="string"&&m(k=P.toString)&&!g(T=h(k,P))||m(k=P.valueOf)&&!g(T=h(k,P))||j!=="string"&&m(k=P.toString)&&!g(T=h(k,P)))return T;throw E("Can't convert object to primitive value")}},function(a,f,o){var d=o(7),h=o(30),m=o(92),g=d.WeakMap;a.exports=h(g)&&/native code/.test(m(g))},function(a,f,o){var d=o(36),h=o(38),m=o(32),g=o(41),E=o(77);a.exports=d?Object.defineProperties:function(P,j){m(P);for(var k,T=g(j),C=E(j),N=C.length,I=0;N>I;)h.f(P,k=C[I++],T[k]);return P}},function(a,f,o){var d=o(7);a.exports=d},function(a,f,o){var d=o(7),h=o(96),m=o(99),g=o(33),E=o(28)("species"),P=d.Array;a.exports=function(j){var k;return h(j)&&(k=j.constructor,(m(k)&&(k===P||h(k.prototype))||g(k)&&(k=k[E])===null)&&(k=void 0)),k===void 0?P:k}},function(a,f,o){var d=o(113),h=o(97);a.exports=d?{}.toString:function(){return"[object "+h(this)+"]"}},function(a,f,o){var d=o(142).IteratorPrototype,h=o(60),m=o(69),g=o(78),E=o(80),P=function(){return this};a.exports=function(j,k,T,C){var N=k+" Iterator";return j.prototype=h(d,{next:m(+!C,T)}),g(j,N,!1,!0),E[N]=P,j}},function(a,f,o){var d=o(7),h=o(30),m=d.String,g=d.TypeError;a.exports=function(E){if(typeof E=="object"||h(E))return E;throw g("Can't set "+m(E)+" as a prototype")}},function(a,f,o){var d=o(16),h=o(7),m=o(15),g=o(95),E=o(42),P=o(144),j=o(117),k=o(119),T=o(30),C=o(33),N=o(18),I=o(120),W=o(78),U=o(148);a.exports=function(ne,ue,ae){var ee=ne.indexOf("Map")!==-1,te=ne.indexOf("Weak")!==-1,V=ee?"set":"add",z=h[ne],H=z&&z.prototype,Y=z,q={},ce=function(ve){var Pe=m(H[ve]);E(H,ve,ve=="add"?function(Me){return Pe(this,Me===0?0:Me),this}:ve=="delete"?function(Me){return!(te&&!C(Me))&&Pe(this,Me===0?0:Me)}:ve=="get"?function(Me){return te&&!C(Me)?void 0:Pe(this,Me===0?0:Me)}:ve=="has"?function(Me){return!(te&&!C(Me))&&Pe(this,Me===0?0:Me)}:function(Me,$e){return Pe(this,Me===0?0:Me,$e),this})};if(g(ne,!T(z)||!(te||H.forEach&&!N(function(){new z().entries().next()}))))Y=ae.getConstructor(ue,ne,ee,V),P.enable();else if(g(ne,!0)){var Ee=new Y,me=Ee[V](te?{}:-0,1)!=Ee,Ae=N(function(){Ee.has(1)}),ze=I(function(ve){new z(ve)}),je=!te&&N(function(){for(var ve=new z,Pe=5;Pe--;)ve[V](Pe,Pe);return!ve.has(-0)});ze||((Y=ue(function(ve,Pe){k(ve,H);var Me=U(new z,ve,Y);return Pe!=null&&j(Pe,Me[V],{that:Me,AS_ENTRIES:ee}),Me})).prototype=H,H.constructor=Y),(Ae||je)&&(ce("delete"),ce("has"),ee&&ce("get")),(je||me)&&ce(V),te&&H.clear&&delete H.clear}return q[ne]=Y,d({global:!0,forced:Y!=z},q),W(Y,ne),te||ae.setStrong(Y,ne,ee),Y}},function(a,f,o){var d=o(18),h=o(33),m=o(51),g=o(184),E=Object.isExtensible,P=d(function(){});a.exports=P||g?function(j){return!!h(j)&&(!g||m(j)!="ArrayBuffer")&&(!E||E(j))}:E},function(a,f,o){var d=o(18);a.exports=d(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})},function(a,f,o){var d=o(18);a.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(a,f,o){var d=o(38).f,h=o(60),m=o(149),g=o(63),E=o(119),P=o(117),j=o(116),k=o(150),T=o(36),C=o(144).fastKey,N=o(58),I=N.set,W=N.getterFor;a.exports={getConstructor:function(U,ne,ue,ae){var ee=U(function(Y,q){E(Y,te),I(Y,{type:ne,index:h(null),first:void 0,last:void 0,size:0}),T||(Y.size=0),q!=null&&P(q,Y[ae],{that:Y,AS_ENTRIES:ue})}),te=ee.prototype,V=W(ne),z=function(Y,q,ce){var Ee,me,Ae=V(Y),ze=H(Y,q);return ze?ze.value=ce:(Ae.last=ze={index:me=C(q,!0),key:q,value:ce,previous:Ee=Ae.last,next:void 0,removed:!1},Ae.first||(Ae.first=ze),Ee&&(Ee.next=ze),T?Ae.size++:Y.size++,me!=="F"&&(Ae.index[me]=ze)),Y},H=function(Y,q){var ce,Ee=V(Y),me=C(q);if(me!=="F")return Ee.index[me];for(ce=Ee.first;ce;ce=ce.next)if(ce.key==q)return ce};return m(te,{clear:function(){for(var Y=V(this),q=Y.index,ce=Y.first;ce;)ce.removed=!0,ce.previous&&(ce.previous=ce.previous.next=void 0),delete q[ce.index],ce=ce.next;Y.first=Y.last=void 0,T?Y.size=0:this.size=0},delete:function(Y){var q=this,ce=V(q),Ee=H(q,Y);if(Ee){var me=Ee.next,Ae=Ee.previous;delete ce.index[Ee.index],Ee.removed=!0,Ae&&(Ae.next=me),me&&(me.previous=Ae),ce.first==Ee&&(ce.first=me),ce.last==Ee&&(ce.last=Ae),T?ce.size--:q.size--}return!!Ee},forEach:function(Y){for(var q,ce=V(this),Ee=g(Y,arguments.length>1?arguments[1]:void 0);q=q?q.next:ce.first;)for(Ee(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(Y){return!!H(this,Y)}}),m(te,ue?{get:function(Y){var q=H(this,Y);return q&&q.value},set:function(Y,q){return z(this,Y===0?0:Y,q)}}:{add:function(Y){return z(this,Y=Y===0?0:Y,Y)}}),T&&d(te,"size",{get:function(){return V(this).size}}),ee},setStrong:function(U,ne,ue){var ae=ne+" Iterator",ee=W(ne),te=W(ae);j(U,ne,function(V,z){I(this,{type:ae,target:V,state:ee(V),kind:z,last:void 0})},function(){for(var V=te(this),z=V.kind,H=V.last;H&&H.removed;)H=H.previous;return V.target&&(V.last=H=H?H.next:V.state.first)?z=="keys"?{value:H.key,done:!1}:z=="values"?{value:H.value,done:!1}:{value:[H.key,H.value],done:!1}:(V.target=void 0,{value:void 0,done:!0})},ue?"entries":"values",!ue,!0),k(ne)}}},function(a,f,o){var d=o(79).forEach,h=o(121)("forEach");a.exports=h?[].forEach:function(m){return d(this,m,arguments.length>1?arguments[1]:void 0)}},function(a,f,o){var d=o(7),h=o(63),m=o(34),g=o(40),E=o(189),P=o(145),j=o(99),k=o(45),T=o(62),C=o(146),N=o(118),I=d.Array;a.exports=function(W){var U=g(W),ne=j(this),ue=arguments.length,ae=ue>1?arguments[1]:void 0,ee=ae!==void 0;ee&&(ae=h(ae,ue>2?arguments[2]:void 0));var te,V,z,H,Y,q,ce=N(U),Ee=0;if(!ce||this==I&&P(ce))for(te=k(U),V=ne?new this(te):I(te);te>Ee;Ee++)q=ee?ae(U[Ee],Ee):U[Ee],T(V,Ee,q);else for(Y=(H=C(U,ce)).next,V=ne?new this:[];!(z=m(Y,H)).done;Ee++)q=ee?E(H,ae,[z.value,Ee],!0):z.value,T(V,Ee,q);return V.length=Ee,V}},function(a,f,o){var d=o(32),h=o(147);a.exports=function(m,g,E,P){try{return P?g(d(E)[0],E[1]):g(E)}catch(j){h(m,"throw",j)}}},function(a,f,o){var d=o(18),h=o(7).RegExp;a.exports=d(function(){var m=h(".","s");return!(m.dotAll&&m.exec(`
`)&&m.flags==="s")})},function(a,f,o){var d=o(18),h=o(7).RegExp;a.exports=d(function(){var m=h("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"})},function(a,f,o){var d=o(16),h=o(15),m=o(56),g=o(40),E=o(45),P=o(39),j=o(18),k=o(193),T=o(121),C=o(194),N=o(195),I=o(70),W=o(196),U=[],ne=h(U.sort),ue=h(U.push),ae=j(function(){U.sort(void 0)}),ee=j(function(){U.sort(null)}),te=T("sort"),V=!j(function(){if(I)return I<70;if(!(C&&C>3)){if(N)return!0;if(W)return W<603;var z,H,Y,q,ce="";for(z=65;z<76;z++){switch(H=String.fromCharCode(z),z){case 66:case 69:case 70:case 72:Y=3;break;case 68:case 71:Y=4;break;default:Y=2}for(q=0;q<47;q++)U.push({k:H+q,v:Y})}for(U.sort(function(Ee,me){return me.v-Ee.v}),q=0;q<U.length;q++)H=U[q].k.charAt(0),ce.charAt(ce.length-1)!==H&&(ce+=H);return ce!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:ae||!ee||!te||!V},{sort:function(z){z!==void 0&&m(z);var H=g(this);if(V)return z===void 0?ne(H):ne(H,z);var Y,q,ce=[],Ee=E(H);for(q=0;q<Ee;q++)q in H&&ue(ce,H[q]);for(k(ce,function(me){return function(Ae,ze){return ze===void 0?-1:Ae===void 0?1:me!==void 0?+me(Ae,ze)||0:P(Ae)>P(ze)?1:-1}}(z)),Y=ce.length,q=0;q<Y;)H[q]=ce[q++];for(;q<Ee;)delete H[q++];return H}})},function(a,f,o){var d=o(114),h=Math.floor,m=function(P,j){var k=P.length,T=h(k/2);return k<8?g(P,j):E(P,m(d(P,0,T),j),m(d(P,T),j),j)},g=function(P,j){for(var k,T,C=P.length,N=1;N<C;){for(T=N,k=P[N];T&&j(P[T-1],k)>0;)P[T]=P[--T];T!==N++&&(P[T]=k)}return P},E=function(P,j,k,T){for(var C=j.length,N=k.length,I=0,W=0;I<C||W<N;)P[I+W]=I<C&&W<N?T(j[I],k[W])<=0?j[I++]:k[W++]:I<C?j[I++]:k[W++];return P};a.exports=m},function(a,f,o){var d=o(55).match(/firefox\/(\d+)/i);a.exports=!!d&&+d[1]},function(a,f,o){var d=o(55);a.exports=/MSIE|Trident/.test(d)},function(a,f,o){var d=o(55).match(/AppleWebKit\/(\d+)\./);a.exports=!!d&&+d[1]},function(a,f,o){var d=o(7),h=o(159),m=d.TypeError;a.exports=function(g){if(h(g))throw m("The method doesn't accept regular expressions");return g}},function(a,f,o){var d=o(28)("match");a.exports=function(h){var m=/./;try{"/./"[h](m)}catch(g){try{return m[d]=!1,"/./"[h](m)}catch(E){}}return!1}},function(a,f,o){o(16)({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},function(a,f,o){var d=o(73).PROPER,h=o(18),m=o(162);a.exports=function(g){return h(function(){return!!m[g]()||"​᠎"[g]()!=="​᠎"||d&&m[g].name!==g})}},function(a,f,o){var d=o(15),h=o(40),m=Math.floor,g=d("".charAt),E=d("".replace),P=d("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,k=/\$([$&'`]|\d{1,2})/g;a.exports=function(T,C,N,I,W,U){var ne=N+T.length,ue=I.length,ae=k;return W!==void 0&&(W=h(W),ae=j),E(U,ae,function(ee,te){var V;switch(g(te,0)){case"$":return"$";case"&":return T;case"`":return P(C,0,N);case"'":return P(C,ne);case"<":V=W[P(te,1,-1)];break;default:var z=+te;if(z===0)return ee;if(z>ue){var H=m(z/10);return H===0?ee:H<=ue?I[H-1]===void 0?g(te,1):I[H-1]+g(te,1):ee}V=I[z-1]}return V===void 0?"":V})}},function(a,f,o){var d=o(36),h=o(15),m=o(34),g=o(18),E=o(77),P=o(112),j=o(84),k=o(40),T=o(85),C=Object.assign,N=Object.defineProperty,I=h([].concat);a.exports=!C||g(function(){if(d&&C({b:1},C(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var W={},U={},ne=Symbol(),ue="abcdefghijklmnopqrst";return W[ne]=7,ue.split("").forEach(function(ae){U[ae]=ae}),C({},W)[ne]!=7||E(C({},U)).join("")!=ue})?function(W,U){for(var ne=k(W),ue=arguments.length,ae=1,ee=P.f,te=j.f;ue>ae;)for(var V,z=T(arguments[ae++]),H=ee?I(E(z),ee(z)):E(z),Y=H.length,q=0;Y>q;)V=H[q++],d&&!m(te,z,V)||(ne[V]=z[V]);return ne}:C},function(a,f,o){var d=o(7),h=o(15),m=o(56),g=o(33),E=o(35),P=o(98),j=d.Function,k=h([].concat),T=h([].join),C={},N=function(I,W,U){if(!E(C,W)){for(var ne=[],ue=0;ue<W;ue++)ne[ue]="a["+ue+"]";C[W]=j("C,a","return new C("+T(ne,",")+")")}return C[W](I,U)};a.exports=j.bind||function(I){var W=m(this),U=W.prototype,ne=P(arguments,1),ue=function(){var ae=k(ne,P(arguments));return this instanceof ue?N(W,ae.length,ae):W.apply(I,ae)};return g(U)&&(ue.prototype=U),ue}},function(a,f,o){var d=o(35);a.exports=function(h){return h!==void 0&&(d(h,"value")||d(h,"writable"))}},function(a,f,o){var d=o(15),h=o(44),m=o(39),g=/"/g,E=d("".replace);a.exports=function(P,j,k,T){var C=m(h(P)),N="<"+j;return k!==""&&(N+=" "+k+'="'+E(m(T),g,"&quot;")+'"'),N+">"+C+"</"+j+">"}},function(a,f,o){var d=o(18);a.exports=function(h){return d(function(){var m=""[h]('"');return m!==m.toLowerCase()||m.split('"').length>3})}},function(a,f,o){var d,h,m,g,E=o(16),P=o(71),j=o(7),k=o(46),T=o(34),C=o(208),N=o(42),I=o(149),W=o(102),U=o(78),ne=o(150),ue=o(56),ae=o(30),ee=o(33),te=o(119),V=o(92),z=o(117),H=o(120),Y=o(164),q=o(168).set,ce=o(209),Ee=o(212),me=o(213),Ae=o(170),ze=o(214),je=o(58),ve=o(95),Pe=o(28),Me=o(215),$e=o(128),nt=o(70),wt=Pe("species"),Xe="Promise",qe=je.getterFor(Xe),mt=je.set,fe=je.getterFor(Xe),se=C&&C.prototype,ye=C,De=se,Ge=j.TypeError,Le=j.document,xt=j.process,kt=Ae.f,jt=kt,vt=!!(Le&&Le.createEvent&&j.dispatchEvent),Te=ae(j.PromiseRejectionEvent),ct="unhandledrejection",pe=!1,ot=ve(Xe,function(){var ie=V(ye),_e=ie!==String(ye);if(!_e&&nt===66||P&&!De.finally)return!0;if(nt>=51&&/native code/.test(ie))return!1;var Ye=new ye(function(ft){ft(1)}),Ve=function(ft){ft(function(){},function(){})};return(Ye.constructor={})[wt]=Ve,!(pe=Ye.then(function(){})instanceof Ve)||!_e&&Me&&!Te}),Bt=ot||!H(function(ie){ye.all(ie).catch(function(){})}),pn=function(ie){var _e;return!(!ee(ie)||!ae(_e=ie.then))&&_e},zt=function(ie,_e){if(!ie.notified){ie.notified=!0;var Ye=ie.reactions;ce(function(){for(var Ve=ie.value,ft=ie.state==1,Ht=0;Ye.length>Ht;){var nr,vr,Xn,Zn=Ye[Ht++],it=ft?Zn.ok:Zn.fail,_t=Zn.resolve,St=Zn.reject,It=Zn.domain;try{it?(ft||(ie.rejection===2&&Ct(ie),ie.rejection=1),it===!0?nr=Ve:(It&&It.enter(),nr=it(Ve),It&&(It.exit(),Xn=!0)),nr===Zn.promise?St(Ge("Promise-chain cycle")):(vr=pn(nr))?T(vr,nr,_t,St):_t(nr)):St(Ve)}catch(gn){It&&!Xn&&It.exit(),St(gn)}}ie.reactions=[],ie.notified=!1,_e&&!ie.rejection&&mn(ie)})}},nn=function(ie,_e,Ye){var Ve,ft;vt?((Ve=Le.createEvent("Event")).promise=_e,Ve.reason=Ye,Ve.initEvent(ie,!1,!0),j.dispatchEvent(Ve)):Ve={promise:_e,reason:Ye},!Te&&(ft=j["on"+ie])?ft(Ve):ie===ct&&me("Unhandled promise rejection",Ye)},mn=function(ie){T(q,j,function(){var _e,Ye=ie.facade,Ve=ie.value;if(kn(ie)&&(_e=ze(function(){$e?xt.emit("unhandledRejection",Ve,Ye):nn(ct,Ye,Ve)}),ie.rejection=$e||kn(ie)?2:1,_e.error))throw _e.value})},kn=function(ie){return ie.rejection!==1&&!ie.parent},Ct=function(ie){T(q,j,function(){var _e=ie.facade;$e?xt.emit("rejectionHandled",_e):nn("rejectionhandled",_e,ie.value)})},Hn=function(ie,_e,Ye){return function(Ve){ie(_e,Ve,Ye)}},Q=function(ie,_e,Ye){ie.done||(ie.done=!0,Ye&&(ie=Ye),ie.value=_e,ie.state=2,zt(ie,!0))},he=function(ie,_e,Ye){if(!ie.done){ie.done=!0,Ye&&(ie=Ye);try{if(ie.facade===_e)throw Ge("Promise can't be resolved itself");var Ve=pn(_e);Ve?ce(function(){var ft={done:!1};try{T(Ve,_e,Hn(he,ft,ie),Hn(Q,ft,ie))}catch(Ht){Q(ft,Ht,ie)}}):(ie.value=_e,ie.state=1,zt(ie,!1))}catch(ft){Q({done:!1},ft,ie)}}};if(ot&&(De=(ye=function(ie){te(this,De),ue(ie),T(d,this);var _e=qe(this);try{ie(Hn(he,_e),Hn(Q,_e))}catch(Ye){Q(_e,Ye)}}).prototype,(d=function(ie){mt(this,{type:Xe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=I(De,{then:function(ie,_e){var Ye=fe(this),Ve=Ye.reactions,ft=kt(Y(this,ye));return ft.ok=!ae(ie)||ie,ft.fail=ae(_e)&&_e,ft.domain=$e?xt.domain:void 0,Ye.parent=!0,Ve[Ve.length]=ft,Ye.state!=0&&zt(Ye,!1),ft.promise},catch:function(ie){return this.then(void 0,ie)}}),h=function(){var ie=new d,_e=qe(ie);this.promise=ie,this.resolve=Hn(he,_e),this.reject=Hn(Q,_e)},Ae.f=kt=function(ie){return ie===ye||ie===m?new h(ie):jt(ie)},!P&&ae(C)&&se!==Object.prototype)){g=se.then,pe||(N(se,"then",function(ie,_e){var Ye=this;return new ye(function(Ve,ft){T(g,Ye,Ve,ft)}).then(ie,_e)},{unsafe:!0}),N(se,"catch",De.catch,{unsafe:!0}));try{delete se.constructor}catch(ie){}W&&W(se,De)}E({global:!0,wrap:!0,forced:ot},{Promise:ye}),U(ye,Xe,!1,!0),ne(Xe),m=k(Xe),E({target:Xe,stat:!0,forced:ot},{reject:function(ie){var _e=kt(this);return T(_e.reject,void 0,ie),_e.promise}}),E({target:Xe,stat:!0,forced:P||ot},{resolve:function(ie){return Ee(P&&this===m?ye:this,ie)}}),E({target:Xe,stat:!0,forced:Bt},{all:function(ie){var _e=this,Ye=kt(_e),Ve=Ye.resolve,ft=Ye.reject,Ht=ze(function(){var nr=ue(_e.resolve),vr=[],Xn=0,Zn=1;z(ie,function(it){var _t=Xn++,St=!1;Zn++,T(nr,_e,it).then(function(It){St||(St=!0,vr[_t]=It,--Zn||Ve(vr))},ft)}),--Zn||Ve(vr)});return Ht.error&&ft(Ht.value),Ye.promise},race:function(ie){var _e=this,Ye=kt(_e),Ve=Ye.reject,ft=ze(function(){var Ht=ue(_e.resolve);z(ie,function(nr){T(Ht,_e,nr).then(Ye.resolve,Ve)})});return ft.error&&Ve(ft.value),Ye.promise}})},function(a,f,o){var d=o(7);a.exports=d.Promise},function(a,f,o){var d,h,m,g,E,P,j,k,T=o(7),C=o(63),N=o(50).f,I=o(168).set,W=o(169),U=o(210),ne=o(211),ue=o(128),ae=T.MutationObserver||T.WebKitMutationObserver,ee=T.document,te=T.process,V=T.Promise,z=N(T,"queueMicrotask"),H=z&&z.value;H||(d=function(){var Y,q;for(ue&&(Y=te.domain)&&Y.exit();h;){q=h.fn,h=h.next;try{q()}catch(ce){throw h?g():m=void 0,ce}}m=void 0,Y&&Y.enter()},W||ue||ne||!ae||!ee?!U&&V&&V.resolve?((j=V.resolve(void 0)).constructor=V,k=C(j.then,j),g=function(){k(d)}):ue?g=function(){te.nextTick(d)}:(I=C(I,T),g=function(){I(d)}):(E=!0,P=ee.createTextNode(""),new ae(d).observe(P,{characterData:!0}),g=function(){P.data=E=!E})),a.exports=H||function(Y){var q={fn:Y,next:void 0};m&&(m.next=q),h||(h=q,g()),m=q}},function(a,f,o){var d=o(55),h=o(7);a.exports=/ipad|iphone|ipod/i.test(d)&&h.Pebble!==void 0},function(a,f,o){var d=o(55);a.exports=/web0s(?!.*chrome)/i.test(d)},function(a,f,o){var d=o(32),h=o(33),m=o(170);a.exports=function(g,E){if(d(g),h(E)&&E.constructor===g)return E;var P=m.f(g);return(0,P.resolve)(E),P.promise}},function(a,f,o){var d=o(7);a.exports=function(h,m){var g=d.console;g&&g.error&&(arguments.length==1?g.error(h):g.error(h,m))}},function(a,f){a.exports=function(o){try{return{error:!1,value:o()}}catch(d){return{error:!0,value:d}}}},function(a,f){a.exports=typeof window=="object"},function(a,f,o){var d=o(40),h=o(75),m=o(45);a.exports=function(g){for(var E=d(this),P=m(E),j=arguments.length,k=h(j>1?arguments[1]:void 0,P),T=j>2?arguments[2]:void 0,C=T===void 0?P:h(T,P);C>k;)E[k++]=g;return E}},function(a,f,o){var d=o(16),h=o(7),m=o(15),g=o(59),E=o(160),P=o(218),j=o(18),k=h.RangeError,T=h.String,C=Math.floor,N=m(P),I=m("".slice),W=m(1 .toFixed),U=function(ee,te,V){return te===0?V:te%2==1?U(ee,te-1,V*ee):U(ee*ee,te/2,V)},ne=function(ee,te,V){for(var z=-1,H=V;++z<6;)H+=te*ee[z],ee[z]=H%1e7,H=C(H/1e7)},ue=function(ee,te){for(var V=6,z=0;--V>=0;)z+=ee[V],ee[V]=C(z/te),z=z%te*1e7},ae=function(ee){for(var te=6,V="";--te>=0;)if(V!==""||te===0||ee[te]!==0){var z=T(ee[te]);V=V===""?z:V+N("0",7-z.length)+z}return V};d({target:"Number",proto:!0,forced:j(function(){return W(8e-5,3)!=="0.000"||W(.9,0)!=="1"||W(1.255,2)!=="1.25"||W(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!j(function(){W({})})},{toFixed:function(ee){var te,V,z,H,Y=E(this),q=g(ee),ce=[0,0,0,0,0,0],Ee="",me="0";if(q<0||q>20)throw k("Incorrect fraction digits");if(Y!=Y)return"NaN";if(Y<=-1e21||Y>=1e21)return T(Y);if(Y<0&&(Ee="-",Y=-Y),Y>1e-21)if(V=(te=function(Ae){for(var ze=0,je=Ae;je>=4096;)ze+=12,je/=4096;for(;je>=2;)ze+=1,je/=2;return ze}(Y*U(2,69,1))-69)<0?Y*U(2,-te,1):Y/U(2,te,1),V*=4503599627370496,(te=52-te)>0){for(ne(ce,0,V),z=q;z>=7;)ne(ce,1e7,0),z-=7;for(ne(ce,U(10,z,1),0),z=te-1;z>=23;)ue(ce,1<<23),z-=23;ue(ce,1<<z),ne(ce,1,1),ue(ce,2),me=ae(ce)}else ne(ce,0,V),ne(ce,1<<-te,0),me=ae(ce)+N("0",q);return me=q>0?Ee+((H=me.length)<=q?"0."+N("0",q-H)+me:I(me,0,H-q)+"."+I(me,H-q)):Ee+me}})},function(a,f,o){var d=o(7),h=o(59),m=o(39),g=o(44),E=d.RangeError;a.exports=function(P){var j=m(g(this)),k="",T=h(P);if(T<0||T==1/0)throw E("Wrong number of repetitions");for(;T>0;(T>>>=1)&&(j+=j))1&T&&(k+=j);return k}},function(a,f,o){var d=o(36),h=o(15),m=o(77),g=o(41),E=h(o(84).f),P=h([].push),j=function(k){return function(T){for(var C,N=g(T),I=m(N),W=I.length,U=0,ne=[];W>U;)C=I[U++],d&&!E(N,C)||P(ne,k?[C,N[C]]:N[C]);return ne}};a.exports={entries:j(!0),values:j(!1)}},function(a,f){a.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(a,f,o){o.r(f),o.d(f,"observer",function(){return Ni}),o.d(f,"LogicFlow",function(){return Ab}),o.d(f,"h",function(){return pe.g}),o.d(f,"LogicFlowUtil",function(){return d}),o.d(f,"BaseNode",function(){return Da}),o.d(f,"RectNode",function(){return mg}),o.d(f,"CircleNode",function(){return xg}),o.d(f,"PolygonNode",function(){return Ag}),o.d(f,"DiamondNode",function(){return Dg}),o.d(f,"EllipseNode",function(){return Lg}),o.d(f,"TextNode",function(){return Fg}),o.d(f,"HtmlNode",function(){return Ug}),o.d(f,"BaseEdge",function(){return pp}),o.d(f,"LineEdge",function(){return ob}),o.d(f,"PolylineEdge",function(){return sb}),o.d(f,"BezierEdge",function(){return db}),o.d(f,"Arrow",function(){return GP}),o.d(f,"BaseEdgeModel",function(){return Of}),o.d(f,"BezierEdgeModel",function(){return Sv}),o.d(f,"LineEdgeModel",function(){return wa}),o.d(f,"PolylineEdgeModel",function(){return Cs}),o.d(f,"BaseNodeModel",function(){return ka}),o.d(f,"CircleNodeModel",function(){return kv}),o.d(f,"DiamondNodeModel",function(){return Iv}),o.d(f,"EllipseNodeModel",function(){return Fv}),o.d(f,"PolygonNodeModel",function(){return Xv}),o.d(f,"RectNodeModel",function(){return qv}),o.d(f,"TextNodeModel",function(){return eg}),o.d(f,"HtmlNodeModel",function(){return rg}),o.d(f,"EditConfigModel",function(){return Wl}),o.d(f,"GraphModel",function(){return kc}),o.d(f,"SnaplineModel",function(){return P_}),o.d(f,"Keyboard",function(){return h1}),o.d(f,"get",function(){return d0}),o.d(f,"defaults",function(){return y0}),o.d(f,"ElementState",function(){return yn}),o.d(f,"ModelType",function(){return qt}),o.d(f,"ElementType",function(){return Qn}),o.d(f,"EventType",function(){return pt}),o.d(f,"formateAnchorConnectValidateData",function(){return vc});var d={};o.r(d),o.d(d,"createUuid",function(){return ko}),o.d(d,"refreshGraphId",function(){return du}),o.d(d,"StepDrag",function(){return Do}),o.d(d,"setupEdgeModel",function(){return Id}),o.d(d,"isBboxOverLapping",function(){return Df}),o.d(d,"filterRepeatPoints",function(){return Si}),o.d(d,"getSimplePolyline",function(){return Nf}),o.d(d,"getExpandedBBox",function(){return mu}),o.d(d,"pointDirection",function(){return _c}),o.d(d,"getExpandedBBoxPoint",function(){return wr}),o.d(d,"mergeBBox",function(){return qi}),o.d(d,"getBBoxOfPoints",function(){return _u}),o.d(d,"getPointsFromBBox",function(){return Oc}),o.d(d,"isPointOutsideBBox",function(){return Ou}),o.d(d,"getBBoxXCrossPoints",function(){return ni}),o.d(d,"getBBoxYCrossPoints",function(){return Xt}),o.d(d,"getBBoxCrossPointsByPoint",function(){return Rf}),o.d(d,"estimateDistance",function(){return zr}),o.d(d,"costByPoints",function(){return Cf}),o.d(d,"heuristicCostEstimate",function(){return vn}),o.d(d,"rebuildPath",function(){return Ld}),o.d(d,"removeClosePointFromOpenList",function(){return If}),o.d(d,"isSegmentsIntersected",function(){return ji}),o.d(d,"isSegmentCrossingBBox",function(){return Lf}),o.d(d,"getNextNeighborPoints",function(){return Bd}),o.d(d,"pathFinder",function(){return zd}),o.d(d,"getBoxByOriginNode",function(){return Bf}),o.d(d,"pointFilter",function(){return wc}),o.d(d,"getPolylinePoints",function(){return xc}),o.d(d,"getLongestEdge",function(){return Fd}),o.d(d,"isSegmentsInNode",function(){return zf}),o.d(d,"isSegmentsCrossNode",function(){return Ff}),o.d(d,"getCrossPointInRect",function(){return ar}),o.d(d,"segmentDirection",function(){return mr}),o.d(d,"points2PointsList",function(){return Zi}),o.d(d,"getSimplePoints",function(){return $f}),o.d(d,"getBytesLength",function(){return Wf}),o.d(d,"getTextWidth",function(){return Wd}),o.d(d,"getAppendAttributes",function(){return Gf}),o.d(d,"getBezierControlPoints",function(){return Ji}),o.d(d,"getBezierPoints",function(){return zs}),o.d(d,"getEndTangent",function(){return Fs}),o.d(d,"getClosestPointOfPolyline",function(){return Uf}),o.d(d,"pickEdgeConfig",function(){return Gd}),o.d(d,"twoPointDistance",function(){return Hf}),o.d(d,"createEdgeGenerator",function(){return Ud}),o.d(d,"snapToGrid",function(){return Qo}),o.d(d,"getGridOffset",function(){return pu}),o.d(d,"sampleCubic",function(){return Gt}),o.d(d,"getThetaOfVector",function(){return Br}),o.d(d,"degrees",function(){return Vn}),o.d(d,"Vector",function(){return _r}),o.d(d,"Point",function(){return wu}),o.d(d,"Matrix",function(){return gt}),o.d(d,"RotateMatrix",function(){return Mt}),o.d(d,"ScaleMatrix",function(){return ur}),o.d(d,"TranslateMatrix",function(){return xr});var h=o(1),m=o(10);if(!m.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!h.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=o(43),E=Object(g.b)("observerBatching");function P(t){t()}var j=!1;function k(){return j}function T(t){return Object(h.t)(t)}var C,N=1e4,I=new Set;function W(){C===void 0&&(C=setTimeout(U,1e4))}function U(){C=void 0;var t=Date.now();I.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,I.delete(e))}),I.size>0&&W()}var ne=!1,ue=[],ae={};function ee(t){return"observer"+t}function te(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=ae),k();var r,s=function(x){return function(){ne?ue.push(x):x()}}((n.useForceUpdate||g.d)()),c=m.d.useRef(null);if(!c.current){var p=new h.c(ee(e),function(){v.mounted?s():(p.dispose(),c.current=null)}),v=function(x){return{cleanAt:Date.now()+N,reaction:x}}(p);c.current=v,r=c,I.add(r),W()}var b=c.current.reaction;return m.d.useDebugValue(b,T),m.d.useEffect(function(){var x;return x=c,I.delete(x),c.current?c.current.mounted=!0:(c.current={reaction:new h.c(ee(e),function(){s()}),cleanAt:1/0},s()),function(){c.current.reaction.dispose(),c.current=null}},[]),function(x){ne=!0,ue=[];try{var S=x();ne=!1;var D=ue.length>0?ue:void 0;return m.d.useLayoutEffect(function(){D&&D.forEach(function(L){return L()})},[D]),S}finally{ne=!1}}(function(){var x,S;if(b.track(function(){try{x=t()}catch(D){S=D}}),S)throw S;return x})}var V=function(){return V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},V.apply(this,arguments)};function z(t,e){var n,r,s,c=V({forwardRef:!1},e),p=t.displayName||t.name,v=function(b,x){return te(function(){return t(b,x)},p)};return v.displayName=p,n=c.forwardRef?Object(m.f)(Object(m.e)(v)):Object(m.f)(v),r=t,s=n,Object.keys(r).forEach(function(b){H[b]||Object.defineProperty(s,b,Object.getOwnPropertyDescriptor(r,b))}),n.displayName=p,n}var H={$$typeof:!0,render:!0,compare:!0,type:!0};function Y(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:te(r)}function q(t,e,n,r,s){var c=e==="children"?"render":"children",p=typeof t[e]=="function",v=typeof t[c]=="function";return p&&v?new Error("MobX Observer: Do not use children and render in the same time in`"+n):p||v?null:new Error("Invalid prop `"+s+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}Y.propTypes={children:q,render:q},Y.displayName="Observer";var ce;(ce=m.g)||(ce=P),Object(h.n)({reactionScheduler:ce}),Object(g.a)()[E]=!0;var Ee=0,me={};function Ae(t){return me[t]||(me[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+Ee+")";return Ee++,n}(t)),me[t]}function ze(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var s=0;s<n.length;s++)if(!Object.hasOwnProperty.call(e,n[s])||!je(t[n[s]],e[n[s]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Pe=Ae("patchMixins"),Me=Ae("patchedDefinition");function $e(t,e){for(var n=this,r=arguments.length,s=new Array(r>2?r-2:0),c=2;c<r;c++)s[c-2]=arguments[c];e.locks++;try{var p;return t!=null&&(p=t.apply(this,s)),p}finally{e.locks--,e.locks===0&&e.methods.forEach(function(v){v.apply(n,s)})}}function nt(t,e){return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];$e.call.apply($e,[this,t,e].concat(r))}}function wt(t,e,n){var r=function(v,b){var x=v[Pe]=v[Pe]||{},S=x[b]=x[b]||{};return S.locks=S.locks||0,S.methods=S.methods||[],S}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var s=Object.getOwnPropertyDescriptor(t,e);if(!s||!s[Me]){var c=t[e],p=Xe(t,e,s?s.enumerable:void 0,r,c);Object.defineProperty(t,e,p)}}function Xe(t,e,n,r,s){var c,p=nt(s,r);return(c={})[Me]=!0,c.get=function(){return p},c.set=function(v){if(this===t)p=nt(v,r);else{var b=Xe(this,e,n,r,v);Object.defineProperty(this,e,b)}},c.configurable=!0,c.enumerable=n,c}var qe=h.a||"$mobx",mt=Ae("isMobXReactObserver"),fe=Ae("isUnmounted"),se=Ae("skipRender"),ye=Ae("isForcingUpdate");function De(t){var e=t.prototype;if(t[mt]?Ge(e):t[mt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==m.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==xt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=xt;kt(e,"props"),kt(e,"state");var n=e.render;return e.render=function(){return Le.call(this,n)},wt(e,"componentWillUnmount",function(){var r;(r=this.render[qe])===null||r===void 0||r.dispose(),this[fe]=!0,!this.render[qe]&&Ge(this)}),t}function Ge(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Le(t){var e=this;ve(this,se,!1),ve(this,ye,!1);var n=Ge(this),r=t.bind(this),s=!1,c=new h.c(n+".render()",function(){if(!s&&(s=!0,e[fe]!==!0)){var v=!0;try{ve(e,ye,!0),e[se]||m.a.prototype.forceUpdate.call(e),v=!1}finally{ve(e,ye,!1),v&&c.dispose()}}});function p(){s=!1;var v=void 0,b=void 0;if(c.track(function(){try{b=Object(h.d)(!1,r)}catch(x){v=x}}),v)throw v;return b}return c.reactComponent=this,p[qe]=c,this.render=p,p.call(this)}function xt(t,e){return this.state!==e||!ze(this.props,t)}function kt(t,e){var n=Ae("reactProp_"+e+"_valueHolder"),r=Ae("reactProp_"+e+"_atomHolder");function s(){return this[r]||ve(this,r,Object(h.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var c=!1;return h.f&&h.e&&(c=Object(h.f)(!0)),s.call(this).reportObserved(),h.f&&h.e&&Object(h.e)(c),this[n]},set:function(c){this[ye]||ze(this[n],c)?ve(this,n,c):(ve(this,n,c),ve(this,se,!0),s.call(this).reportChanged(),ve(this,se,!1))}})}var jt=typeof Symbol=="function"&&Symbol.for,vt=jt?Symbol.for("react.forward_ref"):typeof m.e=="function"&&Object(m.e)(function(t){return null}).$$typeof,Te=jt?Symbol.for("react.memo"):typeof m.f=="function"&&Object(m.f)(function(t){return null}).$$typeof;function ct(t){if(t.isMobxInjector,Te&&t.$$typeof===Te)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(vt&&t.$$typeof===vt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(m.e)(function(){var n=arguments;return Object(m.c)(Y,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(m.a,t)?De(t):z(t)}if(!m.a)throw new Error("mobx-react requires React to be available");if(!h.C)throw new Error("mobx-react requires mobx to be available");var pe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(26),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(64);var ot=function(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s},Bt=function(){this.__data__=[],this.size=0},pn=function(t,e){return t===e||t!=t&&e!=e},zt=function(t,e){for(var n=t.length;n--;)if(pn(t[n][0],e))return n;return-1},nn=Array.prototype.splice,mn=function(t){var e=this.__data__,n=zt(e,t);return!(n<0)&&(n==e.length-1?e.pop():nn.call(e,n,1),--this.size,!0)},kn=function(t){var e=this.__data__,n=zt(e,t);return n<0?void 0:e[n][1]},Ct=function(t){return zt(this.__data__,t)>-1},Hn=function(t,e){var n=this.__data__,r=zt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Q(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Q.prototype.clear=Bt,Q.prototype.delete=mn,Q.prototype.get=kn,Q.prototype.has=Ct,Q.prototype.set=Hn;var he=Q,ie=function(){this.__data__=new he,this.size=0},_e=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ye=function(t){return this.__data__.get(t)},Ve=function(t){return this.__data__.has(t)},ft=o(31),Ht=ft.a.Symbol,nr=Object.prototype,vr=nr.hasOwnProperty,Xn=nr.toString,Zn=Ht?Ht.toStringTag:void 0,it=function(t){var e=vr.call(t,Zn),n=t[Zn];try{t[Zn]=void 0;var r=!0}catch(c){}var s=Xn.call(t);return r&&(e?t[Zn]=n:delete t[Zn]),s},_t=Object.prototype.toString,St=function(t){return _t.call(t)},It=Ht?Ht.toStringTag:void 0,gn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":It&&It in Object(t)?it(t):St(t)},Bn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},Fo,Eo=function(t){if(!Bn(t))return!1;var e=gn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},$o=ft.a["__core-js_shared__"],Li=(Fo=/[^.]+$/.exec($o&&$o.keys&&$o.keys.IE_PROTO||""))?"Symbol(src)_1."+Fo:"",Tl=function(t){return!!Li&&Li in t},zu=Function.prototype.toString,Jr=function(t){if(t!=null){try{return zu.call(t)}catch(e){}try{return t+""}catch(e){}}return""},fa=/^\[object .+?Constructor\]$/,st=Function.prototype,kl=Object.prototype,Fu=st.toString,$u=kl.hasOwnProperty,kr=RegExp("^"+Fu.call($u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wr=function(t){return!(!Bn(t)||Tl(t))&&(Eo(t)?kr:fa).test(Jr(t))},Ha=function(t,e){return t==null?void 0:t[e]},ho=function(t,e){var n=Ha(t,e);return Wr(n)?n:void 0},Qr=ho(ft.a,"Map"),yo=ho(Object,"create"),Wu=function(){this.__data__=yo?yo(null):{},this.size=0},Gu=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Yc=Object.prototype.hasOwnProperty,pa=function(t){var e=this.__data__;if(yo){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Yc.call(e,t)?e[t]:void 0},Vc=Object.prototype.hasOwnProperty,Uu=function(t){var e=this.__data__;return yo?e[t]!==void 0:Vc.call(e,t)},Dl=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yo&&e===void 0?"__lodash_hash_undefined__":e,this};function di(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}di.prototype.clear=Wu,di.prototype.delete=Gu,di.prototype.get=pa,di.prototype.has=Uu,di.prototype.set=Dl;var Kc=di,Wo=function(){this.size=0,this.__data__={hash:new Kc,map:new(Qr||he),string:new Kc}},Hu=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},Xa=function(t,e){var n=t.__data__;return Hu(e)?n[typeof e=="string"?"string":"hash"]:n.map},Xu=function(t){var e=Xa(this,t).delete(t);return this.size-=e?1:0,e},Yu=function(t){return Xa(this,t).get(t)},Nl=function(t){return Xa(this,t).has(t)},qc=function(t,e){var n=Xa(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function hn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hn.prototype.clear=Wo,hn.prototype.delete=Xu,hn.prototype.get=Yu,hn.prototype.has=Nl,hn.prototype.set=qc;var dn=hn,Zc=function(t,e){var n=this.__data__;if(n instanceof he){var r=n.__data__;if(!Qr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new dn(r)}return n.set(t,e),this.size=n.size,this};function Bi(t){var e=this.__data__=new he(t);this.size=e.size}Bi.prototype.clear=ie,Bi.prototype.delete=_e,Bi.prototype.get=Ye,Bi.prototype.has=Ve,Bi.prototype.set=Zc;var Go=Bi,Vu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Jc=function(t){return this.__data__.has(t)};function Gn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new dn;++e<n;)this.add(t[e])}Gn.prototype.add=Gn.prototype.push=Vu,Gn.prototype.has=Jc;var Ku=Gn,da=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},qu=function(t,e){return t.has(e)},Ya=function(t,e,n,r,s,c){var p=1&n,v=t.length,b=e.length;if(v!=b&&!(p&&b>v))return!1;var x=c.get(t),S=c.get(e);if(x&&S)return x==e&&S==t;var D=-1,L=!0,X=2&n?new Ku:void 0;for(c.set(t,e),c.set(e,t);++D<v;){var J=t[D],oe=e[D];if(r)var ge=p?r(oe,J,D,e,t,c):r(J,oe,D,t,e,c);if(ge!==void 0){if(ge)continue;L=!1;break}if(X){if(!da(e,function(be,xe){if(!qu(X,xe)&&(J===be||s(J,be,n,r,c)))return X.push(xe)})){L=!1;break}}else if(J!==oe&&!s(J,oe,n,r,c)){L=!1;break}}return c.delete(t),c.delete(e),L},gr=ft.a.Uint8Array,Zu=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n},Qc=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},Ju=Ht?Ht.prototype:void 0,Va=Ju?Ju.valueOf:void 0,zi=function(t,e,n,r,s,c,p){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!c(new gr(t),new gr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return pn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var v=Zu;case"[object Set]":var b=1&r;if(v||(v=Qc),t.size!=e.size&&!b)return!1;var x=p.get(t);if(x)return x==e;r|=2,p.set(t,e);var S=Ya(v(t),v(e),r,s,c,p);return p.delete(t),S;case"[object Symbol]":if(Va)return Va.call(t)==Va.call(e)}return!1},So=function(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t},wn=Array.isArray,es=function(t,e,n){var r=e(t);return wn(t)?r:So(r,n(t))},Dr=function(t,e){for(var n=-1,r=t==null?0:t.length,s=0,c=[];++n<r;){var p=t[n];e(p,n,t)&&(c[s++]=p)}return c},ts=function(){return[]},ns=Object.prototype.propertyIsEnumerable,Sr=Object.getOwnPropertySymbols,Nr=Sr?function(t){return t==null?[]:(t=Object(t),Dr(Sr(t),function(e){return ns.call(t,e)}))}:ts,Qu=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},un=function(t){return t!=null&&typeof t=="object"},rr=function(t){return un(t)&&gn(t)=="[object Arguments]"},Ka=Object.prototype,rs=Ka.hasOwnProperty,ec=Ka.propertyIsEnumerable,qa=rr(function(){return arguments}())?rr:function(t){return un(t)&&rs.call(t,"callee")&&!ec.call(t,"callee")},jo=qa,Uo=o(48),Fi=/^(?:0|[1-9]\d*)$/,Rr=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&Fi.test(t))&&t>-1&&t%1==0&&t<e},Ho=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},rn={};rn["[object Float32Array]"]=rn["[object Float64Array]"]=rn["[object Int8Array]"]=rn["[object Int16Array]"]=rn["[object Int32Array]"]=rn["[object Uint8Array]"]=rn["[object Uint8ClampedArray]"]=rn["[object Uint16Array]"]=rn["[object Uint32Array]"]=!0,rn["[object Arguments]"]=rn["[object Array]"]=rn["[object ArrayBuffer]"]=rn["[object Boolean]"]=rn["[object DataView]"]=rn["[object Date]"]=rn["[object Error]"]=rn["[object Function]"]=rn["[object Map]"]=rn["[object Number]"]=rn["[object Object]"]=rn["[object RegExp]"]=rn["[object Set]"]=rn["[object String]"]=rn["[object WeakMap]"]=!1;var Cr=function(t){return un(t)&&Ho(t.length)&&!!rn[gn(t)]},Po=function(t){return function(e){return t(e)}},pr=o(49),Za=pr.a&&pr.a.isTypedArray,ha=Za?Po(Za):Cr,tc=Object.prototype.hasOwnProperty,zn=function(t,e){var n=wn(t),r=!n&&jo(t),s=!n&&!r&&Object(Uo.a)(t),c=!n&&!r&&!s&&ha(t),p=n||r||s||c,v=p?Qu(t.length,String):[],b=v.length;for(var x in t)!e&&!tc.call(t,x)||p&&(x=="length"||s&&(x=="offset"||x=="parent")||c&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||Rr(x,b))||v.push(x);return v},Ja=Object.prototype,Xo=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Ja)},eo=function(t,e){return function(n){return t(e(n))}},nc=eo(Object.keys,Object),Rl=Object.prototype.hasOwnProperty,rc=function(t){if(!Xo(t))return nc(t);var e=[];for(var n in Object(t))Rl.call(t,n)&&n!="constructor"&&e.push(n);return e},Jn=function(t){return t!=null&&Ho(t.length)&&!Eo(t)},$i=function(t){return Jn(t)?zn(t):rc(t)},Ao=function(t){return es(t,$i,Nr)},jr=Object.prototype.hasOwnProperty,oc=function(t,e,n,r,s,c){var p=1&n,v=Ao(t),b=v.length;if(b!=Ao(e).length&&!p)return!1;for(var x=b;x--;){var S=v[x];if(!(p?S in e:jr.call(e,S)))return!1}var D=c.get(t),L=c.get(e);if(D&&L)return D==e&&L==t;var X=!0;c.set(t,e),c.set(e,t);for(var J=p;++x<b;){var oe=t[S=v[x]],ge=e[S];if(r)var be=p?r(ge,oe,S,e,t,c):r(oe,ge,S,t,e,c);if(!(be===void 0?oe===ge||s(oe,ge,n,r,c):be)){X=!1;break}J||(J=S=="constructor")}if(X&&!J){var xe=t.constructor,Ce=e.constructor;xe==Ce||!("constructor"in t)||!("constructor"in e)||typeof xe=="function"&&xe instanceof xe&&typeof Ce=="function"&&Ce instanceof Ce||(X=!1)}return c.delete(t),c.delete(e),X},Gr=ho(ft.a,"DataView"),hi=ho(ft.a,"Promise"),Qa=ho(ft.a,"Set"),Mo=ho(ft.a,"WeakMap"),Ur="[object Map]",Ir="[object Promise]",to="[object Set]",To="[object WeakMap]",we="[object DataView]",Ne=Jr(Gr),Ie=Jr(Qr),Je=Jr(hi),Ft=Jr(Qa),Jt=Jr(Mo),Sn=gn;(Gr&&Sn(new Gr(new ArrayBuffer(1)))!=we||Qr&&Sn(new Qr)!=Ur||hi&&Sn(hi.resolve())!=Ir||Qa&&Sn(new Qa)!=to||Mo&&Sn(new Mo)!=To)&&(Sn=function(t){var e=gn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Jr(n):"";if(r)switch(r){case Ne:return we;case Ie:return Ur;case Je:return Ir;case Ft:return to;case Jt:return To}return e});var O=Sn,w="[object Arguments]",M="[object Array]",B="[object Object]",K=Object.prototype.hasOwnProperty,de=function(t,e,n,r,s,c){var p=wn(t),v=wn(e),b=p?M:O(t),x=v?M:O(e),S=(b=b==w?B:b)==B,D=(x=x==w?B:x)==B,L=b==x;if(L&&Object(Uo.a)(t)){if(!Object(Uo.a)(e))return!1;p=!0,S=!1}if(L&&!S)return c||(c=new Go),p||ha(t)?Ya(t,e,n,r,s,c):zi(t,e,b,n,r,s,c);if(!(1&n)){var X=S&&K.call(t,"__wrapped__"),J=D&&K.call(e,"__wrapped__");if(X||J){var oe=X?t.value():t,ge=J?e.value():e;return c||(c=new Go),s(oe,ge,n,r,c)}}return!!L&&(c||(c=new Go),oc(t,e,n,r,s,c))},Se=function t(e,n,r,s,c){return e===n||(e==null||n==null||!un(e)&&!un(n)?e!=e&&n!=n:de(e,n,r,s,t,c))},Fe=function(t,e,n,r){var s=n.length,c=s,p=!r;if(t==null)return!c;for(t=Object(t);s--;){var v=n[s];if(p&&v[2]?v[1]!==t[v[0]]:!(v[0]in t))return!1}for(;++s<c;){var b=(v=n[s])[0],x=t[b],S=v[1];if(p&&v[2]){if(x===void 0&&!(b in t))return!1}else{var D=new Go;if(r)var L=r(x,S,b,t,e,D);if(!(L===void 0?Se(S,x,3,r,D):L))return!1}}return!0},at=function(t){return t==t&&!Bn(t)},Vt=function(t){for(var e=$i(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,at(s)]}return e},Qe=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},_n=function(t){var e=Vt(t);return e.length==1&&e[0][2]?Qe(e[0][0],e[0][1]):function(n){return n===t||Fe(n,t,e)}},$t=function(t){return typeof t=="symbol"||un(t)&&gn(t)=="[object Symbol]"},sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,no=/^\w*$/,Nn=function(t,e){if(wn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!$t(t))||no.test(t)||!sn.test(t)||e!=null&&t in Object(e)};function Lr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],c=n.cache;if(c.has(s))return c.get(s);var p=t.apply(this,r);return n.cache=c.set(s,p)||c,p};return n.cache=new(Lr.Cache||dn),n}Lr.Cache=dn;var Yo=Lr,Vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ya=/\\(\\)?/g,ic=function(t){var e=Yo(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Vo,function(n,r,s,c){e.push(s?c.replace(ya,"$1"):r||n)}),e}),yi=Ht?Ht.prototype:void 0,eu=yi?yi.toString:void 0,Pr=function t(e){if(typeof e=="string")return e;if(wn(e))return ot(e,t)+"";if($t(e))return eu?eu.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},va=function(t){return t==null?"":Pr(t)},Wi=function(t,e){return wn(t)?t:Nn(t,e)?[t]:ic(va(t))},vi=function(t){if(typeof t=="string"||$t(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},gi=function(t,e){for(var n=0,r=(e=Wi(e,t)).length;t!=null&&n<r;)t=t[vi(e[n++])];return n&&n==r?t:void 0},ac=function(t,e,n){var r=t==null?void 0:gi(t,e);return r===void 0?n:r},My=function(t,e){return t!=null&&e in Object(t)},Ty=function(t,e,n){for(var r=-1,s=(e=Wi(e,t)).length,c=!1;++r<s;){var p=vi(e[r]);if(!(c=t!=null&&n(t,p)))break;t=t[p]}return c||++r!=s?c:!!(s=t==null?0:t.length)&&Ho(s)&&Rr(p,s)&&(wn(t)||jo(t))},Fp=function(t,e){return t!=null&&Ty(t,e,My)},os=function(t,e){return Nn(t)&&at(e)?Qe(vi(t),e):function(n){var r=ac(n,t);return r===void 0&&r===e?Fp(n,t):Se(e,r,3)}},tu=function(t){return t},Cl=function(t){return function(e){return e==null?void 0:e[t]}},ky=function(t){return function(e){return gi(e,t)}},$p=function(t){return Nn(t)?Cl(vi(t)):ky(t)},Dy=function(t){return typeof t=="function"?t:t==null?tu:typeof t=="object"?wn(t)?os(t[0],t[1]):_n(t):$p(t)},Wp=function(t){return function(e,n,r){for(var s=-1,c=Object(e),p=r(e),v=p.length;v--;){var b=p[t?v:++s];if(n(c[b],b,c)===!1)break}return e}}(),dr=function(t,e){return function(n,r){if(n==null)return n;if(!Jn(n))return t(n,r);for(var s=n.length,c=e?s:-1,p=Object(n);(e?c--:++c<s)&&r(p[c],c,p)!==!1;);return n}}(function(t,e){return t&&Wp(t,e,$i)}),Ar=function(t,e){var n=-1,r=Jn(t)?Array(t.length):[];return dr(t,function(s,c,p){r[++n]=e(s,c,p)}),r},is=function(t,e){return(wn(t)?ot:Ar)(t,Dy(e))};Object(h.n)({isolateGlobalState:!0});var as=function(){try{var t=ho(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),us=function(t,e,n){e=="__proto__"&&as?as(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Ny=Object.prototype.hasOwnProperty,nu=function(t,e,n){var r=t[e];Ny.call(t,e)&&pn(r,n)&&(n!==void 0||e in t)||us(t,e,n)},Ko=function(t,e,n,r){var s=!n;n||(n={});for(var c=-1,p=e.length;++c<p;){var v=e[c],b=r?r(n[v],t[v],v,n,t):void 0;b===void 0&&(b=t[v]),s?us(n,v,b):nu(n,v,b)}return n},Il=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},ga=Math.max,ru=function(t,e,n){return e=ga(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,c=ga(r.length-e,0),p=Array(c);++s<c;)p[s]=r[e+s];s=-1;for(var v=Array(e+1);++s<e;)v[s]=r[s];return v[e]=n(p),Il(t,this,v)}},uc=function(t){return function(){return t}},cs=as?function(t,e){return as(t,"toString",{configurable:!0,enumerable:!1,value:uc(e),writable:!0})}:tu,ou=Date.now,Ry=function(t){var e=0,n=0;return function(){var r=ou(),s=16-(r-n);if(n=r,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Gp=Ry(cs),Cy=function(t,e){return Gp(ru(t,e,tu),t+"")},Iy=function(t,e,n){if(!Bn(n))return!1;var r=typeof e;return!!(r=="number"?Jn(n)&&Rr(e,n.length):r=="string"&&e in n)&&pn(n[e],t)},Up=function(t){return Cy(function(e,n){var r=-1,s=n.length,c=s>1?n[s-1]:void 0,p=s>2?n[2]:void 0;for(c=t.length>3&&typeof c=="function"?(s--,c):void 0,p&&Iy(n[0],n[1],p)&&(c=s<3?void 0:c,s=1),e=Object(e);++r<s;){var v=n[r];v&&t(e,v,r,c)}return e})},ss=Object.prototype.hasOwnProperty,hr=Up(function(t,e){if(Xo(e)||Jn(e))Ko(e,$i(e),t);else for(var n in e)ss.call(e,n)&&nu(t,n,e[n])}),Hp=function(t,e,n,r){if(!Bn(t))return t;for(var s=-1,c=(e=Wi(e,t)).length,p=c-1,v=t;v!=null&&++s<c;){var b=vi(e[s]),x=n;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(s!=p){var S=v[b];(x=r?r(S,b,v):void 0)===void 0&&(x=Bn(S)?S:Rr(e[s+1])?[]:{})}nu(v,b,x),v=v[b]}return t},F=function(t,e,n){for(var r=-1,s=e.length,c={};++r<s;){var p=e[r],v=gi(t,p);n(v,p)&&Hp(c,Wi(p,t),v)}return c},iu=function(t,e){return F(t,e,function(n,r){return Fp(t,r)})},cc=Ht?Ht.isConcatSpreadable:void 0,vo=function(t){return wn(t)||jo(t)||!!(cc&&t&&t[cc])},an=function t(e,n,r,s,c){var p=-1,v=e.length;for(r||(r=vo),c||(c=[]);++p<v;){var b=e[p];n>0&&r(b)?n>1?t(b,n-1,r,s,c):So(c,b):s||(c[c.length]=b)}return c},ba=function(t){return t!=null&&t.length?an(t,1):[]},On,qo,Gi,go,Ll,Bl,Xp,Yp,ls,au,sc,Vp,zl,Zo,fs,Ui,ro,Fl,$l,bi=function(t){return Gp(ru(t,void 0,ba),t+"")}(function(t,e){return t==null?{}:iu(t,e)});function Rn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Kp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yn(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var yn,br,qt,Qn,pt,jn,ps={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},mi=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Wl=(qo=Yn((On=function(){function t(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Rn(this,"isSilentMode",qo,this),Rn(this,"stopZoomGraph",Gi,this),Rn(this,"stopScrollGraph",go,this),Rn(this,"stopMoveGraph",Ll,this),Rn(this,"adjustEdge",Bl,this),Rn(this,"adjustEdgeMiddle",Xp,this),Rn(this,"adjustEdgeStartAndEnd",Yp,this),Rn(this,"adjustNodePosition",ls,this),Rn(this,"hideAnchors",au,this),Rn(this,"allowRotation",sc,this),Rn(this,"hoverOutline",Vp,this),Rn(this,"nodeSelectedOutline",zl,this),Rn(this,"edgeSelectedOutline",Zo,this),Rn(this,"nodeTextEdit",fs,this),Rn(this,"edgeTextEdit",Ui,this),Rn(this,"nodeTextDraggable",ro,this),Rn(this,"edgeTextDraggable",Fl,this),Rn(this,"autoExpand",$l,this),qp(this,"multipleSelectKey",""),qp(this,"defaultConfig",{}),hr(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var s=this.getConfigDetail(r);hr(this,s)}},{key:"getConfigDetail",value:function(r){var s=r.isSilentMode,c=r.textEdit,p={};if(s===!1&&hr(p,this.defaultConfig),s===!0&&s!==this.isSilentMode){var v=bi(ps,mi);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},hr(p,v)}c===!1&&hr(p,{nodeTextEdit:!1,edgeTextEdit:!1});var b=bi(r,mi);return hr(p,b)}},{key:"getConfig",value:function(){return bi(this,mi)}}])&&Kp(e.prototype,n),t}()).prototype,"isSilentMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gi=Yn(On.prototype,"stopZoomGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),go=Yn(On.prototype,"stopScrollGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ll=Yn(On.prototype,"stopMoveGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bl=Yn(On.prototype,"adjustEdge",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xp=Yn(On.prototype,"adjustEdgeMiddle",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yp=Yn(On.prototype,"adjustEdgeStartAndEnd",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ls=Yn(On.prototype,"adjustNodePosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),au=Yn(On.prototype,"hideAnchors",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sc=Yn(On.prototype,"allowRotation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vp=Yn(On.prototype,"hoverOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zl=Yn(On.prototype,"nodeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zo=Yn(On.prototype,"edgeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fs=Yn(On.prototype,"nodeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ui=Yn(On.prototype,"edgeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ro=Yn(On.prototype,"nodeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fl=Yn(On.prototype,"edgeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$l=Yn(On.prototype,"autoExpand",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yn(On.prototype,"updateEditConfig",[h.k],Object.getOwnPropertyDescriptor(On.prototype,"updateEditConfig"),On.prototype),On);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(yn||(yn={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(br||(br={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(qt||(qt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(Qn||(Qn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(pt||(pt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(jn||(jn={}));var Fn,Un,Zp,Jp,ds,uu,Gl,cu,hs;function su(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ul(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Ul(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ul(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _i(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ly(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bo(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Fn||(Fn={}));var Qp={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},ed=(Un=function(){function t(r,s){(function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")})(this,t),Oi(this,"MINI_SCALE_SIZE",.2),Oi(this,"MAX_SCALE_SIZE",16),_i(this,"SCALE_X",Zp,this),_i(this,"SKEW_Y",Jp,this),_i(this,"SKEW_X",ds,this),_i(this,"SCALE_Y",uu,this),_i(this,"TRANSLATE_X",Gl,this),_i(this,"TRANSLATE_Y",cu,this),_i(this,"ZOOM_SIZE",hs,this),Oi(this,"eventCenter",void 0),Oi(this,"translateLimitMinX",void 0),Oi(this,"translateLimitMinY",void 0),Oi(this,"translateLimitMaxX",void 0),Oi(this,"translateLimitMaxY",void 0),this.eventCenter=r;var c=s.stopMoveGraph,p=c!==void 0&&c;this.updateTranslateLimits(p)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var s=su(r,2),c=s[0],p=s[1];return[(c-this.TRANSLATE_X)/this.SCALE_X,(p-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var s=su(r,2),c=s[0],p=s[1];return[c*this.SCALE_X+this.TRANSLATE_X,p*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,s,c){var p=su(r,2),v=p[0],b=p[1];return[v+s/this.SCALE_X,b+c/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,s){return[r/this.SCALE_X,s/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=arguments.length>1?arguments[1]:void 0,c=this.SCALE_X,p=this.SCALE_Y;return r===!0?(c+=this.ZOOM_SIZE,p+=this.ZOOM_SIZE):r===!1?(c-=this.ZOOM_SIZE,p-=this.ZOOM_SIZE):typeof r=="number"&&(c=r,p=r),c<this.MINI_SCALE_SIZE||c>this.MAX_SCALE_SIZE||(s&&(this.TRANSLATE_X-=(c-this.SCALE_X)*s[0],this.TRANSLATE_Y-=(p-this.SCALE_Y)*s[1]),this.SCALE_X=c,this.SCALE_Y=p,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(pt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,s){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+s<=this.translateLimitMaxY&&this.TRANSLATE_Y+s>=this.translateLimitMinY&&(this.TRANSLATE_Y+=s),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,s,c,p){var v=su(this.CanvasPointToHtmlPoint([r,s]),2),b=c/2-v[0],x=p/2-v[1];this.TRANSLATE_X+=b,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var s=su(Array.isArray(r)&&r.length===4?r:Qp[r.toString()],4);this.translateLimitMinX=s[0],this.translateLimitMinY=s[1],this.translateLimitMaxX=s[2],this.translateLimitMaxY=s[3]}}],n&&Ly(e.prototype,n),t}(),Zp=bo(Un.prototype,"SCALE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Jp=bo(Un.prototype,"SKEW_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ds=bo(Un.prototype,"SKEW_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),uu=bo(Un.prototype,"SCALE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Gl=bo(Un.prototype,"TRANSLATE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cu=bo(Un.prototype,"TRANSLATE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hs=bo(Un.prototype,"ZOOM_SIZE",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),bo(Un.prototype,"zoom",[h.k],Object.getOwnPropertyDescriptor(Un.prototype,"zoom"),Un.prototype),bo(Un.prototype,"resetZoom",[h.k],Object.getOwnPropertyDescriptor(Un.prototype,"resetZoom"),Un.prototype),bo(Un.prototype,"translate",[h.k],Object.getOwnPropertyDescriptor(Un.prototype,"translate"),Un.prototype),bo(Un.prototype,"focusOn",[h.k],Object.getOwnPropertyDescriptor(Un.prototype,"focusOn"),Un.prototype),Un),ys=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},td=function(t,e){return t&&Ko(e,$i(e),t)},nd=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},rd=Object.prototype.hasOwnProperty,Hl=function(t){if(!Bn(t))return nd(t);var e=Xo(t),n=[];for(var r in t)(r!="constructor"||!e&&rd.call(t,r))&&n.push(r);return n},lu=function(t){return Jn(t)?zn(t,!0):Hl(t)},Xl=function(t,e){return t&&Ko(e,lu(e),t)},vs=o(107),Zt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},By=function(t,e){return Ko(t,Nr(t),e)},Yl=eo(Object.getPrototypeOf,Object),fu=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)So(e,Nr(t)),t=Yl(t);return e}:ts,od=function(t,e){return Ko(t,fu(t),e)},zy=function(t){return es(t,lu,fu)},Fy=Object.prototype.hasOwnProperty,mo=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Fy.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Vl=function(t){var e=new t.constructor(t.byteLength);return new gr(e).set(new gr(t)),e},gs=function(t,e){var n=e?Vl(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Kl=/\w*$/,id=function(t){var e=new t.constructor(t.source,Kl.exec(t));return e.lastIndex=t.lastIndex,e},ql=Ht?Ht.prototype:void 0,Hr=ql?ql.valueOf:void 0,Hi=function(t){return Hr?Object(Hr.call(t)):{}},bs=function(t,e){var n=e?Vl(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},ad=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Vl(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return gs(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return bs(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return id(t);case"[object Symbol]":return Hi(t)}},lc=Object.create,ud=function(){function t(){}return function(e){if(!Bn(e))return{};if(lc)return lc(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ms=function(t){return typeof t.constructor!="function"||Xo(t)?{}:ud(Yl(t))},cd=function(t){return un(t)&&O(t)=="[object Map]"},_s=pr.a&&pr.a.isMap,Zl=_s?Po(_s):cd,Xi=function(t){return un(t)&&O(t)=="[object Set]"},sd=pr.a&&pr.a.isSet,Yi=sd?Po(sd):Xi,Jl="[object Arguments]",Ql="[object Function]",ef="[object Object]",Pn={};Pn[Jl]=Pn["[object Array]"]=Pn["[object ArrayBuffer]"]=Pn["[object DataView]"]=Pn["[object Boolean]"]=Pn["[object Date]"]=Pn["[object Float32Array]"]=Pn["[object Float64Array]"]=Pn["[object Int8Array]"]=Pn["[object Int16Array]"]=Pn["[object Int32Array]"]=Pn["[object Map]"]=Pn["[object Number]"]=Pn["[object Object]"]=Pn["[object RegExp]"]=Pn["[object Set]"]=Pn["[object String]"]=Pn["[object Symbol]"]=Pn["[object Uint8Array]"]=Pn["[object Uint8ClampedArray]"]=Pn["[object Uint16Array]"]=Pn["[object Uint32Array]"]=!0,Pn["[object Error]"]=Pn[Ql]=Pn["[object WeakMap]"]=!1;var ld=function t(e,n,r,s,c,p){var v,b=1&n,x=2&n,S=4&n;if(r&&(v=c?r(e,s,c,p):r(e)),v!==void 0)return v;if(!Bn(e))return e;var D=wn(e);if(D){if(v=mo(e),!b)return Zt(e,v)}else{var L=O(e),X=L==Ql||L=="[object GeneratorFunction]";if(Object(Uo.a)(e))return Object(vs.a)(e,b);if(L==ef||L==Jl||X&&!c){if(v=x||X?{}:ms(e),!b)return x?od(e,Xl(v,e)):By(e,td(v,e))}else{if(!Pn[L])return c?e:{};v=ad(e,L,b)}}p||(p=new Go);var J=p.get(e);if(J)return J;p.set(e,v),Yi(e)?e.forEach(function(ge){v.add(t(ge,n,r,ge,e,p))}):Zl(e)&&e.forEach(function(ge,be){v.set(be,t(ge,n,r,be,e,p))});var oe=D?void 0:(S?x?zy:Ao:x?lu:$i)(e);return ys(oe||e,function(ge,be){oe&&(ge=e[be=ge]),nu(v,be,t(ge,n,r,be,e,p))}),v},Cn=function(t){return ld(t,5)},Os=function(t,e,n){(n!==void 0&&!pn(t[e],n)||n===void 0&&!(e in t))&&us(t,e,n)},Xr=function(t){return un(t)&&Jn(t)},Jo=Function.prototype,ws=Object.prototype,ma=Jo.toString,fd=ws.hasOwnProperty,pd=ma.call(Object),dd=function(t){if(!un(t)||gn(t)!="[object Object]")return!1;var e=Yl(t);if(e===null)return!0;var n=fd.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ma.call(n)==pd},Vi=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},fc=function(t){return Ko(t,lu(t))},hd=function(t,e,n,r,s,c,p){var v=Vi(t,n),b=Vi(e,n),x=p.get(b);if(x)Os(t,n,x);else{var S=c?c(v,b,n+"",t,e,p):void 0,D=S===void 0;if(D){var L=wn(b),X=!L&&Object(Uo.a)(b),J=!L&&!X&&ha(b);S=b,L||X||J?wn(v)?S=v:Xr(v)?S=Zt(v):X?(D=!1,S=Object(vs.a)(b,!0)):J?(D=!1,S=bs(b,!0)):S=[]:dd(b)||jo(b)?(S=v,jo(v)?S=fc(v):Bn(v)&&!Eo(v)||(S=ms(b))):D=!1}D&&(p.set(b,S),s(S,b,r,c,p),p.delete(b)),Os(t,n,S)}},yd=function t(e,n,r,s,c){e!==n&&Wp(n,function(p,v){if(c||(c=new Go),Bn(p))hd(e,n,v,r,t,s,c);else{var b=s?s(Vi(e,v),p,v+"",e,n,c):void 0;b===void 0&&(b=p),Os(e,v,b)}},lu)},pc=Up(function(t,e,n){yd(t,e,n)}),vd={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},dc=function(t){var e=Cn(vd);return t&&(e=pc(e,t)),e};o(82),o(166);function tf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var xs=function(){function t(){var r,s,c;(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),c={},(s="_events")in(r=this)?Object.defineProperty(r,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[s]=c}var e,n;return e=t,(n=[{key:"on",value:function(r,s,c){var p=this;return r==null||r.split(",").forEach(function(v){v=v.trim(),p._events[v]||(p._events[v]=[]),p._events[v].push({callback:s,once:!!c})}),this}},{key:"once",value:function(r,s){var c=this;r==null||r.split(",").forEach(function(p){return p=p.trim(),c.on(p,s,!0)})}},{key:"emit",value:function(r,s){var c=this;r==null||r.split(",").forEach(function(p){var v=c._events[p]||[],b=c._events["*"]||[],x=function(S){for(var D=S.length,L=0;L<D;L++)if(S[L]){var X=S[L],J=X.callback;X.once&&(S.splice(L,1),S.length===0&&delete c._events[p],D--,L--),J.apply(c,[s])}};x(v),x(b)})}},{key:"off",value:function(r,s){var c=this;return r||(this._events={}),r.split(",").forEach(function(p){if(s){for(var v=c._events[p]||[],b=v.length,x=0;x<b;x++)v[x].callback===s&&(v.splice(x,1),b--,x--);v.length===0&&delete c._events[p]}else delete c._events[p]}),this}},{key:"getEvents",value:function(){return this._events}}])&&tf(e.prototype,n),t}();function Qo(t,e){return e*Math.round(t/e)||t}function pu(t,e){return t%e}function Es(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ss(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Ss(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ss(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nf,js=function(t,e,n){var r=Es(t,2),s=r[0],c=r[1],p=Es(e,2),v=p[0],b=p[1],x=Es(n,2),S=x[0],D=x[1];return s>v&&s<S&&c>b&&c<D},ei=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n},gd=(o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47),new Uint8Array(16));function bd(){if(!nf&&!(nf=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nf(gd)}for(var $y=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,md=function(t){return typeof t=="string"&&$y.test(t)},In=[],hc=0;hc<256;++hc)In.push((hc+256).toString(16).substr(1));var rf=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(In[t[e+0]]+In[t[e+1]]+In[t[e+2]]+In[t[e+3]]+"-"+In[t[e+4]]+In[t[e+5]]+"-"+In[t[e+6]]+In[t[e+7]]+"-"+In[t[e+8]]+In[t[e+9]]+"-"+In[t[e+10]]+In[t[e+11]]+In[t[e+12]]+In[t[e+13]]+In[t[e+14]]+In[t[e+15]]).toLowerCase();if(!md(n))throw TypeError("Stringified UUID is invalid");return n},yc=function(t,e,n){var r=(t=t||{}).random||(t.rng||bd)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return rf(r)},ko=function(){return yc()},du=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,s){return r[s.id]=e+yc(),s.id=r[s.id],r},{});return t.edges.forEach(function(r){r.id=e+yc(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},Et=(o(105),o(127),function(t,e,n){var r=t.x,s=t.y;return(r-e.x)*(r-n.x)<=0&&(s-e.y)*(s-n.y)<=0});function hu(t){return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function Ps(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ps(Object(n),!0).forEach(function(r){of(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ps(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function of(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke,Or,af,uf,_d,ti,Mr,As,Ms,Od,yu,cf,sf,lf,ff,wd,Ts,pf,vu,ks,df,Ds=function(t){return t.anchors},_a=function(t,e){for(var n,r=e.nodes,s=r.length-1;s>=0;s--){var c=r[s];if(Ed(t,c)){var p=c.getTargetAnchor(t);if(p){var v={node:c,anchorIndex:p.index,anchor:p.anchor};n&&!xd(c,n.node,e)||(n=v)}}}return n},xd=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},or=function(t,e,n,r){return Math.hypot(t-n,e-r)},Yr=function(t,e){var n=!1,r=oo(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Ed=function(t,e){var n=!1,r=oo(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},oo=function(t){var e=t.x,n=t.y,r=t.width,s=t.height;return{minX:e-r/2,minY:n-s/2,maxX:e+r/2,maxY:n+s/2,x:e,y:n,width:r,height:s,centerX:e,centerY:n}},Sd=function(t,e,n){var r,s=function(p){var v=p,b=v.x,x=v.y,S=v.width,D=v.height,L=v.radius;return[{x:b-S/2+L,y:x-D/2+L,r:L},{x:b+S/2-L,y:x-D/2+L,r:L},{x:b-S/2+L,y:x+D/2-L,r:L},{x:b+S/2-L,y:x+D/2-L,r:L}]}(n),c=Number.MAX_SAFE_INTEGER;return s.forEach(function(p){var v=or(t.x,t.y,p.x,p.y);v<c&&(c=v,r=p)}),hf(t,e,r)},hf=function(t,e,n){var r,s=n,c=s.x,p=s.y,v=s.r;if(e===jn.HORIZONTAL){var b=c-Math.sqrt(v*v-(t.y-p)*(t.y-p)),x=c+Math.sqrt(v*v-(t.y-p)*(t.y-p));r={x:Math.abs(b-t.x)<Math.abs(x-t.x)?b:x,y:t.y}}else if(e===jn.VERTICAL){var S=p-Math.sqrt(v*v-(t.x-c)*(t.x-c)),D=p+Math.sqrt(v*v-(t.x-c)*(t.x-c)),L=Math.abs(S-t.y)<Math.abs(D-t.y)?S:D;r={x:t.x,y:L}}return r},yf=function(t,e){var n=e,r=!1,s=n.x-n.width/2+n.radius,c=n.x+n.width/2-n.radius,p=n.y-n.height/2+n.radius,v=n.y+n.height/2-n.radius,b=n.x,x=n.y,S=n.width,D=n.height;return t.y===x+D/2||t.y===x-D/2?r=t.x>s&&t.x<c:t.x!==b+S/2&&t.x!==b-S/2||(r=t.y>p&&t.y<v),r},vf=function(t,e,n){var r,s=n,c=s.x,p=s.y,v=s.rx,b=s.ry;if(e===jn.HORIZONTAL){var x=c-Math.sqrt(v*v-(t.y-p)*(t.y-p)*v*v/(b*b)),S=c+Math.sqrt(v*v-(t.y-p)*(t.y-p)*v*v/(b*b));r={x:Math.abs(x-t.x)<Math.abs(S-t.x)?x:S,y:t.y}}else if(e===jn.VERTICAL){var D=p-Math.sqrt(b*b-(t.x-c)*(t.x-c)*b*b/(v*v)),L=p+Math.sqrt(b*b-(t.x-c)*(t.x-c)*b*b/(v*v)),X=Math.abs(D-t.y)<Math.abs(L-t.y)?D:L;r={x:t.x,y:X}}return r},gf=function(t,e,n){for(var r,s=n.pointsPosition,c=Number.MAX_SAFE_INTEGER,p=[],v=0;v<s.length;v++)p.push({start:s[v],end:s[(v+1)%s.length]});return p.forEach(function(b){var x=b.start,S=b.end,D=x,L=S;x.x>S.x&&(D=S,L=x);var X={x:t.x,y:t.y};if(D.x===L.x&&e===jn.HORIZONTAL&&(X={x:D.x,y:t.y}),D.y===L.y&&e===jn.VERTICAL&&(X={x:t.x,y:D.y}),D.x!==L.x&&D.y!==L.y){var J=(L.y-D.y)/(L.x-D.x),oe=(D.x*L.y-L.x*D.y)/(D.x-L.x);e===jn.HORIZONTAL?X={x:(t.y-oe)/J,y:t.y}:e===jn.VERTICAL&&(X={x:t.x,y:J*t.x+oe})}if(Et(X,x,S)){var ge=or(X.x,X.y,t.x,t.y);ge<c&&(c=ge,r=X)}}),r},bf=function(t,e,n,r){var s=t.x,c=t.y;return e.x>t.x?s=t.x+n/2:e.x<t.x&&(s=t.x-n/2),e.y>t.y?c=t.y+r/2:e.y<t.y&&(c=t.y-r/2),{x:s,y:c}},jd=function(t){var e=t.rows,n=t.style,r=t.rowsLength,s=t.className,c=document.createElement("div");c.style.fontSize=n.fontSize,c.style.width=n.width,c.className=s,c.style.lineHeight=n.lineHeight,c.style.padding=n.padding,n.fontFamily&&(c.style.fontFamily=n.fontFamily),r>1?e.forEach(function(v){var b=document.createElement("div");b.textContent=v,c.appendChild(b)}):c.textContent=e,document.body.appendChild(c);var p=c.clientHeight;return document.body.removeChild(c),p},mf=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,s=0;return e&&e.forEach(function(c){var p=Wf(c);s=p>s?p:s}),{width:Math.ceil(s/2)*r+r/4,height:n*(r+2)+r/4}},vc=function(t){return hu(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},An=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},Wy=1e3,Pd=999,_f=function(){return++Wy};function Ns(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ns(Object(n),!0).forEach(function(r){Kr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ir(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Gy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pt(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Of=(ke=function(){function t(r,s){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Kr(this,"id",""),ir(this,"type",Or,this),ir(this,"sourceNodeId",af,this),ir(this,"targetNodeId",uf,this),ir(this,"startPoint",_d,this),ir(this,"endPoint",ti,this),ir(this,"text",Mr,this),ir(this,"properties",As,this),ir(this,"points",Ms,this),ir(this,"pointsList",Od,this),ir(this,"isSelected",yu,this),ir(this,"isHovered",cf,this),ir(this,"isHitable",sf,this),ir(this,"draggable",lf,this),ir(this,"visible",ff,this),Kr(this,"virtual",!1),ir(this,"isAnimation",wd,this),ir(this,"isShowAdjustPoint",Ts,this),Kr(this,"graphModel",void 0),ir(this,"zIndex",pf,this),Kr(this,"BaseType",Qn.EDGE),Kr(this,"modelType",qt.EDGE),ir(this,"state",vu,this),Kr(this,"additionStateData",void 0),Kr(this,"sourceAnchorId",""),Kr(this,"targetAnchorId",""),Kr(this,"menu",void 0),Kr(this,"customTextPosition",!1),ir(this,"style",ks,this),ir(this,"arrowConfig",df,this),this.graphModel=s,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var s=this.graphModel.idGenerator,c=s&&s(r.type),p=this.createId();r.id=p||c||ko()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var v=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=v,hr(this,Gd(r)),this.graphModel.overlapMode===Fn.INCREASE&&(this.zIndex=r.zIndex||_f()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Vr(Vr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Vr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Cn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return Cn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),s=this.getEdgeAnimationStyle(),c=this.graphModel.theme.arrow,p=this.isAnimation?s.stroke:r.stroke;return Vr(Vr({},r),{},{fill:p,stroke:p},c)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Cn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,s;return(r=this.graphModel)===null||r===void 0||(s=r.nodesMap[this.sourceNodeId])===null||s===void 0?void 0:s.model}},{key:"targetNode",get:function(){var r,s;return(r=this.graphModel)===null||r===void 0||(s=r.nodesMap[this.targetNodeId])===null||s===void 0?void 0:s.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,s){var c,p;return Ds(r).forEach(function(v){var b=Hf(v,s);(p===void 0||b<p)&&(p=b,c=v)}),c}},{key:"getEndAnchor",value:function(r){var s,c,p=this;return Ds(r).forEach(function(v){var b=Hf(v,p.startPoint);(c===void 0||b<c)&&(c=b,s=v)}),s}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,s=r.x,c=r.y,p=r.value,v={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(h.I)(this.properties)};return p&&(v.text={x:s,y:c,value:p}),this.graphModel.overlapMode===Fn.INCREASE&&(v.zIndex=this.zIndex),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,s){this.properties[r]=An(s),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Vr(Vr({},Object(h.I)(this.properties)),An(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var s=this.arrowConfig,c=s.markerEnd,p=s.markerStart;p&&p==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),c&&c==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,s){this.style=Vr(Vr({},this.style),{},Kr({},r,An(s)))}},{key:"setStyles",value:function(r){this.style=Vr(Vr({},this.style),An(r))}},{key:"updateStyles",value:function(r){this.style=Vr({},An(r))}},{key:"formatText",value:function(r){var s=this.textPosition,c=s.x,p=s.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||c,y:r.text.y||p,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:c,y:p,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,s=r.x,c=r.y;this.text.x=s,this.text.y=c}},{key:"moveText",value:function(r,s){if(this.text){var c=this.text,p=c.x,v=c.y,b=c.value,x=c.draggable,S=c.editable;this.text={value:b,draggable:x,x:p+r,y:v+s,editable:S}}}},{key:"setText",value:function(r){r&&hr(this.text,r)}},{key:"updateText",value:function(r){this.text=Vr(Vr({},Object(h.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);if(!(r||this.startPoint&&this.sourceAnchorId))throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var s=this.getEndAnchor(this.targetNode);if(!(s||this.endPoint&&this.targetAnchorId))throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:s.x,y:s.y}),this.targetAnchorId||(this.targetAnchorId=s.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,s){this.state=r,this.additionStateData=s}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,s){this.startPoint.x+=r,this.startPoint.y+=s}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,s){this.endPoint.x+=r,this.endPoint.y+=s}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){hr(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var s=r.startPoint,c=r.endPoint;this.updateStartPoint({x:s.x,y:s.y}),this.updateEndPoint({x:c.x,y:c.y})}}],n&&Gy(e.prototype,n),t}(),Or=Pt(ke.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),af=Pt(ke.prototype,"sourceNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),uf=Pt(ke.prototype,"targetNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_d=Pt(ke.prototype,"startPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=Pt(ke.prototype,"endPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mr=Pt(ke.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),As=Pt(ke.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ms=Pt(ke.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Od=Pt(ke.prototype,"pointsList",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yu=Pt(ke.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cf=Pt(ke.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sf=Pt(ke.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lf=Pt(ke.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ff=Pt(ke.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wd=Pt(ke.prototype,"isAnimation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ts=Pt(ke.prototype,"isShowAdjustPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pf=Pt(ke.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vu=Pt(ke.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ks=Pt(ke.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),df=Pt(ke.prototype,"arrowConfig",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Pt(ke.prototype,"sourceNode",[h.m],Object.getOwnPropertyDescriptor(ke.prototype,"sourceNode"),ke.prototype),Pt(ke.prototype,"targetNode",[h.m],Object.getOwnPropertyDescriptor(ke.prototype,"targetNode"),ke.prototype),Pt(ke.prototype,"textPosition",[h.m],Object.getOwnPropertyDescriptor(ke.prototype,"textPosition"),ke.prototype),Pt(ke.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperty"),ke.prototype),Pt(ke.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"deleteProperty"),ke.prototype),Pt(ke.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperties"),ke.prototype),Pt(ke.prototype,"changeEdgeId",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"changeEdgeId"),ke.prototype),Pt(ke.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyle"),ke.prototype),Pt(ke.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyles"),ke.prototype),Pt(ke.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStyles"),ke.prototype),Pt(ke.prototype,"formatText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"formatText"),ke.prototype),Pt(ke.prototype,"resetTextPosition",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"resetTextPosition"),ke.prototype),Pt(ke.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveText"),ke.prototype),Pt(ke.prototype,"setText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setText"),ke.prototype),Pt(ke.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateText"),ke.prototype),Pt(ke.prototype,"setAnchors",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setAnchors"),ke.prototype),Pt(ke.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setSelected"),ke.prototype),Pt(ke.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHovered"),ke.prototype),Pt(ke.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHitable"),ke.prototype),Pt(ke.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"openEdgeAnimation"),ke.prototype),Pt(ke.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"closeEdgeAnimation"),ke.prototype),Pt(ke.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setElementState"),ke.prototype),Pt(ke.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStartPoint"),ke.prototype),Pt(ke.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveStartPoint"),ke.prototype),Pt(ke.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateEndPoint"),ke.prototype),Pt(ke.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveEndPoint"),ke.prototype),Pt(ke.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setZIndex"),ke.prototype),Pt(ke.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"initPoints"),ke.prototype),Pt(ke.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAttributes"),ke.prototype),Pt(ke.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustStart"),ke.prototype),Pt(ke.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustEnd"),ke.prototype),Pt(ke.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAfterAdjustStartAndEnd"),ke.prototype),ke),wf=Of;function xf(t){return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function Ad(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ad(Object(n),!0).forEach(function(r){kd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ad(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Td(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gu(){return gu=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Hy(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},gu.apply(this,arguments)}function Hy(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Oa(t))!==null;);return t}function Ef(t,e){return Ef=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ef(t,e)}function Xy(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Oa(t);if(e){var s=Oa(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Yy(this,n)}}function Yy(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sf(t)}function Sf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oa(t){return Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oa(t)}function kd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wt,Dd,wa=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ef(c,p)})(s,t);var e,n,r=Xy(s);function s(){var c;Uy(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return kd(Sf(c=r.call.apply(r,[this].concat(v))),"modelType",qt.LINE_EDGE),c}return e=s,(n=[{key:"getEdgeStyle",value:function(){var c=this.graphModel.theme.line;return Md(Md({},gu(Oa(s.prototype),"getEdgeStyle",this).call(this)),Cn(c))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Td(e.prototype,n),s}(wf);function jf(t){return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Vy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return gc(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return gc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Af(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pf(Object(n),!0).forEach(function(r){Tf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mf(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Nd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bc(){return bc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Ky(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},bc.apply(this,arguments)}function Ky(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=wi(t))!==null;);return t}function bu(t,e){return bu=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bu(t,e)}function Rs(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wi(t);if(e){var s=wi(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return qy(this,n)}}function qy(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xa(t)}function xa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wi(t){return wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wi(t)}function Tf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ln(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Cs=(Wt=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&bu(c,p)})(s,t);var e,n,r=Rs(s);function s(){var c;Nd(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return Tf(xa(c=r.call.apply(r,[this].concat(v))),"modelType",qt.POLYLINE_EDGE),Tf(xa(c),"draggingPointList",void 0),Mf(xa(c),"dbClickPosition",Dd,xa(c)),c}return e=s,(n=[{key:"initEdgeData",value:function(c){this.offset=30,bc(wi(s.prototype),"initEdgeData",this).call(this,c)}},{key:"getEdgeStyle",value:function(){var c=this.graphModel.theme.polyline;return Af(Af({},bc(wi(s.prototype),"getEdgeStyle",this).call(this)),Cn(c))}},{key:"getTextPosition",value:function(){var c,p=(c=this.text)===null||c===void 0?void 0:c.value;if(this.dbClickPosition&&!p){var v=this.dbClickPosition;return{x:v.x,y:v.y}}var b=Zi(this.points),x=Vy(Fd(b),2),S=x[0],D=x[1];return{x:(S.x+D.x)/2,y:(S.y+D.y)/2}}},{key:"getAfterAnchor",value:function(c,p,v){var b,x;return v.forEach(function(S){var D;c===jn.HORIZONTAL?D=Math.abs(p.y-S.y):c===jn.VERTICAL&&(D=Math.abs(p.x-S.x)),(!x||x>D)&&(x=D,b=S)}),b}},{key:"getCrossPoint",value:function(c,p,v){var b;return c===jn.HORIZONTAL?b={x:v.x,y:p.y}:c===jn.VERTICAL&&(b={x:p.x,y:v.y}),b}},{key:"removeCrossPoints",value:function(c,p,v){var b=v.map(function(be){return be});if(c===1){var x=b[c],S=b[p],D=b[c-1];if(zf(D,x,this.sourceNode)){if(Ff(x,S,this.sourceNode)){var L=ar(x,S,this.sourceNode);L&&(b[c]=L,b.splice(c-1,1),c--,p--)}}else this.sourceNode.anchors.forEach(function(be){(be.x===D.x&&be.x===x.x||be.y===D.y&&be.y===x.y)&&or(be.x,be.y,x.x,x.y)<or(D.x,D.y,x.x,x.y)&&(b[c-1]=be)})}if(p===v.length-2){var X=b[c],J=b[p],oe=b[p+1];if(zf(J,oe,this.targetNode)){if(Ff(X,J,this.targetNode)){var ge=ar(X,J,this.targetNode);ge&&(b[p]=ge,b.splice(p+1,1))}}else this.targetNode.anchors.forEach(function(be){(be.x===oe.x&&be.x===J.x||be.y===oe.y&&be.y===J.y)&&or(be.x,be.y,J.x,J.y)<or(oe.x,oe.y,J.x,J.y)&&(b[p+1]=be)})}return b}},{key:"getDraggingPoints",value:function(c,p,v,b,x){var S=x.map(function(X){return X}),D=this.getAfterAnchor(c,v,b),L=this.getCrossPoint(c,v,D);return p==="start"?(S.unshift(L),S.unshift(D)):(S.push(L),S.push(D)),S}},{key:"updateCrossPoints",value:function(c){var p=c.map(function(Ce){return Ce}),v=c[0],b=c[1],x=c[p.length-2],S=c[p.length-1],D=this.sourceNode,L=this.targetNode,X=D.modelType,J=L.modelType,oe=mr(v,b),ge=p[0];switch(X){case qt.RECT_NODE:D.radius!==0&&(yf(v,D)||(ge=Sd(v,oe,D)));break;case qt.CIRCLE_NODE:ge=hf(v,oe,D);break;case qt.ELLIPSE_NODE:ge=vf(v,oe,D);break;case qt.DIAMOND_NODE:case qt.POLYGON_NODE:ge=gf(v,oe,D)}p[0]=ge;var be=mr(x,S),xe=p[p.length-1];switch(J){case qt.RECT_NODE:L.radius!==0&&(yf(S,L)||(xe=Sd(S,be,L)));break;case qt.CIRCLE_NODE:xe=hf(S,be,L);break;case qt.ELLIPSE_NODE:xe=vf(S,be,L);break;case qt.DIAMOND_NODE:case qt.POLYGON_NODE:xe=gf(S,be,L)}return p[p.length-1]=xe,p}},{key:"getData",value:function(){var c=bc(wi(s.prototype),"getData",this).call(this),p=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return Object.assign({},c,{pointsList:p})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var c=xc({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=c,this.points=c.map(function(p){return"".concat(p.x,",").concat(p.y)}).join(" ")}},{key:"updateStartPoint",value:function(c){this.startPoint=c,this.updatePoints()}},{key:"moveStartPoint",value:function(c,p){this.startPoint.x+=c,this.startPoint.y+=p,this.updatePoints()}},{key:"updateEndPoint",value:function(c){this.endPoint=c,this.updatePoints()}},{key:"moveEndPoint",value:function(c,p){this.endPoint.x+=c,this.endPoint.y+=p,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(c){return c})}},{key:"dragAppendSimple",value:function(c,p){this.isDragging=!0;var v=c.start,b=c.end,x=c.startIndex,S=c.endIndex,D=c.direction,L=this.pointsList,X=L;return D===jn.HORIZONTAL?(L[x]={x:v.x,y:v.y+p.y},L[S]={x:b.x,y:b.y+p.y},X=this.pointsList.map(function(J){return J})):D===jn.VERTICAL&&(L[x]={x:v.x+p.x,y:v.y},L[S]={x:b.x+p.x,y:b.y},X=this.pointsList.map(function(J){return J})),this.updatePointsAfterDrag(X),this.draggingPointList=X,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[x]),end:Object.assign({},L[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppend",value:function(c,p){this.isDragging=!0;var v=c.start,b=c.end,x=c.startIndex,S=c.endIndex,D=c.direction,L=this.pointsList;if(D===jn.HORIZONTAL){L[x]={x:v.x,y:v.y+p.y},L[S]={x:b.x,y:b.y+p.y};var X=this.pointsList.map(function(Ze){return Ze});if(x!==0&&S!==this.pointsList.length-1&&(X=this.removeCrossPoints(x,S,X)),x===0){var J={x:v.x,y:v.y+p.y};if(!Yr(J,this.sourceNode)){var oe=this.sourceNode.anchors;X=this.getDraggingPoints(D,"start",J,oe,X)}}if(S===this.pointsList.length-1){var ge={x:b.x,y:b.y+p.y};if(!Yr(ge,this.targetNode)){var be=this.targetNode.anchors;X=this.getDraggingPoints(D,"end",ge,be,X)}}this.updatePointsAfterDrag(X),this.draggingPointList=X}else if(D===jn.VERTICAL){L[x]={x:v.x+p.x,y:v.y},L[S]={x:b.x+p.x,y:b.y};var xe=this.pointsList.map(function(Ze){return Ze});if(x!==0&&S!==this.pointsList.length-1&&(xe=this.removeCrossPoints(x,S,xe)),x===0){var Ce={x:v.x+p.x,y:v.y};if(!Yr(Ce,this.sourceNode)){var Ke=this.sourceNode.anchors;xe=this.getDraggingPoints(D,"start",Ce,Ke,xe)}}if(S===this.pointsList.length-1){var et={x:b.x+p.x,y:b.y};if(!Yr(et,this.targetNode)){var Ot=this.targetNode.anchors;xe=this.getDraggingPoints(D,"end",et,Ot,xe)}}this.updatePointsAfterDrag(xe),this.draggingPointList=xe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[x]),end:Object.assign({},L[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var c=wc(Zi(this.points));this.pointsList=c.map(function(b){return b}),this.draggingPointList=[];var p=c[0];this.startPoint=Object.assign({},p);var v=c[c.length-1];this.endPoint=Object.assign({},v)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(c){var p=this.updateCrossPoints(c);this.points=p.map(function(v){return"".concat(v.x,",").concat(v.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var c=this.pointsList;return c[c.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(c){var p=c.startPoint,v=c.endPoint,b=c.sourceNode,x=c.targetNode,S=xc({x:p.x,y:p.y},{x:v.x,y:v.y},b,x,this.offset||0);this.pointsList=S,this.initPoints()}}])&&Rd(e.prototype,n),s}(wf),Dd=Ln(Wt.prototype,"dbClickPosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ln(Wt.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"initPoints"),Wt.prototype),Ln(Wt.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updatePoints"),Wt.prototype),Ln(Wt.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateStartPoint"),Wt.prototype),Ln(Wt.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"moveStartPoint"),Wt.prototype),Ln(Wt.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateEndPoint"),Wt.prototype),Ln(Wt.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"moveEndPoint"),Wt.prototype),Ln(Wt.prototype,"dragAppendStart",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendStart"),Wt.prototype),Ln(Wt.prototype,"dragAppendSimple",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendSimple"),Wt.prototype),Ln(Wt.prototype,"dragAppend",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppend"),Wt.prototype),Ln(Wt.prototype,"dragAppendEnd",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendEnd"),Wt.prototype),Ln(Wt.prototype,"updatePointsAfterDrag",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updatePointsAfterDrag"),Wt.prototype),Ln(Wt.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"getAdjustStart"),Wt.prototype),Ln(Wt.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"getAdjustEnd"),Wt.prototype),Ln(Wt.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateAfterAdjustStartAndEnd"),Wt.prototype),Wt),mc=function(t){var e=t.start,n=t.end,r=t.offset,s=t.verticalLength,c=t.type,p={leftX:0,leftY:0,rightX:0,rightY:0},v=Math.atan((n.y-e.y)/(n.x-e.x)),b=Math.atan(r/s),x=Math.sqrt(s*s+r*r);return c==="start"?n.x>=e.x?(p.leftX=e.x+x*Math.sin(v+b),p.leftY=e.y-x*Math.cos(v+b),p.rightX=e.x-x*Math.sin(v-b),p.rightY=e.y+x*Math.cos(v-b)):(p.leftX=e.x-x*Math.sin(v+b),p.leftY=e.y+x*Math.cos(v+b),p.rightX=e.x+x*Math.sin(v-b),p.rightY=e.y-x*Math.cos(v-b)):c==="end"&&(n.x>=e.x?(p.leftX=n.x+x*Math.sin(v-b),p.leftY=n.y-x*Math.cos(v-b),p.rightX=n.x-x*Math.sin(v+b),p.rightY=n.y+x*Math.cos(v+b)):(p.leftX=n.x-x*Math.sin(v-b),p.leftY=n.y+x*Math.cos(v-b),p.rightX=n.x+x*Math.sin(v+b),p.rightY=n.y-x*Math.cos(v+b))),p},Ea={x:1,y:0,z:0};function Gt(t,e,n,r,s){for(var c=function(J){if(J<0||J>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-J,3)+3*e.x*J*Math.pow(1-J,2)+3*n.x*Math.pow(J,2)*(1-J)+r.x*Math.pow(J,3),y:t.y*Math.pow(1-J,3)+3*e.y*J*Math.pow(1-J,2)+3*n.y*Math.pow(J,2)*(1-J)+r.y*Math.pow(J,3)}},p=0,v=2,b=r.x,x=r.y,S=r;p<s&&v<50;){var D=S=c(1-v/100),L=D.x,X=D.y;p=or(b,x,L,X),v++}return S}function Cd(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Br(t){return r=function(c,p){return c.x*p.y-c.y*p.x}(e=Ea,n=t),s=Math.acos(function(c,p){var v=[c.x,c.y,c.z];return[p.x,p.y,p.z].reduce(function(b,x,S){return b+x*v[S]})}(Cd(e),Cd(n))),r>=0?s:-s;var e,n,r,s}function Vn(t){return t*(180/Math.PI)}function xi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xi(Object(n),!0).forEach(function(r){kf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ei(t){return function(e){if(Array.isArray(e))return Wn(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||$n(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ls(t){return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function Sa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||$n(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $n(t,e){if(t){if(typeof t=="string")return Wn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wn(t,e):void 0}}function Wn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Id=function(t,e){var n;switch(t.type){case"line":default:n=new wa(t,e);break;case"polyline":n=new Cs(t,e)}return n},Df=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Si=function(t){var e=[],n={};return t.forEach(function(r){var s="".concat(r.x,"-").concat(r.y);r.id=s,n[s]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Nf=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Si(n)},mu=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},_c=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?jn.HORIZONTAL:jn.VERTICAL},wr=function(t,e,n){return _c(n,e)===jn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},qi=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),s=Math.max(t.maxX,e.maxX),c=Math.max(t.maxY,e.maxY);return{centerX:(n+s)/2,centerY:(r+c)/2,minX:n,minY:r,maxX:s,maxY:c,height:c-r,width:s-n}},_u=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(S){n.push(S.x),r.push(S.y)});var s=Math.min.apply(Math,n),c=Math.max.apply(Math,n),p=Math.min.apply(Math,r),v=Math.max.apply(Math,r),b=c-s,x=v-p;return e&&(b+=e,x+=e),{centerX:(s+c)/2,centerY:(p+v)/2,maxX:c,maxY:v,minX:s,minY:p,x:(s+c)/2,y:(p+v)/2,height:x,width:b}},Oc=function(t){var e=t.minX,n=t.minY,r=t.maxX,s=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:s},{x:e,y:s}]},Ou=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},ni=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Xt=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Rf=function(t,e){return ni(t,e.x).concat(Xt(t,e.y))},zr=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Cf=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},vn=function(t,e,n,r,s){return zr(t,e)+zr(t,n)+Cf(t,[e,n,r,s])},Ld=function t(e,n,r,s,c){c||(c=0),e.unshift(n[s]),r[s]&&r[s]!==s&&c<=100&&t(e,n,r,r[s],c+1)},If=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},ji=function(t,e,n,r){var s=e.x-t.x,c=e.y-t.y,p=r.x-n.x,v=r.y-n.y,b=(-c*(t.x-n.x)+s*(t.y-n.y))/(-p*c+s*v),x=(p*(t.y-n.y)-v*(t.x-n.x))/(-p*c+s*v);return b>=0&&b<=1&&x>=0&&x<=1},Lf=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Sa(Oc(n),4),s=r[0],c=r[1],p=r[2],v=r[3];return ji(t,e,s,c)||ji(t,e,s,v)||ji(t,e,c,p)||ji(t,e,p,v)},Bd=function(t,e,n,r){var s=[];return t.forEach(function(c){c!==e&&(c.x!==e.x&&c.y!==e.y||Lf(c,e,n)||Lf(c,e,r)||s.push(c))}),Si(s)},zd=function(t,e,n,r,s,c,p){var v=[],b=[e],x={},S={},D={};S[e.id]=0,D[e.id]=vn(e,n,e);var L={};t.forEach(function(oe){L[oe.id]=oe});for(var X=function(){var oe=void 0,ge=1/0;if(b.forEach(function(xe){D[xe.id]<ge&&(ge=D[xe.id],oe=xe)}),oe===n){var be=[];return Ld(be,L,x,n.id),{v:be}}If(b,oe),v.push(oe),Bd(t,oe,r,s).forEach(function(xe){if(v.indexOf(xe)===-1){b.indexOf(xe)===-1&&b.push(xe);var Ce=D[oe.id]+zr(oe,xe);S[xe.id]&&Ce>=S[xe.id]||(x[xe.id]=oe.id,S[xe.id]=Ce,D[xe.id]=S[xe.id]+vn(xe,n,e,c,p))}})};b.length;){var J=X();if(Ls(J)==="object")return J.v}return[e,n]},Bf=function(t){return oo(t)},wc=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],s=t[e+1];n.x===r.x&&r.x===s.x||n.y===r.y&&r.y===s.y?t.splice(e,1):e++}return t},xc=function(t,e,n,r,s){var c=Bf(n),p=Bf(r),v=mu(c,s),b=mu(p,s),x=wr(v,c,t),S=wr(b,p,e);if(Df(v,b)){var D=$f(t,e,x,S);return[t,x].concat(Ei(D),[S,e])}var L=_u([x,S]),X=qi(v,L),J=qi(b,L),oe=[];oe=(oe=oe.concat(Oc(X))).concat(Oc(J));var ge={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[L,X,J].forEach(function(xe){oe=oe.concat(Rf(xe,ge).filter(function(Ce){return Ou(Ce,v)&&Ou(Ce,b)}))}),[{x:x.x,y:S.y},{x:S.x,y:x.y}].forEach(function(xe){Ou(xe,v)&&Ou(xe,b)&&oe.push(xe)}),oe.unshift(x),oe.push(S),oe=Si(oe);var be=zd(oe,x,S,c,p,t,e);return be.unshift(t),be.push(e),be.length>2&&(be=wc(be)),Si(be)},Fd=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],s=or(n.x,n.y,r.x,r.y),c=1;c<t.length-1;c++){var p=t[c],v=t[c+1],b=or(p.x,p.y,v.x,v.y);b>s&&(s=b,n=p,r=v)}e=[n,r]}return e},zf=function(t,e,n){var r=Yr(t,n),s=Yr(e,n);return r&&s},Ff=function(t,e,n){var r=Yr(t,n),s=Yr(e,n);return!(r&&s)&&(r||s)},ar=function(t,e,n){for(var r,s,c=oo(n),p=Oc(c),v=0;v<p.length;v++)ji(t,e,p[v],p[(v+1)%p.length])&&(s=[p[v],p[(v+1)%p.length]]);return s&&(r=function(b,x,S,D){var L=(x.y-b.y)*(D.x-S.x)-(b.x-x.x)*(S.y-D.y);if(L===0)return!1;var X=((x.x-b.x)*(D.x-S.x)*(S.y-b.y)+(x.y-b.y)*(D.x-S.x)*b.x-(D.y-S.y)*(x.x-b.x)*S.x)/L,J=-((x.y-b.y)*(D.y-S.y)*(S.x-b.x)+(x.x-b.x)*(D.y-S.y)*b.y-(D.x-S.x)*(x.y-b.y)*S.y)/L;return(X-b.x)*(X-x.x)<=0&&(J-b.y)*(J-x.y)<=0&&(X-S.x)*(X-D.x)<=0&&(J-S.y)*(J-D.y)<=0&&{x:X,y:J}}(t,e,s[0],s[1])),r},mr=function(t,e){var n;return t.x===e.x?n=jn.VERTICAL:t.y===e.y&&(n=jn.HORIZONTAL),n},Zi=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var s=Sa(r.split(","),2),c=s[0],p=s[1];n.push({x:Number(c),y:Number(p)})}),n},$f=function(t,e,n,r){var s=[];if(mr(t,n)===mr(e,r))t.y===n.y?(s.push({x:n.x,y:(n.y+r.y)/2}),s.push({x:r.x,y:(n.y+r.y)/2})):(s.push({x:(n.x+r.x)/2,y:n.y}),s.push({x:(n.x+r.x)/2,y:r.y}));else{var c={x:n.x,y:r.y},p=Et(c,t,n),v=Et(c,e,r);if(p||v)c={x:r.x,y:n.y};else{var b=$d(c,t,n),x=$d(c,e,r);b&&x&&(c={x:r.x,y:n.y})}s.push(c)}return s},$d=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Wf=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Bs=null,Wd=function(t,e){Bs||(Bs=document.createElement("canvas"));var n=Bs.getContext("2d");return n.font=e,n.measureText(t).width},Gf=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var s={start:n,end:r,offset:10,verticalLength:5},c=mc(Is(Is({},s),{},{type:"start"})),p=mc(Is(Is({},s),{},{type:"end"}));e="M".concat(c.leftX," ").concat(c.leftY,` 
    L`).concat(c.rightX," ").concat(c.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Ji=function(t){var e=t.start,n=t.end,r=t.sourceNode,s=t.targetNode,c=t.offset,p=oo(r),v=oo(s),b=mu(p,c),x=mu(v,c);return{sNext:wr(b,p,e),ePre:wr(x,v,n)}},zs=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ec(e[0]),Ec(e[1]),Ec(e[2]),Ec(e[3])]},Ec=function(t){var e=Sa(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Fs=function(t,e){var n=Sa(t,4);return[Gt(n[0],n[1],n[2],n[3],e),t[3]]},Uf=function(t,e){for(var n,r=t.x,s=t.y,c=Zi(e),p=Number.MAX_SAFE_INTEGER,v=[],b=0;b<c.length;b++)v.push({start:c[b],end:c[(b+1)%c.length]});if(v.forEach(function(L){var X=L.start,J=L.end;if(X.x===J.x){var oe={x:X.x,y:s};if(Et(oe,X,J)){var ge=Math.abs(X.x-r);ge<p&&(p=ge,n=oe)}}else if(X.y===J.y){var be={x:r,y:X.y};if(Et(be,X,J)){var xe=Math.abs(X.y-s);xe<p&&(p=xe,n=be)}}}),!n){var x=v[0],S=x.start,D=x.end;n={x:S.x+(D.x-S.x)/2,y:S.y+(D.y-S.y)/2}}return n},Gd=function(t){return bi(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Hf=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Ud(t,e){return typeof e!="function"?function(n,r,s){return Object.assign({type:t.edgeType},s)}:function(n,r,s){var c=e(n,r,s);return c?typeof c=="string"?Object.assign({},s,{type:c}):Object.assign({type:c},s):{type:t.edgeType}}}o(207);var Xf=function(){};function Zy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Do=function(){function t(r){var s=this,c=r.onDragStart,p=c===void 0?Xf:c,v=r.onDragging,b=v===void 0?Xf:v,x=r.onDragEnd,S=x===void 0?Xf:x,D=r.eventType,L=D===void 0?"":D,X=r.eventCenter,J=X===void 0?null:X,oe=r.step,ge=oe===void 0?1:oe,be=r.isStopPropagation,xe=be===void 0||be,Ce=r.model,Ke=Ce===void 0?null:Ce,et=r.data,Ot=et===void 0?null:et;(function(Ze,dt){if(!(Ze instanceof dt))throw new TypeError("Cannot call a class as a function")})(this,t),Kn(this,"onDragStart",void 0),Kn(this,"onDragging",void 0),Kn(this,"onDragEnd",void 0),Kn(this,"step",void 0),Kn(this,"isStopPropagation",void 0),Kn(this,"isDragging",!1),Kn(this,"isStartDragging",!1),Kn(this,"startX",0),Kn(this,"startY",0),Kn(this,"sumDeltaX",0),Kn(this,"sumDeltaY",0),Kn(this,"eventType",void 0),Kn(this,"eventCenter",void 0),Kn(this,"model",void 0),Kn(this,"data",void 0),Kn(this,"startTime",void 0),Kn(this,"handleMouseDown",function(Ze){var dt,tt,Qt,on=(dt=window)===null||dt===void 0?void 0:dt.document;if(Ze.button===0){s.isStopPropagation&&Ze.stopPropagation(),s.isStartDragging=!0,s.startX=Ze.clientX,s.startY=Ze.clientY,on.addEventListener("mousemove",s.handleMouseMove,!1),on.addEventListener("mouseup",s.handleMouseUp,!1);var Rt=(tt=s.model)===null||tt===void 0?void 0:tt.getData();(Qt=s.eventCenter)===null||Qt===void 0||Qt.emit(pt["".concat(s.eventType,"_MOUSEDOWN")],{e:Ze,data:s.data||Rt}),s.startTime=new Date().getTime()}}),Kn(this,"handleMouseMove",function(Ze){if(s.isStopPropagation&&Ze.stopPropagation(),s.isStartDragging&&(s.sumDeltaX+=Ze.clientX-s.startX,s.sumDeltaY+=Ze.clientY-s.startY,s.startX=Ze.clientX,s.startY=Ze.clientY,s.step<=1||Math.abs(s.sumDeltaX)>s.step||Math.abs(s.sumDeltaY)>s.step)){var dt,tt=s.sumDeltaX%s.step,Qt=s.sumDeltaY%s.step,on=s.sumDeltaX-tt,Rt=s.sumDeltaY-Qt;s.sumDeltaX=tt,s.sumDeltaY=Qt;var ln,er=(dt=s.model)===null||dt===void 0?void 0:dt.getData();s.isDragging||((ln=s.eventCenter)===null||ln===void 0||ln.emit(pt["".concat(s.eventType,"_DRAGSTART")],{e:Ze,data:s.data||er}),s.onDragStart({event:Ze})),s.isDragging=!0,Promise.resolve().then(function(){var tr,$r;s.onDragging({deltaX:on,deltaY:Rt,event:Ze}),(tr=s.eventCenter)===null||tr===void 0||tr.emit(pt["".concat(s.eventType,"_MOUSEMOVE")],{e:Ze,data:s.data||er}),($r=s.eventCenter)===null||$r===void 0||$r.emit(pt["".concat(s.eventType,"_DRAG")],{e:Ze,data:s.data||er})})}}),Kn(this,"handleMouseUp",function(Ze){var dt=window.document;s.isStartDragging=!1,s.isStopPropagation&&Ze.stopPropagation(),Promise.resolve().then(function(){var tt,Qt,on;dt.removeEventListener("mousemove",s.handleMouseMove,!1),dt.removeEventListener("mouseup",s.handleMouseUp,!1);var Rt=(tt=s.model)===null||tt===void 0?void 0:tt.getData();(Qt=s.eventCenter)===null||Qt===void 0||Qt.emit(pt["".concat(s.eventType,"_MOUSEUP")],{e:Ze,data:s.data||Rt}),s.isDragging&&(s.isDragging=!1,s.onDragEnd({event:Ze}),(on=s.eventCenter)===null||on===void 0||on.emit(pt["".concat(s.eventType,"_DROP")],{e:Ze,data:s.data||Rt}))})}),Kn(this,"cancelDrag",function(){var Ze,dt=(Ze=window)===null||Ze===void 0?void 0:Ze.document;dt.removeEventListener("mousemove",s.handleMouseMove,!1),dt.removeEventListener("mouseup",s.handleMouseUp,!1),s.onDragEnd({event:null}),s.isDragging=!1}),this.onDragStart=p,this.onDragging=b,this.onDragEnd=S,this.step=ge,this.isStopPropagation=xe,this.eventType=L,this.eventCenter=J,this.model=Ke,this.data=Ot}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&Zy(e.prototype,n),t}();function $s(t){return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function Yf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ws(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vf(t,e,n){return e&&Ws(t.prototype,e),n&&Ws(t,n),t}function Kf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jc(t,e)}function Tr(t){var e=Gs();return function(){var n,r=Pc(t);if(e){var s=Pc(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return qf(this,n)}}function qf(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ja(t)}function ja(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zf(t){var e=typeof Map=="function"?new Map:void 0;return Zf=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,s)}function s(){return Sc(n,arguments,Pc(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),jc(s,n)},Zf(t)}function Sc(t,e,n){return Sc=Gs()?Reflect.construct:function(r,s,c){var p=[null];p.push.apply(p,s);var v=new(Function.bind.apply(r,p));return c&&jc(v,c.prototype),v},Sc.apply(null,arguments)}function Gs(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function jc(t,e){return jc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jc(t,e)}function Pc(t){return Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pc(t)}function Jf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qf(t,e){return t instanceof _r&&e instanceof _r}var Hd=function(t){Kf(n,t);var e=Tr(n);function n(r,s,c){var p;return Yf(this,n),Jf(ja(p=e.call(this,3)),"x",void 0),Jf(ja(p),"y",void 0),Jf(ja(p),"z",void 0),p[0]=r,p[1]=s,p[2]=c,p.x=r,p.y=s,p.z=c,Object.setPrototypeOf(ja(p),n.prototype),p}return Vf(n,[{key:"add",value:function(r){if(Qf(this,r))return new _r(this.x+r.x,this.y+r.y);var s=this.z+r.z;return new wu((this.x+r.x)/s,(this.y+r.y)/s)}},{key:"subtract",value:function(r){if(Qf(this,r))return new _r(this.x-r.x,this.y-r.y);var s=this.z-r.z;return s===0?new _r(this.x-r.x,this.y-r.y):new wu((this.x-r.x)/s,(this.y-r.y)/s)}}]),n}(Zf(Array)),_r=function(t){Kf(n,t);var e=Tr(n);function n(r,s,c){var p;return Yf(this,n),p=e.call(this,r,s,c!=null?c:0),Object.setPrototypeOf(ja(p),n.prototype),p}return Vf(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var s=this;return r.reduce(function(c,p,v){return c+p*s[v]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var s=this.crossZ(r),c=Math.acos(this.normalize().dot(r.normalize()));return s>=0?c:-c}}]),n}(Hd),wu=function(t){Kf(n,t);var e=Tr(n);function n(r,s){var c;return Yf(this,n),c=e.call(this,r,s,1),Object.setPrototypeOf(ja(c),n.prototype),c}return Vf(n,[{key:"toString",value:function(){return"Point"}}]),n}(Hd);o(67),o(217);function Ac(t){return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function ep(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||Yd(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xd(t){return function(e){if(Array.isArray(e))return tp(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Yd(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yd(t,e){if(t){if(typeof t=="string")return tp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tp(t,e):void 0}}function tp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Us(t,e,n){return e&&Vd(t.prototype,e),n&&Vd(t,n),t}function Hs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}function l(t){var e=G();return function(){var n,r=le(t);if(e){var s=le(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t){var e=typeof Map=="function"?new Map:void 0;return A=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,s)}function s(){return R(n,arguments,le(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),re(s,n)},A(t)}function R(t,e,n){return R=G()?Reflect.construct:function(r,s,c){var p=[null];p.push.apply(p,s);var v=new(Function.bind.apply(r,p));return c&&re(v,c.prototype),v},R.apply(null,arguments)}function G(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function re(t,e){return re=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},re(t,e)}function le(t){return le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},le(t)}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Z,Re,We,lt,yt,At,Be,Ue,Dt,ut,Nt,Lt,tn,gt=function(t){Hs(n,t);var e=l(n);function n(){var r;xu(this,n);for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return Oe(_(r=e.call(this,c.length)),"rows",void 0),Oe(_(r),"columns",void 0),r.fill(new Array(3)),c.forEach(function(v,b){r[b]=v}),r.columns=c[0].length,r.rows=c.length,Object.setPrototypeOf(_(r),n.prototype),r}return Us(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return Xd(this.map(function(s){return s[r]}))}},{key:"transpose",value:function(){for(var r=[],s=0;s<this.columns;s++)r.push(this.getColumn(s));return R(n,r)}},{key:"cross",value:function(r){var s=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var c=0;c<this.rows;c++)for(var p=this.getRow(c),v=function(x){var S=r.getColumn(x);s[c][x]=p.reduce(function(D,L,X){return D+L*S[X]},0)},b=0;b<r.columns;b++)v(b);return R(n,Xd(s))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new wu(r[0],r[1])})}},{key:"toString",value:function(){var r=ep(this[0],2),s=r[0],c=r[1],p=ep(this[1],2),v=p[0],b=p[1],x=ep(this[2],2),S=x[0],D=x[1];return"matrix(".concat(s," ").concat(c," ").concat(v," ").concat(b," ").concat(S," ").concat(D,")")}},{key:"translate",value:function(r,s){return this.cross(new xr(r,s))}},{key:"rotate",value:function(r){return this.cross(new Mt(r))}},{key:"scale",value:function(r,s){return this.cross(new ur(r,s))}}]),n}(A(Array)),Mt=function(t){Hs(n,t);var e=l(n);function n(r){var s;return xu(this,n),s=e.call(this,new _r(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new _r(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new _r(0,0,1)),Object.setPrototypeOf(_(s),n.prototype),s}return Us(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(gt),ur=function(t){Hs(n,t);var e=l(n);function n(r,s){var c;return xu(this,n),Oe(_(c=e.call(this,new _r(r,0,0),new _r(0,s,0),new _r(0,0,1))),"sx",void 0),Oe(_(c),"sy",void 0),c.sx=r,c.sy=s,Object.setPrototypeOf(_(c),n.prototype),c}return Us(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(gt),xr=function(t){Hs(n,t);var e=l(n);function n(r,s){var c;return xu(this,n),Oe(_(c=e.call(this,new _r(1,0,0),new _r(0,1,0),new _r(r,s,1))),"tx",void 0),Oe(_(c),"ty",void 0),c.tx=r,c.ty=s,Object.setPrototypeOf(_(c),n.prototype),c}return Us(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(gt),No={node:!1,edge:!1},yr={node:!0,edge:!0};function ri(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ri(Object(n),!0).forEach(function(r){ao(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pi(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||Pa(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ai(t){return function(e){if(Array.isArray(e))return Mi(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Pa(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pa(t,e){if(t){if(typeof t=="string")return Mi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mi(t,e):void 0}}function Mi(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mc(t){return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function io(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Xs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ao(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bt(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Tc,np=200,kc=(Z=function(){function t(r){(function(X,J){if(!(X instanceof J))throw new TypeError("Cannot call a class as a function")})(this,t),ao(this,"rootEl",void 0),io(this,"width",Re,this),io(this,"height",We,this),ao(this,"theme",void 0),ao(this,"eventCenter",void 0),ao(this,"modelMap",new Map),ao(this,"topElement",void 0),ao(this,"animation",void 0),ao(this,"idGenerator",void 0),ao(this,"edgeGenerator",void 0),ao(this,"nodeMoveRules",[]),ao(this,"customTrajectory",void 0),io(this,"edgeType",lt,this),io(this,"nodes",yt,this),io(this,"edges",At,this),io(this,"overlapMode",Be,this),io(this,"background",Ue,this),io(this,"transformModel",Dt,this),io(this,"editConfigModel",ut,this),io(this,"gridSize",Nt,this),io(this,"partial",Lt,this),io(this,"fakerNode",tn,this);var s,c=r.container,p=r.background,v=p===void 0?{}:p,b=r.grid,x=r.idGenerator,S=r.edgeGenerator,D=r.animation,L=r.customTrajectory;this.background=v,Mc(b)==="object"&&(this.gridSize=b.size),this.rootEl=c,this.editConfigModel=new Wl(r),this.eventCenter=new xs,this.transformModel=new ed(this.eventCenter,r),this.theme=dc(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(s=D)&&typeof s!="boolean"?pc(Cn(No),s):Cn(s===!0?yr:No),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=x,this.customTrajectory=L,this.edgeGenerator=Ud(this,S),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=ko()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,s,c){return r[s.id]={index:c,model:s},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,s,c){return r[s.id]={index:c,model:s},r},{})}},{key:"modelsMap",get:function(){return[].concat(Ai(this.nodes),Ai(this.edges)).reduce(function(r,s){return r[s.id]=s,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(x){return r.push(x)}),this.edges.forEach(function(x){return r.push(x)}),r=r.sort(function(x,S){return x.zIndex-S.zIndex});for(var s=[],c=[-200,-200],p=[this.width+np,this.height+np],v=0;v<r.length;v++){var b=r[v];b.visible&&(!this.partial||b.isSelected||this.isElementInArea(b,c,p,!1,!1))&&s.push(b)}return s}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(c){return c.state===yn.TEXT_EDIT}),s=this.edges.find(function(c){return c.state===yn.TEXT_EDIT});return r||s}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(s){s.isSelected&&r.set(s.id,s)}),this.edges.forEach(function(s){s.isSelected&&r.set(s.id,s)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(s){s.isSelected&&r.push(s)}),r}},{key:"getAreaElement",value:function(r,s){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=arguments.length>4&&arguments[4]!==void 0&&arguments[4],b=[],x=[];this.nodes.forEach(function(L){return x.push(L)}),this.edges.forEach(function(L){return x.push(L)});for(var S=0;S<x.length;S++){var D=x[S];v&&!D.visible||!this.isElementInArea(D,r,s,c,p)||b.push(D)}return b}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var s;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(s=this.nodesMap[r])===null||s===void 0?void 0:s.model}},{key:"getPointByClient",value:function(r){var s=r.x,c=r.y,p=this.rootEl.getBoundingClientRect(),v={x:s-p.left,y:c-p.top},b=Pi(this.transformModel.HtmlPointToCanvasPoint([v.x,v.y]),2);return{domOverlayPosition:v,canvasOverlayPosition:{x:b[0],y:b[1]}}}},{key:"isElementInArea",value:function(r,s,c){var p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Qn.NODE){for(var b=oo(r=r),x=b.minX,S=b.minY,D=b.maxX,L=b.maxY,X=[{x,y:S},{x:D,y:S},{x:D,y:L},{x,y:L}],J=v,oe=0;oe<X.length;oe++){var ge=X[oe],be=ge.x,xe=ge.y,Ce=this.transformModel.CanvasPointToHtmlPoint([be,xe]),Ke=Pi(Ce,2);if(be=Ke[0],xe=Ke[1],js([be,xe],s,c)!==v){J=!v;break}}return J}if(r.BaseType===Qn.EDGE){var et=r=r,Ot=et.startPoint,Ze=et.endPoint,dt=this.transformModel.CanvasPointToHtmlPoint([Ot.x,Ot.y]),tt=this.transformModel.CanvasPointToHtmlPoint([Ze.x,Ze.y]),Qt=js(dt,s,c),on=js(tt,s,c);return p?Qt&&on:Qt||on}return!1}},{key:"graphDataToModel",value:function(r){var s=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=is(r.nodes,function(c){var p=s.getModel(c.type);if(!p)throw new Error("找不到".concat(c.type,"对应的节点。"));var v=c.x,b=c.y;return v&&b&&(c.x=Qo(v,s.gridSize),c.y=Qo(b,s.gridSize),Mc(c.text)==="object"&&(c.text.x-=pu(v,s.gridSize),c.text.y-=pu(b,s.gridSize))),new p(c,s)}):this.nodes=[],r.edges?this.edges=is(r.edges,function(c){var p=s.getModel(c.type);if(!p)throw new Error("找不到".concat(c.type,"对应的边。"));return new p(c,s)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(c){var p=c.getData();p&&!c.virtual&&r.push(p)});var s=[];return this.nodes.forEach(function(c){var p=c.getData();p&&!c.virtual&&s.push(p)}),{nodes:s,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,s=[],c=0;c<this.nodes.length;c++){var p=this.nodes[c];if(p.isDragging){r=!0;break}s.push(p.getHistoryData())}if(r)return!1;for(var v=!1,b=[],x=0;x<this.edges.length;x++){var S=this.edges[x];if(S.isDragging){v=!0;break}b.push(S.getHistoryData())}return!v&&{nodes:s,edges:b}}},{key:"getEdgeModelById",value:function(r){var s;return(s=this.edgesMap[r])===null||s===void 0?void 0:s.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var s=[],c=0;c<this.edges.length;c++){var p=this.edges[c],v=this.edges[c].sourceNodeId===r,b=this.edges[c].targetNodeId===r;(v||b)&&s.push(p)}return s}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],s=this.selectElements,c={nodes:[],edges:[]};return s.forEach(function(p){if(p.BaseType===Qn.NODE&&c.nodes.push(p.getData()),p.BaseType===Qn.EDGE){var v=p.getData(),b=s.get(v.sourceNodeId)&&s.get(v.targetNodeId);(r||b)&&c.edges.push(v)}}),c}},{key:"updateAttributes",value:function(r,s){this.getElement(r).updateAttributes(s)}},{key:"changeNodeId",value:function(r,s){return s||(s=ko()),this.nodesMap[s]?"":this.nodesMap[r]?(this.edges.forEach(function(c){c.sourceNodeId===r&&(c.sourceNodeId=s),c.targetNodeId===r&&(c.targetNodeId=s)}),this.nodesMap[r].model.id=s,this.nodesMap[s]=this.nodesMap[r],s):""}},{key:"changeEdgeId",value:function(r,s){return s||(s=ko()),this.edgesMap[s]?"":this.edgesMap[r]?(this.edges.forEach(function(c){c.id===r&&c.changeEdgeId(s)}),s):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,s){return this.modelMap.set(r,s)}},{key:"toFront",value:function(r){var s,c,p,v=((s=this.nodesMap[r])===null||s===void 0?void 0:s.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);v&&(this.overlapMode===Fn.DEFAULT&&((p=this.topElement)===null||p===void 0||p.setZIndex(),v.setZIndex(9999),this.topElement=v),this.overlapMode===Fn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,s){var c,p,v,b=((c=this.nodesMap[r])===null||c===void 0?void 0:c.model)||((p=this.edgesMap[r])===null||p===void 0?void 0:p.model);b&&(typeof s=="number"&&(v=s),s==="top"&&(v=_f()),s==="bottom"&&(v=--Pd),b.setZIndex(v))}},{key:"deleteNode",value:function(r){var s=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(pt.NODE_DELETE,{data:s})}},{key:"addNode",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,c=arguments.length>2?arguments[2]:void 0,p=An(r);p.id&&this.nodesMap[r.id]&&delete p.id;var v=this.getModel(p.type);if(!v)throw new Error("找不到".concat(p.type,"对应的节点，请确认是否已注册此类型节点。"));p.x=Qo(p.x,this.gridSize),p.y=Qo(p.y,this.gridSize);var b=new v(p,this);this.nodes.push(b);var x=b.getData(),S={data:x};return c&&(S.e=c),this.eventCenter.emit(s,S),b}},{key:"cloneNode",value:function(r){var s=this.getNodeModelById(r),c=s.getData();c.x+=30,c.y+=30,delete c.id,c.text&&(c.text.x+=30,c.text.y+=30);var p=this.addNode(c);return p.setSelected(!0),s.setSelected(!1),p.getData()}},{key:"moveNode",value:function(r,s,c){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,x=b.getMoveDistance(s,c,p),S=Pi(x,2);s=S[0],c=S[1],this.moveEdge(r,s,c)}}},{key:"moveNode2Coordinate",value:function(r,s,c){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,x=b.x,S=b.y,D=s-x,L=c-S;this.moveNode(r,D,L,p)}}},{key:"editText",value:function(r){this.setElementStateById(r,yn.TEXT_EDIT)}},{key:"addEdge",value:function(r){var s=An(r),c=s.type;c||(c=this.edgeType),s.id&&this.edgesMap[s.id]&&delete s.id;var p=this.getModel(c);if(!p)throw new Error("找不到".concat(c,"对应的边，请确认是否已注册此类型边。"));var v=new p(Ro(Ro({},s),{},{type:c}),this),b=v.getData();return this.edges.push(v),this.eventCenter.emit(pt.EDGE_ADD,{data:b}),v}},{key:"moveEdge",value:function(r,s,c){for(var p=0;p<this.edges.length;p++){var v=this.edges[p],b=v.textPosition,x=b.x,S=b.y,D=this.edges[p].sourceNodeId===r,L=this.edges[p].targetNodeId===r;D&&v.moveStartPoint(s,c),L&&v.moveEndPoint(s,c),(D||L)&&this.handleEdgeTextMove(v,x,S)}}},{key:"handleEdgeTextMove",value:function(r,s,c){var p;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===qt.POLYLINE_EDGE&&(p=r.text)!==null&&p!==void 0&&p.value){var v=r.text,b=Uf(v,r.points);r.moveText(b.x-v.x,b.y-v.y)}else{var x=r.textPosition,S=x.x,D=x.y;r.moveText(S-s,D-c)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,s){for(var c=0;c<this.edges.length;c++)if(this.edges[c].sourceNodeId===r&&this.edges[c].targetNodeId===s){var p=this.edges[c].getData();this.edges.splice(c,1),c--,this.eventCenter.emit(pt.EDGE_DELETE,{data:p})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var s=this.edgesMap[r].index,c=this.edgesMap[r].model.getData();this.edges.splice(s,1),this.eventCenter.emit(pt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeBySource",value:function(r){for(var s=0;s<this.edges.length;s++)if(this.edges[s].sourceNodeId===r){var c=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(pt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeByTarget",value:function(r){for(var s=0;s<this.edges.length;s++)if(this.edges[s].targetNodeId===r){var c=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(pt.EDGE_DELETE,{data:c})}}},{key:"setElementStateById",value:function(r,s,c){this.nodes.forEach(function(p){p.id===r?p.setElementState(s,c):p.setElementState(yn.DEFAULT)}),this.edges.forEach(function(p){p.id===r?p.setElementState(s,c):p.setElementState(yn.DEFAULT)})}},{key:"updateText",value:function(r,s){this.nodes.forEach(function(c){c.id===r&&c.updateText(s)}),this.edges.forEach(function(c){c.id===r&&c.updateText(s)})}},{key:"selectNodeById",value:function(r){var s,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||this.clearSelectElements();var p=(s=this.nodesMap[r])===null||s===void 0?void 0:s.model;p==null||p.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var s,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||this.clearSelectElements();var p=(s=this.edgesMap[r])===null||s===void 0?void 0:s.model;p==null||p.setSelected(!0)}},{key:"selectElementById",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var c=this.getElement(r);c==null||c.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(s){s==null||s.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Fn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,s,c){for(var p=this,v=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=r.reduce(function(Ke,et){var Ot=p.nodesMap[et].model.getMoveDistance(s,c,v);return Ke[et]=Ot,Ke},{}),x=0;x<this.edges.length;x++){var S=this.edges[x],D=S.textPosition,L=D.x,X=D.y,J=b[S.sourceNodeId],oe=void 0,ge=void 0;if(J){var be=Pi(J,2);oe=be[0],ge=be[1],S.moveStartPoint(oe,ge)}var xe=b[S.targetNodeId];if(xe){var Ce=Pi(xe,2);oe=Ce[0],ge=Ce[1],S.moveEndPoint(oe,ge)}(J||xe)&&this.handleEdgeTextMove(S,L,X)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,s){var c=this.getNodeModelById(r);if(c){var p=c.getData();p.type=s;var v=this.getModel(s);if(!v)throw new Error("找不到".concat(s,"对应的节点，请确认是否已注册此类型节点。"));var b=new v(p,this);this.nodes.splice(this.nodesMap[r].index,1,b),this.getNodeEdges(r).forEach(function(x){if(x.sourceNodeId===r){var S=bf(b,x.startPoint,b.width,b.height);x.updateStartPoint(S)}if(x.targetNodeId===r){var D=bf(b,x.endPoint,b.width,b.height);x.updateEndPoint(D)}})}}},{key:"changeEdgeType",value:function(r,s){var c=this.getEdgeModelById(r);if(c&&c.type!==s){var p=c.getData();p.type=s;var v=this.getModel(s);if(!v)throw new Error("找不到".concat(s,"对应的节点，请确认是否已注册此类型节点。"));delete p.pointsList;var b=new v(p,this);this.edges.splice(this.edgesMap[r].index,1,b)}}},{key:"getNodeIncomingEdge",value:function(r){var s=[];return this.edges.forEach(function(c){c.targetNodeId===r&&s.push(c)}),s}},{key:"getNodeOutgoingEdge",value:function(r){var s=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&s.push(c)}),s}},{key:"getNodeIncomingNode",value:function(r){var s=this,c=[];return this.edges.forEach(function(p){p.targetNodeId===r&&c.push(s.nodesMap[p.sourceNodeId].model)}),c}},{key:"getNodeOutgoingNode",value:function(r){var s=this,c=[];return this.edges.forEach(function(p){p.sourceNodeId===r&&c.push(s.nodesMap[p.targetNodeId].model)}),c}},{key:"setTheme",value:function(r){this.theme=dc(Ro(Ro({},this.theme),r))}},{key:"resize",value:function(r,s){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=s||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,s=[],c=[];r.forEach(function(D){var L=D.x,X=D.y,J=D.width,oe=D.height,ge=D.getNodeStyle().strokeWidth,be=ge===void 0?0:ge,xe=L+J/2+be,Ce=L-J/2-be,Ke=X+oe/2+be,et=X-oe/2-be;s=s.concat([xe,Ce].filter(function(Ot){return!Number.isNaN(Ot)})),c=c.concat([Ke,et].filter(function(Ot){return!Number.isNaN(Ot)}))});var p=Math.min.apply(Math,Ai(s)),v=Math.max.apply(Math,Ai(s)),b=Math.min.apply(Math,Ai(c)),x=v-p||0,S=Math.max.apply(Math,Ai(c))-b||0;return{virtualRectWidth:x,virtualRectHeight:S,virtualRectCenterPositionX:p+x/2,virtualRectCenterPositionY:b+S/2}}},{key:"translateCenter",value:function(){var r=this.nodes,s=this.width,c=this.height,p=this.rootEl,v=this.transformModel;if(r.length){var b=s||p.clientWidth,x=c||p.clientHeight,S=this.getVirtualRectSize(),D=S.virtualRectCenterPositionX,L=S.virtualRectCenterPositionY;v.focusOn(D,L,b,x)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,c=this.nodes,p=this.width,v=this.height,b=this.rootEl,x=this.transformModel;if(c.length){var S=p||b.clientWidth,D=v||b.clientHeight,L=this.getVirtualRectSize(),X=L.virtualRectWidth,J=L.virtualRectHeight,oe=L.virtualRectCenterPositionX,ge=L.virtualRectCenterPositionY,be=(X+s)/S,xe=(J+r)/D,Ce=0;Ce=1/Math.max(be,xe);var Ke=[S/2,D/2];x.zoom(Ce,Ke),x.focusOn(oe,ge,S,D)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&Xs(e.prototype,n),t}(),Re=bt(Z.prototype,"width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=bt(Z.prototype,"height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=bt(Z.prototype,"edgeType",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=bt(Z.prototype,"nodes",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),At=bt(Z.prototype,"edges",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Be=bt(Z.prototype,"overlapMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fn.DEFAULT}}),Ue=bt(Z.prototype,"background",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=bt(Z.prototype,"transformModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=bt(Z.prototype,"editConfigModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=bt(Z.prototype,"gridSize",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Lt=bt(Z.prototype,"partial",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tn=bt(Z.prototype,"fakerNode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt(Z.prototype,"nodesMap",[h.m],Object.getOwnPropertyDescriptor(Z.prototype,"nodesMap"),Z.prototype),bt(Z.prototype,"edgesMap",[h.m],Object.getOwnPropertyDescriptor(Z.prototype,"edgesMap"),Z.prototype),bt(Z.prototype,"modelsMap",[h.m],Object.getOwnPropertyDescriptor(Z.prototype,"modelsMap"),Z.prototype),bt(Z.prototype,"sortElements",[h.m],Object.getOwnPropertyDescriptor(Z.prototype,"sortElements"),Z.prototype),bt(Z.prototype,"textEditElement",[h.m],Object.getOwnPropertyDescriptor(Z.prototype,"textEditElement"),Z.prototype),bt(Z.prototype,"selectElements",[h.m],Object.getOwnPropertyDescriptor(Z.prototype,"selectElements"),Z.prototype),bt(Z.prototype,"selectNodes",[h.m],Object.getOwnPropertyDescriptor(Z.prototype,"selectNodes"),Z.prototype),bt(Z.prototype,"setFakerNode",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"setFakerNode"),Z.prototype),bt(Z.prototype,"removeFakerNode",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"removeFakerNode"),Z.prototype),bt(Z.prototype,"setModel",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"setModel"),Z.prototype),bt(Z.prototype,"toFront",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"toFront"),Z.prototype),bt(Z.prototype,"setElementZIndex",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"setElementZIndex"),Z.prototype),bt(Z.prototype,"deleteNode",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteNode"),Z.prototype),bt(Z.prototype,"addNode",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"addNode"),Z.prototype),bt(Z.prototype,"cloneNode",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"cloneNode"),Z.prototype),bt(Z.prototype,"moveNode",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"moveNode"),Z.prototype),bt(Z.prototype,"moveNode2Coordinate",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"moveNode2Coordinate"),Z.prototype),bt(Z.prototype,"editText",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"editText"),Z.prototype),bt(Z.prototype,"addEdge",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"addEdge"),Z.prototype),bt(Z.prototype,"moveEdge",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"moveEdge"),Z.prototype),bt(Z.prototype,"deleteEdgeBySourceAndTarget",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteEdgeBySourceAndTarget"),Z.prototype),bt(Z.prototype,"deleteEdgeById",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteEdgeById"),Z.prototype),bt(Z.prototype,"deleteEdgeBySource",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteEdgeBySource"),Z.prototype),bt(Z.prototype,"deleteEdgeByTarget",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"deleteEdgeByTarget"),Z.prototype),bt(Z.prototype,"setElementStateById",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"setElementStateById"),Z.prototype),bt(Z.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"updateText"),Z.prototype),bt(Z.prototype,"selectNodeById",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"selectNodeById"),Z.prototype),bt(Z.prototype,"selectEdgeById",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"selectEdgeById"),Z.prototype),bt(Z.prototype,"selectElementById",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"selectElementById"),Z.prototype),bt(Z.prototype,"clearSelectElements",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"clearSelectElements"),Z.prototype),bt(Z.prototype,"moveNodes",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"moveNodes"),Z.prototype),bt(Z.prototype,"setDefaultEdgeType",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"setDefaultEdgeType"),Z.prototype),bt(Z.prototype,"changeNodeType",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"changeNodeType"),Z.prototype),bt(Z.prototype,"changeEdgeType",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"changeEdgeType"),Z.prototype),bt(Z.prototype,"getNodeIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"getNodeIncomingEdge"),Z.prototype),bt(Z.prototype,"getNodeOutgoingEdge",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"getNodeOutgoingEdge"),Z.prototype),bt(Z.prototype,"getNodeIncomingNode",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"getNodeIncomingNode"),Z.prototype),bt(Z.prototype,"getNodeOutgoingNode",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"getNodeOutgoingNode"),Z.prototype),bt(Z.prototype,"setTheme",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"setTheme"),Z.prototype),bt(Z.prototype,"resize",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"resize"),Z.prototype),bt(Z.prototype,"clearData",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"clearData"),Z.prototype),bt(Z.prototype,"translateCenter",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"translateCenter"),Z.prototype),bt(Z.prototype,"fitView",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"fitView"),Z.prototype),bt(Z.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"openEdgeAnimation"),Z.prototype),bt(Z.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(Z.prototype,"closeEdgeAnimation"),Z.prototype),Z),Ys=kc;function Jy(t){return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function Qy(){return Qy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qy.apply(this,arguments)}function bE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ev(t,e){return ev=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ev(t,e)}function mE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Kd(t);if(e){var s=Kd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return _E(this,n)}}function _E(t,e){if(e&&(Jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qi(t)}function Qi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kd(t)}function Aa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Um,OE=Ni(Tc=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&ev(c,p)})(s,t);var e,n,r=mE(s);function s(c){var p;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,s),Aa(Qi(p=r.call(this)),"stepDrag",void 0),Aa(Qi(p),"stepScrollX",0),Aa(Qi(p),"stepScrollY",0),Aa(Qi(p),"onDragging",function(S){var D=S.deltaX,L=S.deltaY;p.setState({isDragging:!0});var X=p.props.graphModel,J=X.transformModel;X.editConfigModel.stopMoveGraph!==!0&&J.translate(D,L)}),Aa(Qi(p),"onDragEnd",function(){p.setState({isDragging:!1})}),Aa(Qi(p),"zoomHandler",function(S){var D=p.props,L=D.graphModel,X=L.editConfigModel,J=L.transformModel,oe=L.gridSize,ge=D.graphModel,be=S.deltaX,xe=S.deltaY;if(X.stopScrollGraph||S.ctrlKey===!0){if(!X.stopZoomGraph){S.preventDefault();var Ce=ge.getPointByClient({x:S.clientX,y:S.clientY}).canvasOverlayPosition,Ke=Ce.x,et=Ce.y;J.zoom(S.deltaY<0,[Ke,et])}}else{if(S.preventDefault(),p.stepScrollX+=be,p.stepScrollY+=xe,Math.abs(p.stepScrollX)>=oe){var Ot=p.stepScrollX%oe,Ze=p.stepScrollX-Ot;J.translate(-Ze*J.SCALE_X,0),p.stepScrollX=Ot}if(Math.abs(p.stepScrollY)>=oe){var dt=p.stepScrollY%oe,tt=p.stepScrollY-dt;J.translate(0,-tt*J.SCALE_Y),p.stepScrollY=dt}}}),Aa(Qi(p),"clickHandler",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){var D=p.props.graphModel;D.selectElements.size>0&&D.clearSelectElements(),D.eventCenter.emit(pt.BLANK_CLICK,{e:S})}}),Aa(Qi(p),"handleContextMenu",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){S.preventDefault();var D=p.props.graphModel,L=D.getPointByClient({x:S.clientX,y:S.clientY});D.eventCenter.emit(pt.BLANK_CONTEXTMENU,{e:S,position:L})}}),Aa(Qi(p),"mouseDownHandler",function(S){var D=p.props.graphModel,L=D.eventCenter,X=D.editConfigModel,J=D.transformModel.SCALE_X,oe=D.gridSize,ge=S.target,be=!X.adjustEdge&&!X.adjustNodePosition;(ge.getAttribute("name")==="canvas-overlay"||be)&&(X.stopMoveGraph!==!0?(p.stepDrag.setStep(oe*J),p.stepDrag.handleMouseDown(S)):L.emit(pt.BLANK_MOUSEDOWN,{e:S}),p.clickHandler(S))});var v=c.graphModel,b=v.gridSize,x=v.eventCenter;return p.stepDrag=new Do({onDragging:p.onDragging,onDragEnd:p.onDragEnd,step:b,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),p.state={isDragging:!1},p}return e=s,(n=[{key:"render",value:function(){var c=this.props.graphModel.transformModel.getTransformStyle().transform,p=this.props,v=p.children,b=p.dnd,x=this.state.isDragging;return Object(pe.g)("svg",Qy({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},b.eventMap()),Object(pe.g)("g",{transform:c},v))}}])&&bE(e.prototype,n),s}(pe.a))||Tc;function tv(t){return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function wE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nv(t,e){return nv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},nv(t,e)}function EE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qd(t);if(e){var s=qd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return SE(this,n)}}function SE(t,e){if(e&&(tv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qd(t)}var jE=Ni(Um=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&nv(c,p)})(s,t);var e,n,r=EE(s);function s(){return wE(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var c=this.props,p=c.tool,v=c.graphModel,b=p.getTools().map(function(x){return Object(pe.g)(x,{graphModel:v,logicFlow:p.instance})});return p.components=b,b}},{key:"triggerToolRender",value:function(){var c=this.props,p=c.tool,v=c.graphModel,b=document.querySelector("#ToolOverlay_".concat(v.flowId)),x=p.getInstance();x.components.forEach(function(S){return S(x,b)}),x.components=[]}},{key:"render",value:function(){var c=this.props.graphModel;return Object(pe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(c.flowId)},this.getTools())}}])&&xE(e.prototype,n),s}(pe.a))||Um;function rv(t){return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(t)}function PE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ov(t,e){return ov=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ov(t,e)}function ME(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Zd(t);if(e){var s=Zd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return TE(this,n)}}function TE(t,e){if(e&&(rv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zd(t)}var Hm,kE=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&ov(c,p)})(s,t);var e,n,r=ME(s);function s(){return PE(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"render",value:function(){var c=this.props.background;return Object(pe.g)("div",{className:"lf-background"},Object(pe.g)("div",{style:c,className:"lf-background-area"}))}}])&&AE(e.prototype,n),s}(pe.a);function iv(t){return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(t)}function DE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function av(t,e){return av=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},av(t,e)}function RE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Jd(t);if(e){var s=Jd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return CE(this,n)}}function CE(t,e){if(e&&(iv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xm(t)}function Xm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jd(t)}function IE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ym=Ni(Hm=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&av(c,p)})(s,t);var e,n,r=RE(s);function s(){var c;DE(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return IE(Xm(c=r.call.apply(r,[this].concat(v))),"id",ko()),c}return e=s,(n=[{key:"renderDot",value:function(){var c=this.props,p=c.config,v=p.color,b=p.thickness,x=b===void 0?2:b,S=c.size,D=c.visible,L=Math.min(Math.max(2,x),S/2),X=1;return D||(X=0),Object(pe.g)("rect",{width:L,height:L,rx:L/2,ry:L/2,fill:v,opacity:X})}},{key:"renderMesh",value:function(){var c=this.props,p=c.config,v=p.color,b=p.thickness,x=b===void 0?1:b,S=c.size,D=c.visible,L=Math.min(Math.max(1,x),S/2),X="M ".concat(S," 0 H0 M0 0 V0 ").concat(S),J=1;return D||(J=0),Object(pe.g)("path",{d:X,stroke:v,strokeWidth:L,opacity:J})}},{key:"render",value:function(){var c=this.props,p=c.type,v=c.size,b=c.graphModel.transformModel,x=[b.SCALE_X,b.SKEW_Y,b.SKEW_X,b.SCALE_Y,b.TRANSLATE_X,b.TRANSLATE_Y].join(","),S="matrix(".concat(x,")");return Object(pe.g)("div",{className:"lf-grid"},Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(pe.g)("defs",null,Object(pe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:S,x:"0",y:"0",width:v,height:v},p==="dot"&&this.renderDot(),p==="mesh"&&this.renderMesh())),Object(pe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&NE(e.prototype,n),s}(pe.a))||Hm;Ym.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function uv(t){return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function LE(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Vm(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Vm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Km,Vs=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=LE(n,2),s=r[0],c=r[1];(s==="style"||uv(c)!=="object")&&(e[s]=c)}),Object(pe.g)("line",e)};function cv(t){return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}function qm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qm(Object(n),!0).forEach(function(r){BE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sv(t,e){return sv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sv(t,e)}function $E(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=eh(t);if(e){var s=eh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return WE(this,n)}}function WE(t,e){if(e&&(cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function eh(t){return eh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eh(t)}var Zm,GE=Ni(Km=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&sv(c,p)})(s,t);var e,n,r=$E(s);function s(){return zE(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"render",value:function(){var c=this.props.snaplineModel,p=c.position,v=c.isShowHorizontal,b=c.isShowVertical,x=c.getStyle(),S=p.x,D=S===void 0?0:S,L=p.y,X=L===void 0?0:L,J=Qd(Qd({x1:-1e5,y1:X,x2:1e5,y2:X},x),{},{stroke:v?x.stroke:"none"}),oe=Qd(Qd({x1:D,y1:-1e5,x2:D,y2:1e5},x),{},{stroke:b?x.stroke:"none"});return Object(pe.g)("g",{className:"lf-snapline"},Object(pe.g)(Vs,J),Object(pe.g)(Vs,oe))}}])&&FE(e.prototype,n),s}(pe.a))||Km;function lv(t){return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}function UE(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Jm(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Jm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eu(t){var e=t.x,n=t.y,r=t.width,s=t.height,c=t.className,p=t.radius,v=e-r/2,b=n-s/2,x={};return Object.entries(t).forEach(function(S){var D=UE(S,2),L=D[0],X=D[1];lv(X)!=="object"&&(x[L]=X)}),x.className=c?"lf-basic-shape ".concat(c):"lf-basic-shape",p&&(x.rx=p,x.ry=p),x.x=v,x.y=b,Object(pe.g)("rect",x)}function fv(t){return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function Ks(){return Ks=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ks.apply(this,arguments)}function Qm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function e0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qm(Object(n),!0).forEach(function(r){HE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pv(t,e){return pv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pv(t,e)}function VE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=th(t);if(e){var s=th(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return KE(this,n)}}function KE(t,e){if(e&&(fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},th(t)}Eu.defaultProps={className:"",radius:""};var t0,qE=Ni(Zm=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&pv(c,p)})(s,t);var e,n,r=VE(s);function s(){return XE(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getNodesOutline",value:function(){var c=this.props.graphModel,p=c.nodes,v=c.editConfigModel,b=v.hoverOutline,x=v.nodeSelectedOutline,S=[];return p.forEach(function(D){if(D.isHovered||D.isSelected){var L=D.isHovered,X=D.isSelected,J=D.x,oe=D.y,ge=D.width,be=D.height;if(x&&X||b&&L){var xe=D.getOutlineStyle(),Ce={};if(Object.keys(xe).forEach(function(et){et!=="hover"&&(Ce[et]=xe[et])}),L){var Ke=xe.hover;Ce=e0(e0({},Ce),Ke)}S.push(Object(pe.g)(Eu,Ks({transform:D.transform,className:"lf-outline-node",x:J,y:oe,width:ge+10,height:be+10},Ce)))}}}),S}},{key:"getEdgeOutline",value:function(){for(var c=this.props.graphModel,p=c.edges,v=c.editConfigModel,b=v.edgeSelectedOutline,x=v.hoverOutline,S=[],D=0;D<p.length;D++){var L=p[D];(b&&L.isSelected||x&&L.isHovered)&&(L.modelType===qt.LINE_EDGE?S.push(this.getLineOutline(L)):L.modelType===qt.POLYLINE_EDGE?S.push(this.getPolylineOutline(L)):L.modelType===qt.BEZIER_EDGE&&S.push(this.getBezierOutline(L)))}return S}},{key:"getLineOutline",value:function(c){var p=c.startPoint,v=c.endPoint,b=(p.x+v.x)/2,x=(p.y+v.y)/2,S=Math.abs(p.x-v.x)+10,D=Math.abs(p.y-v.y)+10,L=c.getOutlineStyle();return Object(pe.g)(Eu,Ks({className:"lf-outline-edge",x:b,y:x,width:S,height:D},L))}},{key:"getPolylineOutline",value:function(c){var p=c.points,v=Zi(p),b=_u(v,8),x=b.x,S=b.y,D=b.width,L=b.height,X=c.getOutlineStyle();return Object(pe.g)(Eu,Ks({className:"lf-outline",x,y:S,width:D,height:L},X))}},{key:"getBezierOutline",value:function(c){var p=c.path,v=zs(p),b=_u(v,8),x=b.x,S=b.y,D=b.width,L=b.height,X=c.getOutlineStyle();return Object(pe.g)(Eu,Ks({className:"lf-outline",x,y:S,width:D,height:L},X))}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&YE(e.prototype,n),s}(pe.a))||Zm;function dv(t){return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function ZE(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return n0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return n0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function n0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qs(t){var e=t.x,n=e===void 0?0:e,r=t.y,s=r===void 0?0:r,c=t.r,p=c===void 0?4:c,v=t.className,b={cx:n,cy:s,r:p,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(x){var S=ZE(x,2),D=S[0],L=S[1];dv(L)!=="object"&&(b[D]=L)}),b.className=v?"lf-basic-shape ".concat(v):"lf-basic-shape",Object(pe.g)("circle",b)}function hv(t){return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function JE(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return r0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return r0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function r0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rp(){return rp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rp.apply(this,arguments)}function o0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a0(t,e,n){return e&&i0(t.prototype,e),n&&i0(t,n),t}function u0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yv(t,e)}function yv(t,e){return yv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yv(t,e)}function c0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rh(t);if(e){var s=rh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return QE(this,n)}}function QE(t,e){if(e&&(hv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nh(t)}function nh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rh(t){return rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rh(t)}function vv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s0,l0=function(t){u0(n,t);var e=c0(n);function n(){var r;return o0(this,n),vv(nh(r=e.call(this)),"dragHandler",void 0),vv(nh(r),"onDragging",function(s){var c=s.event,p=r.props,v=p.graphModel,b=p.bezierModel,x=p.type,S=v.getPointByClient({x:c.clientX,y:c.clientY}).canvasOverlayPosition,D=S.x,L=S.y;b.updateAdjustAnchor({x:D,y:L},x),v.eventCenter.emit(pt.EDGE_ADJUST,{data:b.getData()})}),vv(nh(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Do({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return a0(n,[{key:"render",value:function(){var r=this,s=this.props.position,c=s.x,p=s.y,v=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(pe.g)(qs,rp({className:"lf-bezier-adjust-anchor",x:c,y:p},v,{onMouseDown:function(b){r.dragHandler.handleMouseDown(b)}}))}}]),n}(pe.a),eS=Ni(t0=function(t){u0(n,t);var e=c0(n);function n(){return o0(this,n),e.apply(this,arguments)}return a0(n,[{key:"getBezierAdjust",value:function(r,s){var c=r.path,p=r.id,v=JE(zs(c),4),b=v[0],x=v[1],S=v[2],D=v[3],L=r.getEdgeStyle().adjustLine,X=[];return X.push(Object(pe.g)(Vs,rp({x1:b.x,y1:b.y,x2:x.x,y2:x.y},L))),X.push(Object(pe.g)(l0,{position:x,bezierModel:r,graphModel:s,key:"".concat(p,"_ePre"),type:"sNext"})),X.push(Object(pe.g)(Vs,rp({x1:D.x,y1:D.y,x2:S.x,y2:S.y},L))),X.push(Object(pe.g)(l0,{position:S,bezierModel:r,graphModel:s,key:"".concat(p,"_sNext"),type:"ePre"})),X}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,s=r.edges,c=[],p=0;p<s.length;p++){var v=s[p];v.isSelected&&v.modelType===qt.BEZIER_EDGE&&v.draggable&&c.push(this.getBezierAdjust(v,r))}return c}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(pe.a))||t0;function gv(t){return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function tS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bv(t,e){return bv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bv(t,e)}function rS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=oh(t);if(e){var s=oh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return oS(this,n)}}function oS(t,e){if(e&&(gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function oh(t){return oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oh(t)}var f0,iS=Ni(s0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&bv(c,p)})(s,t);var e,n,r=rS(s);function s(){return tS(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"render",value:function(){var c=this.props.graphModel.transformModel.getTransformStyle().transform,p=this.props.children;return Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(pe.g)("g",{transform:c},p))}}])&&nS(e.prototype,n),s}(pe.a))||s0;function mv(t){return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function _v(){return _v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(this,arguments)}function aS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ov(t,e){return Ov=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ov(t,e)}function cS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ih(t);if(e){var s=ih(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return sS(this,n)}}function sS(t,e){if(e&&(mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ih(t)}var lS=Ni(f0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ov(c,p)})(s,t);var e,n,r=cS(s);function s(){return aS(this,s),r.apply(this,arguments)}return e=s,n=[{key:"getComponent",value:function(c,p){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",b=this.props.getView,x=b(c.type);return Object(pe.g)(x,{key:c.id,model:c,graphModel:p,overlay:v})}},{key:"render",value:function(){var c=this,p=this.props,v=p.graphModel,b=p.tool,x=p.options,S=p.dnd,D=p.snaplineModel,L={};x.width&&(L.width="".concat(v.width,"px")),x.height&&(L.height="".concat(v.height,"px"));var X=x.grid,J=v.fakerNode,oe=v.editConfigModel.adjustEdge;return Object(pe.g)("div",{className:"lf-graph","flow-id":v.flowId,style:L},Object(pe.g)(OE,{graphModel:v,dnd:S},Object(pe.g)("g",{className:"lf-base"},is(v.sortElements,function(ge){return c.getComponent(ge,v)})),J?this.getComponent(J,v):""),Object(pe.g)(iS,{graphModel:v},Object(pe.g)(qE,{graphModel:v}),oe?Object(pe.g)(eS,{graphModel:v}):"",x.snapline!==!1?Object(pe.g)(GE,{snaplineModel:D}):""),Object(pe.g)(jE,{graphModel:v,tool:b}),x.background&&Object(pe.g)(kE,{background:x.background}),x.grid&&Object(pe.g)(Ym,_v({},X,{graphModel:v})))}}],n&&uS(e.prototype,n),s}(pe.a))||f0,fS=lS;function p0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p0(Object(n),!0).forEach(function(r){Ma(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ma(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dS=function(){function t(r){var s=this;(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),Ma(this,"nodeConfig",void 0),Ma(this,"lf",void 0),Ma(this,"fakerNode",void 0),Ma(this,"stopDrag",function(){s.nodeConfig=null,window.document.removeEventListener("mouseup",s.stopDrag)}),Ma(this,"dragEnter",function(p){s.nodeConfig&&!s.fakerNode&&(s.fakerNode=s.lf.createFakerNode(ah(ah({},s.nodeConfig),s.clientToLocalPoint({x:p.clientX,y:p.clientY}))))}),Ma(this,"onDragOver",function(p){if(p.preventDefault(),s.fakerNode){var v=s.clientToLocalPoint({x:p.clientX,y:p.clientY}),b=v.x,x=v.y;s.fakerNode.moveTo(b,x);var S=s.fakerNode.getData();s.lf.setNodeSnapLine(S),s.lf.graphModel.eventCenter.emit(pt.NODE_DND_DRAG,{data:S})}return!1}),Ma(this,"onDragLeave",function(){s.fakerNode&&(s.lf.removeNodeSnapLine(),s.lf.graphModel.removeFakerNode(),s.fakerNode=null)}),Ma(this,"onDrop",function(p){s.lf.graphModel&&p&&s.nodeConfig&&(s.lf.addNode(ah(ah({},s.nodeConfig),s.clientToLocalPoint({x:p.clientX,y:p.clientY})),pt.NODE_DND_ADD,p),p.preventDefault(),p.stopPropagation(),s.nodeConfig=null,s.lf.removeNodeSnapLine(),s.lf.graphModel.removeFakerNode(),s.fakerNode=null)});var c=r.lf;this.lf=c}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var s=r.x,c=r.y,p=ac(this.lf.options,["grid","size"]),v=this.lf.graphModel.getPointByClient({x:s,y:c}).canvasOverlayPosition,b=v.x,x=v.y;return{x:Qo(b,p),y:Qo(x,p)}}},{key:"startDrag",value:function(r){this.lf.options.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&pS(e.prototype,n),t}();function d0(t){var e=t.container,n=t.grid,r=t.width,s=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof s=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=hr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),hr({},y0,t)}var bn,h0,y0={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function wv(t){return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function xv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return v0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return v0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g0(Object(n),!0).forEach(function(r){b0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function op(){return op=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=gS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},op.apply(this,arguments)}function gS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Su(t))!==null;);return t}function Ev(t,e){return Ev=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ev(t,e)}function bS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Su(t);if(e){var s=Su(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return mS(this,n)}}function mS(t,e){if(e&&(wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ch(t)}function ch(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Su(t){return Su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Su(t)}function b0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ti(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Sv=(bn=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ev(c,p)})(s,t);var e,n,r=bS(s);function s(){var c;yS(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return b0(ch(c=r.call.apply(r,[this].concat(v))),"modelType",qt.BEZIER_EDGE),hS(ch(c),"path",h0,ch(c)),c}return e=s,(n=[{key:"initEdgeData",value:function(c){this.offset=100,op(Su(s.prototype),"initEdgeData",this).call(this,c)}},{key:"getEdgeStyle",value:function(){var c=this.graphModel.theme.bezier;return uh(uh({},op(Su(s.prototype),"getEdgeStyle",this).call(this)),Cn(c))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var c=0,p=0;return this.pointsList.forEach(function(v){var b=v.x,x=v.y;c+=b,p+=x}),{x:c/this.pointsList.length,y:p/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var c=op(Su(s.prototype),"getData",this).call(this),p=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return uh(uh({},c),{},{pointsList:p})}},{key:"getControls",value:function(){var c=this.startPoint,p=this.endPoint;return Ji({start:c,end:p,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(c){var p=xv(c,4),v=p[0],b=p[1],x=p[2],S=p[3];return"M ".concat(v.x," ").concat(v.y,`
    C `).concat(b.x," ").concat(b.y,`,
    `).concat(x.x," ").concat(x.y,`,
    `).concat(S.x," ").concat(S.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var c=this.getControls(),p=c.sNext,v=c.ePre;this.updatePath(p,v)}},{key:"updatePath",value:function(c,p){c=Cn(c),p=Cn(p);var v={x:this.startPoint.x,y:this.startPoint.y},b={x:this.endPoint.x,y:this.endPoint.y};if(!c||!p){var x=this.getControls();c=x.sNext,p=x.ePre}this.pointsList=[v,c,p,b],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(c){this.startPoint=c,this.updatePoints()}},{key:"updateEndPoint",value:function(c){this.endPoint=c,this.updatePoints()}},{key:"moveStartPoint",value:function(c,p){this.startPoint.x+=c,this.startPoint.y+=p;var v=xv(this.pointsList,3),b=v[1],x=v[2];b.x+=c,b.y+=p,this.updatePath(b,x)}},{key:"moveEndPoint",value:function(c,p){this.endPoint.x+=c,this.endPoint.y+=p;var v=xv(this.pointsList,3),b=v[1],x=v[2];x.x+=c,x.y+=p,this.updatePath(b,x)}},{key:"updateAdjustAnchor",value:function(c,p){p==="sNext"?this.pointsList[1]=c:p==="ePre"&&(this.pointsList[2]=c),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var c=this.pointsList;return c[c.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(c){var p=c.startPoint,v=c.endPoint,b=c.sourceNode,x=c.targetNode,S=Ji({start:p,end:v,sourceNode:b,targetNode:x,offset:this.offset}),D=S.sNext,L=S.ePre;this.pointsList=[p,D,L,v],this.initPoints()}}])&&vS(e.prototype,n),s}(wf),h0=Ti(bn.prototype,"path",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ti(bn.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"initPoints"),bn.prototype),Ti(bn.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"updatePoints"),bn.prototype),Ti(bn.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"updateStartPoint"),bn.prototype),Ti(bn.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"updateEndPoint"),bn.prototype),Ti(bn.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"moveStartPoint"),bn.prototype),Ti(bn.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"moveEndPoint"),bn.prototype),Ti(bn.prototype,"updateAdjustAnchor",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"updateAdjustAnchor"),bn.prototype),Ti(bn.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"getAdjustStart"),bn.prototype),Ti(bn.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"getAdjustEnd"),bn.prototype),Ti(bn.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"updateAfterAdjustStartAndEnd"),bn.prototype),bn),He,m0,_0,O0,w0,x0,E0,S0,j0,P0,A0,M0,T0,k0,D0,N0,R0,C0,I0,L0,B0,z0,F0,_S=function(t){return t==null};function OS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||$0(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jv(t){return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function $0(t,e){if(t){if(typeof t=="string")return W0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W0(t,e):void 0}}function W0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G0(Object(n),!0).forEach(function(r){_o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yt(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Ta,U0,ka=(He=function(){function t(r,s){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),_o(this,"id",""),cr(this,"type",m0,this),cr(this,"x",_0,this),cr(this,"y",O0,this),cr(this,"text",w0,this),cr(this,"properties",x0,this),cr(this,"_width",E0,this),cr(this,"_height",S0,this),cr(this,"anchorsOffset",j0,this),cr(this,"isSelected",P0,this),cr(this,"isHovered",A0,this),cr(this,"isShowAnchor",M0,this),cr(this,"isDragging",T0,this),cr(this,"isHitable",k0,this),cr(this,"draggable",D0,this),cr(this,"visible",N0,this),cr(this,"enableRotate",R0,this),_o(this,"virtual",!1),_o(this,"graphModel",void 0),cr(this,"zIndex",C0,this),cr(this,"state",I0,this),cr(this,"autoToFront",L0,this),cr(this,"style",B0,this),cr(this,"transform",z0,this),cr(this,"_rotate",F0,this),_o(this,"BaseType",Qn.NODE),_o(this,"modelType",qt.NODE),_o(this,"additionStateData",void 0),_o(this,"targetRules",[]),_o(this,"sourceRules",[]),_o(this,"moveRules",[]),_o(this,"hasSetTargetRules",!1),_o(this,"hasSetSourceRules",!1),this.graphModel=s,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var s=this.x,c=s===void 0?0:s,p=this.y,v=p===void 0?0:p;this.transform=new xr(-c,-v).rotate(r).translate(c,v).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var s=this.graphModel.idGenerator,c=s&&s(r.type),p=this.createId();r.id=p||c||ko()}this.formatText(r),hr(this,function(v){return bi(v,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===Fn.INCREASE&&(this.zIndex=r.zIndex||_f())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,s=r.x,c=r.y,p=r.value,v=this.properties;Object(h.x)(v)&&(v=Object(h.I)(v));var b={id:this.id,type:this.type,x:this.x,y:this.y,properties:v};return this.rotate&&(b.rotate=this.rotate),this.graphModel.overlapMode===Fn.INCREASE&&(b.zIndex=this.zIndex),p&&(b.text={x:s,y:c,value:p}),b}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return uo(uo({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Cn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return Cn(r)}},{key:"getAnchorStyle",value:function(r){var s=this.graphModel.theme.anchor;return Cn(s)}},{key:"getAnchorLineStyle",value:function(r){var s=this.graphModel.theme.anchorLine;return Cn(s)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Cn(r)}},{key:"isAllowConnectedAsSource",value:function(r,s,c,p){var v=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var b,x=!0,S=0;S<v.length;S++){var D=v[S];if(!D.validate.call(this,this,r,s,c,p)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,s,c,p){var v=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var b,x=!0,S=0;S<v.length;S++){var D=v[S];if(!D.validate.call(this,r,this,s,c,p)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"isAllowMoveNode",value:function(r,s){var c,p=!0,v=!0,b=function(D,L){var X=typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"];if(!X){if(Array.isArray(D)||(X=$0(D))||L&&D&&typeof D.length=="number"){X&&(D=X);var J=0,oe=function(){};return{s:oe,n:function(){return J>=D.length?{done:!0}:{done:!1,value:D[J++]}},e:function(Ce){throw Ce},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ge,be=!0,xe=!1;return{s:function(){X=X.call(D)},n:function(){var Ce=X.next();return be=Ce.done,Ce},e:function(Ce){xe=!0,ge=Ce},f:function(){try{be||X.return==null||X.return()}finally{if(xe)throw ge}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(b.s();!(c=b.n()).done;){var x=(0,c.value)(this,r,s);if(!x)return!1;if(jv(x)==="object"){var S=x;if(S.x===!1&&S.y===!1)return!1;p=p&&S.x,v=v&&S.y}}}catch(D){b.e(D)}finally{b.f()}return{x:p,y:v}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,s=this.id,c=this.x,p=this.y;return r&&r.length>0?r.map(function(v,b){return v.length?(v=v,{id:"".concat(s,"_").concat(b),x:c+v[0],y:p+v[1]}):uo(uo({},v=v),{},{x:c+v.x,y:p+v.y,id:v.id||"".concat(s,"_").concat(b)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(s,c){for(var p,v=Ds(c),b=Number.MAX_SAFE_INTEGER,x=0;x<v.length;x++){var S=or(s.x,s.y,v[x].x,v[x].y);S<b&&(b=S,p={index:x,anchor:Ki(Ki({},v[x]),{},{x:v[x].x,y:v[x].y,id:v[x].id})})}return p}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),s=this.x,c=this.y,p=this.rotate;return r.forEach(function(v){var b=v.x,x=v.y,S=OS(new gt([b,x,1]).translate(-s,-c).rotate(p).translate(s,c)[0],2),D=S[0],L=S[1];v.x=D,v.y=L}),r}},{key:"getAnchorInfo",value:function(r){if(!_S(r))for(var s=0;s<this.anchors.length;s++){var c=this.anchors[s];if(c.id===r)return c}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,s){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=!1,v=!1;if(c)p=!0,v=!0;else{var b=this.isAllowMoveNode(r,s);typeof b=="boolean"?(p=b,v=b):(p=b.x,v=b.y)}if(p){var x=this.x+r;this.x=x,this.text&&this.moveText(r,0)}if(v){var S=this.y+s;this.y=S,this.text&&this.moveText(0,s)}return p||v}},{key:"getMoveDistance",value:function(r,s){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=!1,v=!1,b=0,x=0;if(c)p=!0,v=!0;else{var S=this.isAllowMoveNode(r,s);typeof S=="boolean"?(p=S,v=S):(p=S.x,v=S.y)}if(p&&r){var D=this.x+r;this.x=D,this.text&&this.moveText(r,0),b=r}if(v&&s){var L=this.y+s;this.y=L,this.text&&this.moveText(0,s),x=s}return[b,x]}},{key:"moveTo",value:function(r,s){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=r-this.x,v=s-this.y;return!(!c&&!this.isAllowMoveNode(p,v)||(this.text&&this.text&&this.moveText(p,v),this.x=r,this.y=s,0))}},{key:"moveText",value:function(r,s){var c=this.text,p=c.x,v=c.y,b=c.value,x=c.draggable,S=c.editable;this.text={value:b,editable:S,draggable:x,x:p+r,y:v+s}}},{key:"updateText",value:function(r){this.text=uo(uo({},Object(h.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,s){this.state=r,this.additionStateData=s}},{key:"setProperty",value:function(r,s){this.properties=uo(uo({},Object(h.I)(this.properties)),{},_o({},r,An(s))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=uo(uo({},Object(h.I)(this.properties)),An(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,s){this.style=uo(uo({},this.style),{},_o({},r,An(s)))}},{key:"setStyles",value:function(r){this.style=uo(uo({},this.style),An(r))}},{key:"updateStyles",value:function(r){this.style=uo({},An(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){hr(this,r)}}],n&&wS(e.prototype,n),t}(),m0=Yt(He.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_0=Yt(He.prototype,"x",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O0=Yt(He.prototype,"y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w0=Yt(He.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),x0=Yt(He.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),E0=Yt(He.prototype,"_width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),S0=Yt(He.prototype,"_height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),j0=Yt(He.prototype,"anchorsOffset",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P0=Yt(He.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A0=Yt(He.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M0=Yt(He.prototype,"isShowAnchor",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T0=Yt(He.prototype,"isDragging",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k0=Yt(He.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D0=Yt(He.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N0=Yt(He.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R0=Yt(He.prototype,"enableRotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C0=Yt(He.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I0=Yt(He.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L0=Yt(He.prototype,"autoToFront",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B0=Yt(He.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),z0=Yt(He.prototype,"transform",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F0=Yt(He.prototype,"_rotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yt(He.prototype,"incoming",[h.m],Object.getOwnPropertyDescriptor(He.prototype,"incoming"),He.prototype),Yt(He.prototype,"outgoing",[h.m],Object.getOwnPropertyDescriptor(He.prototype,"outgoing"),He.prototype),Yt(He.prototype,"addNodeMoveRules",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"addNodeMoveRules"),He.prototype),Yt(He.prototype,"move",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"move"),He.prototype),Yt(He.prototype,"getMoveDistance",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"getMoveDistance"),He.prototype),Yt(He.prototype,"moveTo",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"moveTo"),He.prototype),Yt(He.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"moveText"),He.prototype),Yt(He.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"updateText"),He.prototype),Yt(He.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setSelected"),He.prototype),Yt(He.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setHovered"),He.prototype),Yt(He.prototype,"setIsShowAnchor",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setIsShowAnchor"),He.prototype),Yt(He.prototype,"setEnableRotate",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setEnableRotate"),He.prototype),Yt(He.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setHitable"),He.prototype),Yt(He.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setElementState"),He.prototype),Yt(He.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setProperty"),He.prototype),Yt(He.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setProperties"),He.prototype),Yt(He.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"deleteProperty"),He.prototype),Yt(He.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setStyle"),He.prototype),Yt(He.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setStyles"),He.prototype),Yt(He.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"updateStyles"),He.prototype),Yt(He.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setZIndex"),He.prototype),Yt(He.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"updateAttributes"),He.prototype),He);function Pv(t){return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function H0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function X0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H0(Object(n),!0).forEach(function(r){Y0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ES(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Av(){return Av=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=jS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Av.apply(this,arguments)}function jS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Zs(t))!==null;);return t}function Mv(t,e){return Mv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mv(t,e)}function PS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Zs(t);if(e){var s=Zs(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return AS(this,n)}}function AS(t,e){if(e&&(Pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sh(t)}function sh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zs(t){return Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zs(t)}function Y0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tv(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var qr,V0,K0,kv=(Ta=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Mv(c,p)})(s,t);var e,n,r=PS(s);function s(){var c;ES(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return Y0(sh(c=r.call.apply(r,[this].concat(v))),"modelType",qt.CIRCLE_NODE),xS(sh(c),"r",U0,sh(c)),c}return e=s,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var c=Av(Zs(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.circle;return X0(X0({},c),Cn(p))}},{key:"getDefaultAnchor",value:function(){var c=this.x,p=this.y,v=this.r;return[{x:c,y:p-v,id:"".concat(this.id,"_0")},{x:c+v,y:p,id:"".concat(this.id,"_1")},{x:c,y:p+v,id:"".concat(this.id,"_2")},{x:c-v,y:p,id:"".concat(this.id,"_3")}]}}])&&SS(e.prototype,n),s}(ka),U0=Tv(Ta.prototype,"r",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Tv(Ta.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Ta.prototype,"width"),Ta.prototype),Tv(Ta.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Ta.prototype,"height"),Ta.prototype),Ta);o(129);function Dv(t){return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function Nv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return q0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return q0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function J0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z0(Object(n),!0).forEach(function(r){e_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q0(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function MS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rv(){return Rv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=kS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Rv.apply(this,arguments)}function kS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Qs(t))!==null;);return t}function Cv(t,e){return Cv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cv(t,e)}function DS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qs(t);if(e){var s=Qs(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return NS(this,n)}}function NS(t,e){if(e&&(Dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Js(t)}function Js(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qs(t){return Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qs(t)}function e_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function el(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var ea,t_,n_,Iv=(qr=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Cv(c,p)})(s,t);var e,n,r=DS(s);function s(){var c;MS(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return e_(Js(c=r.call.apply(r,[this].concat(v))),"modelType",qt.DIAMOND_NODE),Q0(Js(c),"rx",V0,Js(c)),Q0(Js(c),"ry",K0,Js(c)),c}return e=s,(n=[{key:"getNodeStyle",value:function(){var c=Rv(Qs(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.diamond;return J0(J0({},c),Cn(p))}},{key:"points",get:function(){var c=this.x,p=this.y,v=this.rx,b=this.ry;return[[c,p-b],[c+v,p],[c,p+b],[c-v,p]]}},{key:"pointsPosition",get:function(){return this.points.map(function(c){return{x:c[0],y:c[1]}})}},{key:"width",get:function(){var c=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=Nv(v,1)[0];b<c&&(c=b),b>p&&(p=b)}),p-c}},{key:"height",get:function(){var c=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=Nv(v,2)[1];b<c&&(c=b),b>p&&(p=b)}),p-c}},{key:"getDefaultAnchor",value:function(){var c=this;return this.points.map(function(p,v){var b=Nv(p,2);return{x:b[0],y:b[1],id:"".concat(c.id,"_").concat(v)}})}}])&&TS(e.prototype,n),s}(ka),V0=el(qr.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),K0=el(qr.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),el(qr.prototype,"points",[h.m],Object.getOwnPropertyDescriptor(qr.prototype,"points"),qr.prototype),el(qr.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(qr.prototype,"pointsPosition"),qr.prototype),el(qr.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(qr.prototype,"width"),qr.prototype),el(qr.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(qr.prototype,"height"),qr.prototype),qr);function Lv(t){return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function r_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function o_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(n),!0).forEach(function(r){a_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i_(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function RS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bv(){return Bv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=IS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Bv.apply(this,arguments)}function IS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=nl(t))!==null;);return t}function zv(t,e){return zv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zv(t,e)}function LS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=nl(t);if(e){var s=nl(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return BS(this,n)}}function BS(t,e){if(e&&(Lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tl(t)}function tl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nl(t){return nl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nl(t)}function a_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lh(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var oi,u_,Fv=(ea=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&zv(c,p)})(s,t);var e,n,r=LS(s);function s(){var c;RS(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return a_(tl(c=r.call.apply(r,[this].concat(v))),"modelType",qt.ELLIPSE_NODE),i_(tl(c),"rx",t_,tl(c)),i_(tl(c),"ry",n_,tl(c)),c}return e=s,(n=[{key:"getNodeStyle",value:function(){var c=Bv(nl(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.ellipse;return o_(o_({},c),Cn(p))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var c=this.x,p=this.y,v=this.rx,b=this.ry;return[{x:c,y:p-b,id:"".concat(this.id,"_0")},{x:c+v,y:p,id:"".concat(this.id,"_1")},{x:c,y:p+b,id:"".concat(this.id,"_2")},{x:c-v,y:p,id:"".concat(this.id,"_3")}]}}])&&CS(e.prototype,n),s}(ka),t_=lh(ea.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),n_=lh(ea.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),lh(ea.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(ea.prototype,"width"),ea.prototype),lh(ea.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(ea.prototype,"height"),ea.prototype),ea);function $v(t){return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function Wv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return c_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return c_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function l_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s_(Object(n),!0).forEach(function(r){f_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function FS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gv(){return Gv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=WS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Gv.apply(this,arguments)}function WS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=rl(t))!==null;);return t}function Uv(t,e){return Uv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Uv(t,e)}function GS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rl(t);if(e){var s=rl(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return US(this,n)}}function US(t,e){if(e&&($v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fh(t)}function fh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rl(t){return rl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rl(t)}function f_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ph(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Hv,p_,Xv=(oi=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Uv(c,p)})(s,t);var e,n,r=GS(s);function s(){var c;FS(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return f_(fh(c=r.call.apply(r,[this].concat(v))),"modelType",qt.POLYGON_NODE),zS(fh(c),"points",u_,fh(c)),c}return e=s,(n=[{key:"getNodeStyle",value:function(){var c=Gv(rl(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.polygon;return l_(l_({},c),Cn(p))}},{key:"pointsPosition",get:function(){var c=this.x,p=this.y,v=this.width,b=this.height;return this.points.map(function(x){return{x:x[0]+c-v/2,y:x[1]+p-b/2}})}},{key:"width",get:function(){var c=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=Wv(v,1)[0];b<c&&(c=b),b>p&&(p=b)}),p-c}},{key:"height",get:function(){var c=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=Wv(v,2)[1];b<c&&(c=b),b>p&&(p=b)}),p-c}},{key:"getDefaultAnchor",value:function(){var c=this,p=this.x,v=this.y,b=this.width,x=this.height;return this.points.map(function(S,D){var L=Wv(S,2),X=L[0],J=L[1];return{x:p+X-b/2,y:v+J-x/2,id:"".concat(c.id,"_").concat(D)}})}}])&&$S(e.prototype,n),s}(ka),u_=ph(oi.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),ph(oi.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(oi.prototype,"pointsPosition"),oi.prototype),ph(oi.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(oi.prototype,"width"),oi.prototype),ph(oi.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(oi.prototype,"height"),oi.prototype),oi);function Yv(t){return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function d_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function h_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d_(Object(n),!0).forEach(function(r){y_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function XS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vv(){return Vv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=VS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Vv.apply(this,arguments)}function VS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ol(t))!==null;);return t}function Kv(t,e){return Kv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Kv(t,e)}function KS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ol(t);if(e){var s=ol(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return qS(this,n)}}function qS(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dh(t)}function dh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ol(t){return ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ol(t)}function y_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ju,qv=(Hv=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Kv(c,p)})(s,t);var e,n,r=KS(s);function s(){var c;XS(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return y_(dh(c=r.call.apply(r,[this].concat(v))),"modelType",qt.RECT_NODE),HS(dh(c),"radius",p_,dh(c)),c}return e=s,(n=[{key:"getDefaultAnchor",value:function(){var c=this.x,p=this.y,v=this.width,b=this.height;return[{x:c,y:p-b/2,id:"".concat(this.id,"_0")},{x:c+v/2,y:p,id:"".concat(this.id,"_1")},{x:c,y:p+b/2,id:"".concat(this.id,"_2")},{x:c-v/2,y:p,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var c=Vv(ol(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.rect;return h_(h_({},c),Cn(p))}}])&&YS(e.prototype,n),s}(ka),p_=function(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}(Hv.prototype,"radius",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hv);function Zv(t){return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function v_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function g_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v_(Object(n),!0).forEach(function(r){m_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jv(){return Jv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=QS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Jv.apply(this,arguments)}function QS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=il(t))!==null;);return t}function Qv(t,e){return Qv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Qv(t,e)}function ej(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=il(t);if(e){var s=il(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return tj(this,n)}}function tj(t,e){if(e&&(Zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b_(t)}function b_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function il(t){return il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},il(t)}function m_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function __(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var eg=(ju=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Qv(c,p)})(s,t);var e,n,r=ej(s);function s(){var c;ZS(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return m_(b_(c=r.call.apply(r,[this].concat(v))),"modelType",qt.TEXT_NODE),c}return e=s,(n=[{key:"getTextStyle",value:function(){var c=Jv(il(s.prototype),"getTextStyle",this).call(this),p=this.graphModel.theme.text;return g_(g_({},c),Cn(p))}},{key:"width",get:function(){var c=String(this.text.value).split(/[\r\n]/g),p=this.getTextStyle().fontSize;return mf({rows:c,fontSize:p,rowsLength:c.length}).width}},{key:"height",get:function(){var c=String(this.text.value).split(/[\r\n]/g),p=this.getTextStyle().fontSize;return mf({rows:c,fontSize:p,rowsLength:c.length}).height}}])&&JS(e.prototype,n),s}(ka),__(ju.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(ju.prototype,"width"),ju.prototype),__(ju.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(ju.prototype,"height"),ju.prototype),ju);function tg(t){return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function nj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ng(t,e){return ng=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ng(t,e)}function oj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hh(t);if(e){var s=hh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return ij(this,n)}}function ij(t,e){if(e&&(tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O_(t)}function O_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hh(t)}function aj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ki,w_,x_,E_,rg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&ng(c,p)})(s,t);var e,n,r=oj(s);function s(){var c;nj(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return aj(O_(c=r.call.apply(r,[this].concat(v))),"modelType",qt.HTML_NODE),c}return e=s,(n=[{key:"getDefaultAnchor",value:function(){var c=this.x,p=this.y,v=this.width,b=this.height;return[{x:c,y:p-b/2,id:"".concat(this.id,"_0")},{x:c+v/2,y:p,id:"".concat(this.id,"_1")},{x:c,y:p+b/2,id:"".concat(this.id,"_2")},{x:c-v/2,y:p,id:"".concat(this.id,"_3")}]}}])&&rj(e.prototype,n),s}(ka);function S_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function og(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function uj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ip(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var P_=(ki=function(){function t(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),j_(this,"graphModel",void 0),og(this,"isShowHorizontal",w_,this),og(this,"isShowVertical",x_,this),og(this,"position",E_,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var s=1;s<arguments.length;s++){var c=arguments[s]!=null?arguments[s]:{};s%2?S_(Object(c),!0).forEach(function(p){j_(r,p,c[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):S_(Object(c)).forEach(function(p){Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(c,p))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,s){for(var c=r.x,p=r.y,v=!1,b=!1,x=0;x<s.length;x++){var S=s[x];if(S.id!==r.id&&(c===S.x&&(v=!0),p===S.y&&(b=!0),v&&b))break}return{isShowVertical:v,isShowHorizontal:b,position:{x:c,y:p}}}},{key:"getHorizontalSnapline",value:function(r,s){var c,p,v=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)p=oo(x);else{var S=this.graphModel.getNodeModelById(b);p=oo(S)}}for(var D=0;D<s.length;D++){var L=s[D];if(L.id!==r.id){var X=oo(L);if(X.minY===p.minY||X.maxY===p.minY){v=!0,c=p.minY;break}if(X.minY===p.maxY||X.maxY===p.maxY){v=!0,c=p.maxY;break}}}return hr({isShowHorizontal:v,position:{y:c}})}},{key:"getVerticalSnapline",value:function(r,s){var c,p,v=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)p=oo(x);else{var S=this.graphModel.getNodeModelById(b);p=oo(S)}}for(var D=0;D<s.length;D++){var L=s[D];if(L.id!==r.id){var X=oo(L);if(X.minX===p.minX||X.maxX===p.minX){v=!0,c=p.minX;break}if(X.minX===p.maxX||X.maxX===p.maxX){v=!0,c=p.maxX;break}}}return hr({isShowVertical:v,position:{x:c}})}},{key:"getSnapLinePosition",value:function(r,s){var c=this.getCenterSnapLine(r,s),p=c.isShowHorizontal,v=c.isShowVertical;if(!p){var b=this.getHorizontalSnapline(r,s);b.isShowHorizontal&&(c.isShowHorizontal=b.isShowHorizontal,c.position.y=b.position.y)}if(!v){var x=this.getVerticalSnapline(r,s);x.isShowVertical&&(c.isShowVertical=x.isShowVertical,c.position.x=x.position.x)}return c}},{key:"setSnaplineInfo",value:function(r){var s=r.isShowHorizontal,c=r.isShowVertical,p=r.position;this.position=p,this.isShowHorizontal=s,this.isShowVertical=c}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var s=this.graphModel.nodes,c=this.getSnapLinePosition(r,s);this.setSnaplineInfo(c)}}],n&&uj(e.prototype,n),t}(),w_=ip(ki.prototype,"isShowHorizontal",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x_=ip(ki.prototype,"isShowVertical",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E_=ip(ki.prototype,"position",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ip(ki.prototype,"clearSnapline",[h.k],Object.getOwnPropertyDescriptor(ki.prototype,"clearSnapline"),ki.prototype),ip(ki.prototype,"setNodeSnapLine",[h.k],Object.getOwnPropertyDescriptor(ki.prototype,"setNodeSnapLine"),ki.prototype),ki),ap=new Map,A_=function(t){var e=ko(),n=window.requestAnimationFrame(function r(){if(t(),ap.get(e)){var s=window.requestAnimationFrame(r);ap.set(e,s)}});return ap.set(e,n),e},yh=function(t){var e=ap.get(t);e&&(window.cancelAnimationFrame(e),ap.delete(t))};function ig(t){return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function up(){return up=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(this,arguments)}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){na(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return T_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return T_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ag(t,e){return ag=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ag(t,e)}function lj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vh(t);if(e){var s=vh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return fj(this,n)}}function fj(t,e){if(e&&(ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ta(t)}function ta(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vh(t)}function na(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pj=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&ag(c,p)})(s,t);var e,n,r=lj(s);function s(){var c;return function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}(this,s),na(ta(c=r.call(this)),"preTargetNode",void 0),na(ta(c),"sourceRuleResults",void 0),na(ta(c),"targetRuleResults",void 0),na(ta(c),"dragHandler",void 0),na(ta(c),"t",void 0),na(ta(c),"onDragStart",function(p){var v=p.event,b=c.props,x=b.anchorData,S=b.nodeModel,D=b.graphModel;D.overlapMode,D.selectNodeById(S.id),S.autoToFront&&D.toFront(S.id),D.eventCenter.emit(pt.ANCHOR_DRAGSTART,{data:x,e:v,nodeModel:S}),c.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})}),na(ta(c),"onDragging",function(p){var v=p.event,b=c.props,x=b.graphModel,S=b.nodeModel,D=b.anchorData,L=x.transformModel,X=x.eventCenter,J=x.width,oe=x.height,ge=x.editConfigModel,be=ge.autoExpand,xe=ge.stopMoveGraph,Ce=v.clientX,Ke=v.clientY,et=x.getPointByClient({x:Ce,y:Ke}),Ot=et.domOverlayPosition,Ze=Ot.x,dt=Ot.y,tt=et.canvasOverlayPosition,Qt=tt.x,on=tt.y;c.t&&yh(c.t);var Rt=[];Ze<10?Rt=[10,0]:Ze+10>J?Rt=[-10,0]:dt<10?Rt=[0,10]:dt+10>oe&&(Rt=[0,-10]),c.setState({endX:Qt,endY:on,dragging:!0}),c.moveAnchorEnd(Qt,on),Rt.length>0&&!xe&&be&&(c.t=A_(function(){var ln=cj(Rt,2),er=ln[0],tr=ln[1];L.translate(er,tr);var $r=c.state,Lo=$r.endX,Bo=$r.endY;c.setState({endX:Lo-er,endY:Bo-tr}),c.moveAnchorEnd(Lo-er,Bo-tr)})),X.emit(pt.ANCHOR_DRAG,{data:D,e:v,nodeModel:S})}),na(ta(c),"onDragEnd",function(p){var v=p.event;c.t&&yh(c.t);var b=c.checkEnd(v);c.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),c.sourceRuleResults.clear(),c.targetRuleResults.clear();var x=c.props,S=x.graphModel,D=x.nodeModel,L=x.anchorData;S.eventCenter.emit(pt.ANCHOR_DRAGEND,{data:L,e:v,nodeModel:D,edgeModel:b})}),na(ta(c),"checkEnd",function(p){var v=c.props,b=v.graphModel,x=v.nodeModel,S=v.anchorData,D=S.x,L=S.y,X=S.id,J=(b.edgeType,c.state),oe=J.endX,ge=J.endY,be=J.dragging,xe=_a({x:oe,y:ge},b);if(c.preTargetNode&&c.preTargetNode.state!==yn.DEFAULT&&c.preTargetNode.setElementState(yn.DEFAULT),be&&xe&&xe.node){var Ce=xe.node,Ke=xe.anchor.id,et="".concat(x.id,"_").concat(Ce.id,"_").concat(Ke,"_").concat(X),Ot=c.sourceRuleResults.get(et)||{},Ze=Ot.isAllPass,dt=Ot.msg,tt=c.targetRuleResults.get(et)||{},Qt=tt.isAllPass,on=tt.msg;if(Ze&&Qt){Ce.setElementState(yn.DEFAULT);var Rt=b.edgeGenerator(x.getData(),b.getNodeModelById(xe.node.id).getData()),ln=b.addEdge(cp(cp({},Rt),{},{sourceNodeId:x.id,sourceAnchorId:X,startPoint:{x:D,y:L},targetNodeId:xe.node.id,targetAnchorId:xe.anchor.id,endPoint:{x:xe.anchor.x,y:xe.anchor.y}})),er=c.props.anchorData;return b.eventCenter.emit(pt.ANCHOR_DROP,{data:er,e:p,nodeModel:x,edgeModel:ln}),ln}var tr=Ce.getData();return b.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:tr,msg:on||dt}),null}}),c.sourceRuleResults=new Map,c.targetRuleResults=new Map,c.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},c.dragHandler=new Do({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd}),c}return e=s,(n=[{key:"getAnchorShape",value:function(){var c=this.props,p=c.anchorData,v=c.style,b=c.node.getAnchorShape(p);if(b)return b;var x=p.x,S=p.y,D=cp(cp({},v),v.hover);return Object(pe.g)("g",null,Object(pe.g)(qs,up({className:"lf-node-anchor-hover"},D,{x,y:S})),Object(pe.g)(qs,up({className:"lf-node-anchor"},v,{x,y:S})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"moveAnchorEnd",value:function(c,p){var v=this.props,b=v.graphModel,x=v.nodeModel,S=v.anchorData,D=_a({x:c,y:p},b);if(D){var L=D.node,X=D.anchor.id;if(this.preTargetNode&&this.preTargetNode!==D.node&&this.preTargetNode.setElementState(yn.DEFAULT),S.id===X)return;this.preTargetNode=L;var J="".concat(x.id,"_").concat(L.id,"_").concat(X,"_").concat(S.id);if(!this.targetRuleResults.has(J)){var oe=D.anchor,ge=x.isAllowConnectedAsSource(L,S,oe),be=L.isAllowConnectedAsTarget(x,S,oe);this.sourceRuleResults.set(J,vc(ge)),this.targetRuleResults.set(J,vc(be))}var xe=this.sourceRuleResults.get(J).isAllPass,Ce=this.targetRuleResults.get(J).isAllPass;xe&&Ce?L.setElementState(yn.ALLOW_CONNECT):L.setElementState(yn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==yn.DEFAULT&&this.preTargetNode.setElementState(yn.DEFAULT)}},{key:"isShowLine",value:function(){var c=this.state,p=c.startX,v=c.startY,b=c.endX,x=c.endY;return or(p,v,b,x)>10}},{key:"render",value:function(){var c=this,p=this.state,v=p.startX,b=p.startY,x=p.endX,S=p.endY,D=this.props,L=D.anchorData.edgeAddable,X=D.edgeStyle;return Object(pe.g)("g",{className:"lf-anchor"},Object(pe.g)("g",{onMouseDown:function(J){L!==!1&&c.dragHandler.handleMouseDown(J)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(cp({sourcePoint:{x:v,y:b},targetPoint:{x,y:S}},X)):Object(pe.g)(Vs,up({x1:v,y1:b,x2:x,y2:S},X,{"pointer-events":"none"}))))}}])&&sj(e.prototype,n),s}(pe.a);function k_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(n),!0).forEach(function(r){hj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ug(t){return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function yj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return D_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return D_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N_(t){var e=t.x,n=e===void 0?0:e,r=t.y,s=r===void 0?0:r,c=t.value,p=t.fontSize,v=t.fill,b=v===void 0?"currentColor":v,x=t.overflowMode,S=x===void 0?"default":x,D=t.textWidth,L=D===void 0?"":D,X=t.model,J={textAnchor:"middle","dominant-baseline":"middle",x:n,y:s,fill:b};if(Object.entries(t).forEach(function(Ke){var et=yj(Ke,2),Ot=et[0],Ze=et[1];ug(Ze)!=="object"&&(J[Ot]=Ze)}),c){var oe=String(c).split(/[\r\n]/g),ge=oe.length;if(S!=="default"){var be=X.BaseType,xe=X.modelType;if(be===Qn.NODE&&xe!==qt.TEXT_NODE||be===Qn.EDGE&&L)return function(Ke){var et=Ke.value,Ot=Ke.fontSize,Ze=Ke.model,dt=Ke.fontFamily,tt=dt===void 0?"":dt,Qt=Ke.lineHeight,on=Ke.wrapPadding,Rt=on===void 0?"0, 0":on,ln=Ke.overflowMode,er=Ke.x,tr=Ke.y,$r=Ze.width,Lo=Ze.textHeight,Bo=Ke.textWidth||$r,ia=String(et).split(/[\r\n]/g),Ic=ia.length,$h=jd({rows:ia,style:{fontSize:"".concat(Ot,"px"),width:"".concat(Bo,"px"),fontFamily:tt,lineHeight:Qt,padding:Rt},rowsLength:Ic,className:"lf-get-text-height"}),Lc=Ze.height>$h?Ze.height:$h;Lo&&(Lc=Lo);var Mu=ln==="ellipsis";return Mu&&(Lc=Ot+2),Object(pe.g)("g",null,Object(pe.g)("foreignObject",{width:Bo,height:Lc,x:er-Bo/2,y:tr-Lc/2},Object(pe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Lc,width:Bo,padding:Rt}},Object(pe.g)("div",{className:Mu?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Mu?ia.join(""):"",style:dj({},Ke)},ia.map(function(Tu){return Object(pe.g)("div",{className:"lf-node-text--auto-wrap-inner"},Tu)})))))}(t)}if(ge>1){var Ce=oe.map(function(Ke,et){var Ot=(et-(ge-1)/2)*(p+2);return Object(pe.g)("tspan",{className:"lf-text-tspan",x:n,y:s+Ot},Ke)});return Object(pe.g)("text",J,Ce)}return Object(pe.g)("text",J,c)}}function cg(t){return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function sg(){return sg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(this,arguments)}function vj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return R_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return R_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function R_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lg(t,e){return lg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lg(t,e)}function bj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=gh(t);if(e){var s=gh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return mj(this,n)}}function mj(t,e){if(e&&(cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pu(t)}function Pu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(t)}function Dc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C_=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&lg(c,p)})(s,t);var e,n,r=bj(s);function s(c){var p;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,s),Dc(Pu(p=r.call(this)),"dragHandler",void 0),Dc(Pu(p),"sumDeltaX",0),Dc(Pu(p),"sumDeltaY",0),Dc(Pu(p),"stepDrag",void 0),Dc(Pu(p),"onDragging",function(b){var x=b.deltaX,S=b.deltaY,D=p.props,L=D.model,X=vj(D.graphModel.transformModel.fixDeltaXY(x,S),2),J=X[0],oe=X[1];L.moveText(J,oe)}),Dc(Pu(p),"dblClickHandler",function(){p.props.editable&&p.props.model.setElementState(yn.TEXT_EDIT)}),Dc(Pu(p),"mouseDownHandle",function(b){var x=p.props,S=x.draggable,D=x.model,L=x.graphModel.editConfigModel.nodeTextDraggable;(S||L)&&(p.stepDrag.model=D,p.stepDrag.handleMouseDown(b))}),c.model;var v=c.draggable;return p.stepDrag=new Do({onDragging:p.onDragging,step:1,isStopPropagation:v}),p}return e=s,(n=[{key:"getShape",value:function(){var c=this.props,p=c.model,v=c.graphModel,b=p.text,x=v.editConfigModel,S=b.value,D=b.x,L=b.y,X=b.editable,J=b.draggable,oe={x:D,y:L,className:"",value:S};X?oe.className="lf-element-text":J||x.nodeTextDraggable?oe.className="lf-text-draggable":oe.className="lf-text-disabled";var ge=p.getTextStyle();return Object(pe.g)(N_,sg({},oe,ge,{model:p}))}},{key:"render",value:function(){if(this.props.model.text)return Object(pe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&gj(e.prototype,n),s}(pe.a),_j=window.navigator.userAgent.match(/MSIE|Trident/)!==null,I_=o(130);function fg(t){return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function pg(){return pg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pg.apply(this,arguments)}function Oj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dg(t,e){return dg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dg(t,e)}function wj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bh(t);if(e){var s=bh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return xj(this,n)}}function xj(t,e){if(e&&(fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return al(t)}function al(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bh(t)}function sp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ej=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&dg(c,p)})(s,t);var e,n,r=wj(s);function s(c){var p;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,s),sp(al(p=r.call(this,c)),"style",{}),sp(al(p),"defaultAngle",void 0),sp(al(p),"normal",void 0),sp(al(p),"stepperDrag",void 0),sp(al(p),"onDragging",function(v){var b,x=v.event,S=p.props,D=S.graphModel,L=S.nodeModel,X=S.eventCenter,J=D.selectNodes,oe=L.x,ge=L.y,be=x.clientX,xe=x.clientY,Ce=D.getPointByClient({x:be,y:xe}).canvasOverlayPosition,Ke=Ce.x,et=Ce.y,Ot=new _r(Ke-oe,et-ge),Ze=((b=p.normal)===null||b===void 0?void 0:b.angle(Ot))-p.defaultAngle,dt=new xr(-oe,-ge).rotate(Ze).translate(oe,ge).toString();L.transform=dt,L.rotate=Ze;var tt=Object(I_.map)(J,function(on){return on.id});tt.indexOf(L.id)===-1&&(tt=[L.id]);var Qt=Object(I_.reduce)(tt,function(on,Rt){var ln=D.getNodeModelById(Rt);return on[Rt]=ln==null?void 0:ln.getMoveDistance(0,0,!1),on},{});tt.forEach(function(on){D.getNodeEdges(on).forEach(function(Rt){if(Qt[Rt.sourceNodeId]){var ln=D.getNodeModelById(Rt.sourceNodeId).anchors.find(function(tr){return tr.id===Rt.sourceAnchorId});Rt.updateStartPoint(ln)}if(Qt[Rt.targetNodeId]){var er=D.getNodeModelById(Rt.targetNodeId).anchors.find(function(tr){return tr.id===Rt.targetAnchorId});Rt.updateEndPoint(er)}})}),X.emit(pt.NODE_ROTATE,{e:x,nodeModel:L})}),p.style=c.style,p.stepperDrag=new Do({onDragging:p.onDragging}),p}return e=s,(n=[{key:"render",value:function(){var c=this,p=this.props.nodeModel,v=p.x,b=p.y,x=v+p.width/2+20,S=b-p.height/2-20;return this.normal=new _r(1,0),this.defaultAngle=this.normal.angle(new _r(x-v,S-b)),p.defaultAngle=this.defaultAngle,Object(pe.g)("g",{className:"lf-rotate-control"},Object(pe.g)("g",{onMouseDown:function(D){c.stepperDrag.handleMouseDown(D)}},Object(pe.g)(qs,pg({},this.style,{cx:x,cy:S}))))}}])&&Oj(e.prototype,n),s}(pe.a);function hg(t){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}var Sj=["className"];function mh(){return mh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}function jj(t,e){if(t==null)return{};var n,r,s=function(p,v){if(p==null)return{};var b,x,S={},D=Object.keys(p);for(x=0;x<D.length;x++)b=D[x],v.indexOf(b)>=0||(S[b]=p[b]);return S}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function _h(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return L_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return L_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yg(t,e){return yg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yg(t,e)}function Pj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Oh(t);if(e){var s=Oh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Aj(this,n)}}function Aj(t,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fr(t)}function Fr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oh(t)}function Zr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Da=function(t){(function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),v&&yg(p,v)})(c,t);var e,n,r,s=Pj(c);function c(p){var v;(function(L,X){if(!(L instanceof X))throw new TypeError("Cannot call a class as a function")})(this,c),Zr(Fr(v=s.call(this)),"t",void 0),Zr(Fr(v),"moveOffset",void 0),Zr(Fr(v),"stepDrag",void 0),Zr(Fr(v),"contextMenuTime",void 0),Zr(Fr(v),"startTime",void 0),Zr(Fr(v),"clickTimer",void 0),Zr(Fr(v),"modelDisposer",void 0),Zr(Fr(v),"onDragStart",function(L){var X=L.event,J=X.clientX,oe=X.clientY,ge=v.props,be=ge.model,xe=ge.graphModel.getPointByClient({x:J,y:oe}).canvasOverlayPosition,Ce=xe.x,Ke=xe.y;v.moveOffset={x:be.x-Ce,y:be.y-Ke}}),Zr(Fr(v),"onDragging",function(L){var X=L.event,J=v.props,oe=J.model,ge=J.graphModel,be=ge.editConfigModel,xe=be.stopMoveGraph,Ce=be.autoExpand,Ke=ge.transformModel,et=ge.selectNodes,Ot=ge.width,Ze=ge.height,dt=ge.gridSize;oe.isDragging=!0;var tt=X.clientX,Qt=X.clientY,on=ge.getPointByClient({x:tt,y:Qt}).canvasOverlayPosition,Rt=on.x,ln=on.y,er=_h(Ke.CanvasPointToHtmlPoint([Rt,ln]),2),tr=er[0],$r=er[1];if(Rt+=v.moveOffset.x,ln+=v.moveOffset.y,Rt=Qo(Rt,dt),ln=Qo(ln,dt),Ot&&Ze){if(!Ce||xe||!(tr<0||$r<0||tr>Ot||$r>Ze)){var Lo=_h(Ke.CanvasPointToHtmlPoint([Rt-oe.width/2,ln-oe.height/2]),2),Bo=Lo[0],ia=Lo[1],Ic=_h(Ke.CanvasPointToHtmlPoint([Rt+oe.width/2,ln+oe.height/2]),2),$h=Ic[0],Lc=Ic[1],Mu=Math.max(dt,20),Tu=[];Bo<0?Tu=[Mu,0]:$h>ge.width?Tu=[-Mu,0]:ia<0?Tu=[0,Mu]:Lc>ge.height&&(Tu=[0,-Mu]),v.t&&yh(v.t);var mA=new xr(-Rt,-ln).rotate(oe.rotate).translate(Rt,ln).toString();oe.transform=mA;var Wh=et.map(function(Gh){return Gh.id});Wh.indexOf(oe.id)===-1&&(Wh=[oe.id]),Tu.length>0&&!xe&&Ce?v.t=A_(function(){var Gh=_h(Tu,2),m1=Gh[0],_1=Gh[1];Ke.translate(m1,_1);var _A=-m1/Ke.SCALE_X,OA=-_1/Ke.SCALE_X;ge.moveNodes(Wh,_A,OA)}):ge.moveNodes(Wh,Rt-oe.x,ln-oe.y)}}else ge.moveNode2Coordinate(oe.id,Rt,ln)}),Zr(Fr(v),"onDragEnd",function(){v.t&&yh(v.t),v.props.model.isDragging=!1}),Zr(Fr(v),"handleClick",function(L){if(v.startTime&&!(new Date().getTime()-v.startTime>200)){var X=v.props,J=X.model,oe=X.graphModel,ge={data:J.getData(),e:L,position:oe.getPointByClient({x:L.clientX,y:L.clientY}),isSelected:!1,isMultiple:!1},be=L.button===2,xe=L.detail===2;if(!be){var Ce=oe.editConfigModel,Ke=ei(L,Ce);ge.isMultiple=Ke,J.isSelected&&!xe&&Ke?(ge.isSelected=!1,J.setSelected(!1)):(oe.selectNodeById(J.id,Ke),ge.isSelected=!0,v.toFront()),xe?(Ce.nodeTextEdit&&J.text.editable&&(J.setSelected(!1),oe.setElementStateById(J.id,yn.TEXT_EDIT)),oe.eventCenter.emit(pt.NODE_DBCLICK,ge)):(oe.eventCenter.emit(pt.ELEMENT_CLICK,ge),oe.eventCenter.emit(pt.NODE_CLICK,ge))}}}),Zr(Fr(v),"handleContextMenu",function(L){L.preventDefault();var X=v.props,J=X.model,oe=X.graphModel,ge=J.getData(),be=oe.getPointByClient({x:L.clientX,y:L.clientY});oe.setElementStateById(J.id,yn.SHOW_MENU,be.domOverlayPosition),J.isSelected||oe.selectNodeById(J.id),oe.eventCenter.emit(pt.NODE_CONTEXTMENU,{data:ge,e:L,position:be}),v.toFront()}),Zr(Fr(v),"handleMouseDown",function(L){var X=v.props,J=X.model,oe=X.graphModel;v.startTime=new Date().getTime(),oe.editConfigModel.adjustNodePosition&&J.draggable&&v.stepDrag&&v.stepDrag.handleMouseDown(L)}),Zr(Fr(v),"setHoverON",function(L){var X=v.props,J=X.model,oe=X.graphModel;if(!J.isHovered){var ge=J.getData();J.setHovered(!0),oe.eventCenter.emit(pt.NODE_MOUSEENTER,{data:ge,e:L})}}),Zr(Fr(v),"setHoverOFF",function(L){var X=v.props,J=X.model,oe=X.graphModel,ge=J.getData();J.isHovered&&(J.setHovered(!1),oe.eventCenter.emit(pt.NODE_MOUSELEAVE,{data:ge,e:L}))}),Zr(Fr(v),"onMouseOut",function(L){_j&&v.setHoverOFF(L)});var b=p.graphModel,x=b.gridSize,S=b.eventCenter,D=p.model;return v.stepDrag=new Do({onDragStart:v.onDragStart,onDragging:v.onDragging,onDragEnd:v.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:S,model:D}),v.modelDisposer=Object(h.F)(function(){return v.props},function(L){L&&L.model&&v.stepDrag.setModel(L.model)}),v}return e=c,r=[{key:"getModel",value:function(p){return p}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(p){return null}},{key:"getAnchors",value:function(){var p=this,v=this.props,b=v.model,x=v.graphModel,S=b.isSelected,D=b.isHitable,L=b.isDragging,X=b.isShowAnchor;return D&&(S||X)&&!L?is(b.anchors,function(J,oe){var ge=b.getAnchorLineStyle(J),be=b.getAnchorStyle(J);return Object(pe.g)(pj,{anchorData:J,node:p,style:be,edgeStyle:ge,anchorIndex:oe,nodeModel:b,graphModel:x,setHoverOFF:p.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var p=this.props,v=p.model,b=p.graphModel,x=v.isSelected,S=v.isHitable,D=v.enableRotate,L=v.isHovered,X=v.getRotateControlStyle().style;if(S&&(x||L)&&D)return Object(pe.g)(Ej,{graphModel:b,nodeModel:v,eventCenter:b.eventCenter,style:X})}},{key:"getText",value:function(){var p=this.props,v=p.model,b=p.graphModel;if(v.state===yn.TEXT_EDIT)return"";if(v.text){var x=b.editConfigModel,S=!1;return(v.text.draggable||x.nodeTextDraggable)&&(S=!0),Object(pe.g)(C_,{editable:x.nodeTextEdit&&v.text.editable,model:v,graphModel:b,draggable:S})}}},{key:"getStateClassName",value:function(){var p=this.props.model,v=p.state,b=p.isDragging,x=p.isSelected,S="lf-node";switch(v){case yn.ALLOW_CONNECT:S+=" lf-node-allow";break;case yn.NOT_ALLOW_CONNECT:S+=" lf-node-not-allow";break;default:S+=" lf-node-default"}return b&&(S+=" lf-isDragging"),x&&(S+=" lf-node-selected"),S}},{key:"toFront",value:function(){var p=this.props,v=p.model,b=p.graphModel;v.autoToFront&&b.toFront(v.id)}},{key:"render",value:function(){var p,v=this.props,b=v.model,x=v.graphModel,S=x.editConfigModel,D=S.hideAnchors,L=S.adjustNodePosition,X=S.allowRotation,J=x.gridSize,oe=x.transformModel.SCALE_X,ge=b.isHitable,be=b.draggable,xe=b.transform,Ce=b.getOuterGAttributes(),Ke=Ce.className,et=Ke===void 0?"":Ke,Ot=jj(Ce,Sj),Ze=Object(pe.g)("g",{className:"lf-node-content"},Object(pe.g)("g",{transform:xe},this.getShape(),this.getText(),X&&this.getRotateControl()),!D&&this.getAnchors());return ge?(L&&be&&this.stepDrag.setStep(J*oe),p=Object(pe.g)("g",mh({className:"".concat(this.getStateClassName()," ").concat(et),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Ot),Ze)):p=Object(pe.g)("g",mh({className:"".concat(this.getStateClassName()," ").concat(et)},Ot),Ze),p}}])&&B_(e.prototype,n),r&&B_(e,r),c}(pe.a);function vg(t){return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function gg(){return gg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gg.apply(this,arguments)}function Mj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bg(t,e){return bg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bg(t,e)}function kj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wh(t);if(e){var s=wh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Dj(this,n)}}function Dj(t,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wh(t)}var mg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&bg(c,p)})(s,t);var e,n,r=kj(s);function s(){return Mj(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.getNodeStyle();return Object(pe.g)(Eu,gg({},p,{x:c.x,y:c.y,width:c.width,height:c.height,radius:c.radius}))}}])&&Tj(e.prototype,n),s}(Da);function _g(t){return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}function Og(){return Og=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(this,arguments)}function Nj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wg(t,e){return wg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wg(t,e)}function Cj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=xh(t);if(e){var s=xh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Ij(this,n)}}function Ij(t,e){if(e&&(_g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xh(t)}var xg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&wg(c,p)})(s,t);var e,n,r=Cj(s);function s(){return Nj(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.x,v=c.y,b=c.r,x=c.getNodeStyle();return Object(pe.g)(qs,Og({},x,{x:p,y:v,r:b}))}}])&&Rj(e.prototype,n),s}(Da);function Eg(t){return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}function Lj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return z_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return z_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F_(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(s){var c=Lj(s,2),p=c[0],v=c[1];Eg(v)!=="object"&&(r[p]=v)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(s){return s.join(",")}).join(" "),Object(pe.g)("polygon",r)}function Sg(t){return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function jg(){return jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}function Bj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pg(t,e){return Pg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pg(t,e)}function Fj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Eh(t);if(e){var s=Eh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return $j(this,n)}}function $j(t,e){if(e&&(Sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Eh(t)}var Ag=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Pg(c,p)})(s,t);var e,n,r=Fj(s);function s(){return Bj(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.x,v=c.y,b=c.width,x=c.height,S=c.points,D=c.getNodeStyle(),L={transform:"matrix(1 0 0 1 ".concat(p-b/2," ").concat(v-x/2,")")};return Object(pe.g)("g",L,Object(pe.g)(F_,jg({},D,{points:S,x:p,y:v})))}}])&&zj(e.prototype,n),s}(Da);function Mg(t){return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function Tg(){return Tg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function Wj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kg(t,e){return kg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kg(t,e)}function Uj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Sh(t);if(e){var s=Sh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Hj(this,n)}}function Hj(t,e){if(e&&(Mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(t)}var Dg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&kg(c,p)})(s,t);var e,n,r=Uj(s);function s(){return Wj(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.getNodeStyle();return Object(pe.g)("g",null,Object(pe.g)(F_,Tg({},p,{points:c.points,x:c.x,y:c.y})))}}])&&Gj(e.prototype,n),s}(Da);function Ng(t){return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function Xj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return $_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return $_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yj(t){var e=t.x,n=e===void 0?0:e,r=t.y,s=r===void 0?0:r,c=t.rx,p=c===void 0?4:c,v=t.ry,b=v===void 0?4:v,x=t.className,S={cx:n,cy:s,rx:p,ry:b,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(D){var L=Xj(D,2),X=L[0],J=L[1];Ng(J)!=="object"&&(S[X]=J)}),S.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(pe.g)("ellipse",S)}function Rg(t){return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function Cg(){return Cg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cg.apply(this,arguments)}function Vj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ig(t,e){return Ig=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ig(t,e)}function qj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=jh(t);if(e){var s=jh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Zj(this,n)}}function Zj(t,e){if(e&&(Rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jh(t)}var Lg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ig(c,p)})(s,t);var e,n,r=qj(s);function s(){return Vj(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.getNodeStyle();return Object(pe.g)(Yj,Cg({},p,{x:c.x,y:c.y,rx:c.rx,ry:c.ry}))}}])&&Kj(e.prototype,n),s}(Da);function Bg(t){return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}function W_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function G_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(n),!0).forEach(function(r){Jj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zg(t,e){return zg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zg(t,e)}function tP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ph(t);if(e){var s=Ph(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return nP(this,n)}}function nP(t,e){if(e&&(Bg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ph(t)}var Fg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&zg(c,p)})(s,t);var e,n,r=tP(s);function s(){return Qj(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getBackground",value:function(){var c=this.props.model,p=c.getTextStyle(),v=c.width,b=c.height,x=c.x,S=c.y,D=G_(G_({},p.background),{},{x,y:S-1,width:v,height:b});return Object(pe.g)(Eu,D)}},{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getBackground())}}])&&eP(e.prototype,n),s}(Da);function $g(t){return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function Wg(){return Wg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function rP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gg(t,e){return Gg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gg(t,e)}function iP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ah(t);if(e){var s=Ah(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return aP(this,n)}}function aP(t,e){if(e&&($g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lp(t)}function lp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ah(t)}function Mh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ug=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Gg(c,p)})(s,t);var e,n,r=iP(s);function s(){var c;rP(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return Mh(lp(c=r.call.apply(r,[this].concat(v))),"ref",void 0),Mh(lp(c),"currentProperties",void 0),Mh(lp(c),"preProperties",void 0),Mh(lp(c),"setRef",function(x){c.ref=x}),c}return e=s,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(c){c.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var c=this.props.model,p=c.x,v=c.y,b=c.height,x=c.width,S=c.getNodeStyle();return this.currentProperties=JSON.stringify(c.properties),Object(pe.g)("foreignObject",Wg({},S,{x:p-x/2,y:v-b/2,width:x,height:b,ref:this.setRef}))}}])&&oP(e.prototype,n),s}(Da);function Hg(t){return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function Xg(){return Xg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function U_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Nc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U_(Object(n),!0).forEach(function(r){Kg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yg(t,e){return Yg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Yg(t,e)}function cP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Th(t);if(e){var s=Th(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return sP(this,n)}}function sP(t,e){if(e&&(Hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vg(t)}function Vg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Th(t)}function Kg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lP=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Yg(c,p)})(s,t);var e,n,r=cP(s);function s(c){var p;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,s),Kg(Vg(p=r.call(this,c)),"setHoverON",function(){p.setState({isHovered:!0})}),Kg(Vg(p),"setHoverOFF",function(){p.setState({isHovered:!1})}),p.state={isHovered:!1},p}return e=s,(n=[{key:"getBackground",value:function(){var c=this.props.model,p=c.getTextStyle(),v=c.text,b=c.width,x=p.background||{};if(this.state.isHovered&&p.hover&&p.hover.background&&(x=Nc(Nc({},x),p.hover.background)),v&&v.value&&x.fill!=="transparent"){var S,D=p.fontSize,L=p.overflowMode,X=p.lineHeight,J=p.wrapPadding,oe=p.textWidth,ge=v.value,be=v.x,xe=v.y,Ce=String(ge).split(/[\r\n]/g),Ke=Ce.length;if(L==="autoWrap"&&oe){var et=jd({rows:Ce,style:{fontSize:"".concat(D,"px"),width:"".concat(oe,"px"),lineHeight:X,padding:J},rowsLength:Ke,className:"lf-get-text-height"});S=Nc(Nc({},x),{},{x:be-1,y:xe-1,width:oe,height:et})}else{Ce&&Ce.forEach(function(Qt){Wf(Qt)});var Ot=mf({rows:Ce,fontSize:D,rowsLength:Ke}),Ze=Ot.width,dt=Ot.height;if(L==="ellipsis"&&(Ze=oe||b,dt=D+2),typeof x.wrapPadding=="string"){var tt=x.wrapPadding.split(",").filter(function(Qt){return Qt.trim()}).map(function(Qt){return parseFloat(Qt.trim())});tt.length>0&&tt.length<=4&&(tt.length===1?tt=[tt[0],tt[0],tt[0],tt[0]]:tt.length===2?tt=[tt[0],tt[1],tt[0],tt[1]]:tt.length===3&&(tt=[tt[0],tt[1],tt[2],tt[1]]),Ze+=tt[1]+tt[3],dt+=tt[0]+tt[2],be+=(tt[1]-tt[3])/2,xe+=(tt[2]-tt[0])/2)}S=Nc(Nc({},x),{},{x:be-1,y:xe-1,width:Ze,height:dt})}return Object(pe.g)(Eu,S)}}},{key:"getShape",value:function(){var c=this.props.model,p=c.text,v=p.value,b=p.x,x=p.y;if(v){var S=Nc({x:b,y:x,className:"lf-element-text",value:v},c.getTextStyle());return Object(pe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(pe.g)(N_,Xg({},S,{model:c})))}}}])&&uP(e.prototype,n),s}(C_);function qg(t){return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}var ra,fP=["text","sourceAnchorId","targetAnchorId"];function H_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(n),!0).forEach(function(r){Io(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pP(t,e){if(t==null)return{};var n,r,s=function(p,v){if(p==null)return{};var b,x,S={},D=Object.keys(p);for(x=0;x<D.length;x++)b=D[x],v.indexOf(b)>=0||(S[b]=p[b]);return S}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function dP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return X_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return X_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zg(t,e){return Zg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zg(t,e)}function yP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=kh(t);if(e){var s=kh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return vP(this,n)}}function vP(t,e){if(e&&(qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Co(t)}function Co(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kh(t)}function Io(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(ra||(ra={}));var Y_=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Zg(c,p)})(s,t);var e,n,r=yP(s);function s(c){var p;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,s),Io(Co(p=r.call(this)),"stepDragData",void 0),Io(Co(p),"stepDrag",void 0),Io(Co(p),"oldEdge",void 0),Io(Co(p),"preTargetNode",void 0),Io(Co(p),"targetRuleResults",void 0),Io(Co(p),"sourceRuleResults",void 0),Io(Co(p),"handleMouseDown",function(S){p.stepDrag&&p.stepDrag.handleMouseDown(S)}),Io(Co(p),"onDragStart",function(){var S=p.props,D=S.x,L=S.y,X=S.edgeModel,J=X.startPoint,oe=X.endPoint,ge=X.pointsList;p.oldEdge={startPoint:J,endPoint:oe,pointsList:ge},p.setState({endX:D,endY:L,dragging:!0})}),Io(Co(p),"onDragging",function(S){var D=S.deltaX,L=S.deltaY,X=p.state,J=X.endX,oe=X.endY,ge=p.props,be=ge.graphModel,xe=ge.type,Ce=be.transformModel,Ke=be.editConfigModel,et=dP(Ce.moveCanvasPointByHtml([J,oe],D,L),2),Ot=et[0],Ze=et[1];p.setState({endX:Ot,endY:Ze,dragging:!0});var dt=p.props.edgeModel,tt=_a({x:J,y:oe},be);if(tt&&tt.node&&p.isAllowAdjust(tt).pass){var Qt,on=dt.startPoint,Rt=dt.endPoint,ln=dt.sourceNode,er=dt.targetNode;xe===ra.SOURCE?Qt={startPoint:{x:tt.anchor.x,y:tt.anchor.y},endPoint:{x:Rt.x,y:Rt.y},sourceNode:tt.node,targetNode:er}:xe===ra.TARGET&&(Qt={startPoint:{x:on.x,y:on.y},endPoint:{x:tt.anchor.x,y:tt.anchor.y},sourceNode:ln,targetNode:tt.node}),dt.updateAfterAdjustStartAndEnd(Qt)}else xe===ra.SOURCE?dt.updateStartPoint({x:Ot,y:Ze}):xe===ra.TARGET&&dt.updateEndPoint({x:Ot,y:Ze});dt.text.value&&Ke.adjustEdge&&dt.setText(Object.assign({},dt.text,dt.textPosition))}),Io(Co(p),"onDragEnd",function(S){var D=S.event;try{var L;p.setState({dragging:!1});var X=p.props,J=X.graphModel,oe=X.edgeModel,ge=X.type,be=p.state,xe=be.endX,Ce=be.endY,Ke=be.dragging,et=_a({x:xe,y:Ce},J);if(!Ke)return;var Ot,Ze=!1;if(et&&et.node){var dt=p.isAllowAdjust(et),tt=dt.pass,Qt=dt.msg,on=dt.newTargetNode;if(tt){var Rt=oe.getData(),ln=Rt.text,er=Rt.sourceAnchorId,tr=er===void 0?"":er,$r=Rt.targetAnchorId;Ot=Na(Na({sourceAnchorId:tr,targetAnchorId:$r===void 0?"":$r},pP(Rt,fP)),{},{text:(ln==null?void 0:ln.value)||""}),ge===ra.SOURCE?(Ot=Na(Na({},J.edgeGenerator(J.getNodeModelById(et.node.id).getData(),J.getNodeModelById(oe.targetNodeId).getData(),Ot)),{},{sourceNodeId:et.node.id,sourceAnchorId:et.anchor.id,startPoint:{x:et.anchor.x,y:et.anchor.y},targetNodeId:oe.targetNodeId,endPoint:Na({},oe.endPoint)}),oe.sourceNodeId===et.node.id&&oe.sourceAnchorId===et.anchor.id&&(Ze=!0)):ge===ra.TARGET&&(Ot=Na(Na({},J.edgeGenerator(J.getNodeModelById(oe.sourceNodeId).getData(),J.getNodeModelById(et.node.id).getData(),Ot)),{},{sourceNodeId:oe.sourceNodeId,startPoint:Na({},oe.startPoint),targetNodeId:et.node.id,targetAnchorId:et.anchor.id,endPoint:{x:et.anchor.x,y:et.anchor.y}}),oe.targetNodeId===et.node.id&&oe.targetAnchorId===et.anchor.id&&(Ze=!0))}else{Ze=!0;var Lo=on.getData();J.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:Lo,msg:Qt})}}else Ze=!0;if(Ze)p.recoveryEdge();else{var Bo=oe.getData();J.deleteEdgeById(oe.id);var ia=J.addEdge(Na({},Ot));J.eventCenter.emit(pt.EDGE_EXCHANGE_NODE,{data:{newEdge:ia.getData(),oldEdge:Bo}})}(L=p.preTargetNode)===null||L===void 0||L.setElementState(yn.DEFAULT)}finally{p.props.graphModel.eventCenter.emit(pt.ADJUST_POINT_DRAGEND,{e:D,data:p.stepDragData})}}),Io(Co(p),"recoveryEdge",function(){var S=p.props.edgeModel,D=p.oldEdge,L=D.startPoint,X=D.endPoint,J=D.pointsList;S.updateStartPoint(L),S.updateEndPoint(X),S.modelType!==qt.LINE_EDGE&&(S.pointsList=J,S.initPoints())}),Io(Co(p),"getAdjustPointStyle",function(){var S=p.props,D=S.graphModel.theme;return S.edgeModel,D.edgeAdjust}),p.state={dragging:!1,endX:0,endY:0},p.targetRuleResults=new Map,p.sourceRuleResults=new Map;var v=c.type,b=c.edgeModel,x=c.graphModel.eventCenter;return p.stepDragData={type:v,edgeData:b.getData()},p.stepDrag=new Do({onDragStart:p.onDragStart,onDragging:p.onDragging,onDragEnd:p.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:p.stepDragData}),p}return e=s,(n=[{key:"isAllowAdjust",value:function(c){var p=this.props,v=p.edgeModel,b=v.id,x=v.sourceNode,S=v.targetNode,D=v.sourceAnchorId,L=v.targetAnchorId,X=p.type,J=null,oe=null,ge=null,be=null;if(X===ra.SOURCE?(J=c.node,oe=S,ge=c.anchor,be=S.getAnchorInfo(L)):(J=x,oe=c.node,be=c.anchor,ge=x.getAnchorInfo(D)),this.preTargetNode&&this.preTargetNode!==c.node&&this.preTargetNode.setElementState(yn.DEFAULT),this.preTargetNode=c.node,be.id===ge.id)return{pass:!1,msg:"",newTargetNode:oe};var xe="".concat(J.id,"_").concat(oe.id,"_").concat(ge.id,"_").concat(be.id);if(!this.targetRuleResults.has(xe)){var Ce=J.isAllowConnectedAsSource(oe,ge,be,b),Ke=oe.isAllowConnectedAsTarget(J,ge,be,b);this.sourceRuleResults.set(xe,vc(Ce)),this.targetRuleResults.set(xe,vc(Ke))}var et=this.sourceRuleResults.get(xe),Ot=et.isAllPass,Ze=et.msg,dt=this.targetRuleResults.get(xe),tt=dt.isAllPass,Qt=dt.msg,on=Ot&&tt?yn.ALLOW_CONNECT:yn.NOT_ALLOW_CONNECT;return X===ra.SOURCE?J.setElementState(on):oe.setElementState(on),{pass:Ot&&tt,msg:Qt||Ze,newTargetNode:oe}}},{key:"render",value:function(){var c=this.props,p=c.x,v=c.y,b=c.getAdjustPointShape,x=c.edgeModel,S=this.state.dragging;return Object(pe.g)("g",{pointerEvents:S?"none":"",onMouseDown:this.handleMouseDown},S?"":b(p,v,x))}}])&&hP(e.prototype,n),s}(pe.a);function Jg(t){return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function fp(){return fp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fp.apply(this,arguments)}function gP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return V_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return V_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qg(t,e){return Qg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Qg(t,e)}function _P(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Dh(t);if(e){var s=Dh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return OP(this,n)}}function OP(t,e){if(e&&(Jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Di(t)}function Di(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dh(t)}function oa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pp=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Qg(c,p)})(s,t);var e,n,r=_P(s);function s(){var c;bP(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return oa(Di(c=r.call.apply(r,[this].concat(v))),"startTime",void 0),oa(Di(c),"contextMenuTime",void 0),oa(Di(c),"clickTimer",void 0),oa(Di(c),"textRef",Object(pe.f)()),oa(Di(c),"handleHover",function(x,S){var D=c.props,L=D.model,X=D.graphModel.eventCenter;L.setHovered(x);var J=x?pt.EDGE_MOUSEENTER:pt.EDGE_MOUSELEAVE,oe=L.getData();X.emit(J,{data:oe,e:S})}),oa(Di(c),"setHoverON",function(x){c.props.model.isHovered||(c.textRef&&c.textRef.current&&c.textRef.current.setHoverON(),c.handleHover(!0,x))}),oa(Di(c),"setHoverOFF",function(x){c.props.model.isHovered&&(c.textRef&&c.textRef.current&&c.textRef.current.setHoverOFF(),c.handleHover(!1,x))}),oa(Di(c),"handleContextMenu",function(x){x.preventDefault(),c.contextMenuTime=new Date().getTime(),c.clickTimer&&clearTimeout(c.clickTimer);var S=c.props,D=S.model,L=S.graphModel,X=L.getPointByClient({x:x.clientX,y:x.clientY});L.setElementStateById(D.id,yn.SHOW_MENU,X.domOverlayPosition),c.toFront(),D.isSelected||L.selectEdgeById(D.id);var J=D==null?void 0:D.getData();L.eventCenter.emit(pt.EDGE_CONTEXTMENU,{data:J,e:x,position:X})}),oa(Di(c),"handleMouseDown",function(x){x.stopPropagation(),c.startTime=new Date().getTime()}),oa(Di(c),"handleMouseUp",function(x){if(c.startTime&&!(new Date().getTime()-c.startTime>200||x.button===2)){var S=x.detail===2,D=c.props,L=D.model,X=D.graphModel,J=L==null?void 0:L.getData(),oe=X.getPointByClient({x:x.clientX,y:x.clientY});if(S){var ge=X.editConfigModel,be=X.textEditElement;if(be&&be.id===L.id&&X.setElementStateById(L.id,yn.DEFAULT),ge.edgeTextEdit&&L.text.editable&&X.setElementStateById(L.id,yn.TEXT_EDIT),L.modelType===qt.POLYLINE_EDGE){var xe=L,Ce=X.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,Ke=Ce.x,et=Ce.y,Ot=Uf({x:Ke,y:et},xe.points);xe.dbClickPosition=Ot}X.eventCenter.emit(pt.EDGE_DBCLICK,{data:J,e:x,position:oe})}else X.eventCenter.emit(pt.ELEMENT_CLICK,{data:J,e:x,position:oe}),X.eventCenter.emit(pt.EDGE_CLICK,{data:J,e:x,position:oe});var Ze=X.editConfigModel;X.selectEdgeById(L.id,ei(x,Ze)),c.toFront()}}),c}return e=s,(n=[{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var c=this.props,p=c.model,v=c.graphModel;if(p.state===yn.TEXT_EDIT)return null;var b=!1,x=v.editConfigModel;return(p.text.draggable||x.edgeTextDraggable)&&(b=!0),Object(pe.g)(lP,{ref:this.textRef,editable:x.edgeTextEdit&&p.text.editable,model:p,graphModel:v,draggable:b})}},{key:"getArrowInfo",value:function(){var c=this.props.model,p=c.startPoint,v=c.endPoint,b=c.isSelected;return{start:p,end:v,hover:this.state.hover,isSelected:b}}},{key:"getLastTwoPoints",value:function(){var c=this.props.model;return[c.startPoint,c.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var c=this.props.model,p=c.id,v=c.getArrowStyle(),b=v.refY,x=b===void 0?0:b,S=v.refX,D=S===void 0?2:S,L=gP(this.getLastTwoPoints(),2),X=L[0],J=L[1],oe="auto";return X!==null&&J!==null&&(oe=Vn(Br({x:J.x-X.x,y:J.y-X.y,z:0}))),Object(pe.g)("g",null,Object(pe.g)("defs",null,Object(pe.g)("marker",{id:"marker-start-".concat(p),refX:-D,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(pe.g)("marker",{id:"marker-end-".concat(p),refX:D,refY:x,overflow:"visible",orient:oe,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var c=this.props.model.getArrowStyle();return c.stroke,c.strokeWidth,c.offset,c.verticalLength,Object(pe.g)("path",null)}},{key:"getEndArrow",value:function(){var c=this.props.model.getArrowStyle(),p=c.stroke,v=c.strokeWidth,b=c.offset,x=c.verticalLength;return Object(pe.g)("path",{stroke:p,fill:p,strokeWidth:v,transform:"rotate(180)",d:"M 0 0 L ".concat(b," -").concat(x," L ").concat(b," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(c,p,v){var b=v.getAdjustPointStyle();return Object(pe.g)(qs,fp({className:"lf-edge-adjust-point"},b,{x:c,y:p}))}},{key:"getAdjustPoints",value:function(){var c=this.props,p=c.model,v=c.graphModel,b=p.getAdjustStart(),x=p.getAdjustEnd();return Object(pe.g)("g",null,Object(pe.g)(Y_,fp({type:"SOURCE"},b,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:p,graphModel:v})),Object(pe.g)(Y_,fp({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:p,graphModel:v})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(pe.g)("g",null)}},{key:"getAppend",value:function(){return Object(pe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var c=this.props,p=c.graphModel,v=c.model;p.toFront(v.id)}},{key:"render",value:function(){var c=this.props,p=c.model,v=p.isSelected,b=p.isHitable,x=p.isShowAdjustPoint;return c.graphModel.animation,Object(pe.g)("g",null,Object(pe.g)("g",{className:["lf-edge",!b&&"pointer-none",v&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&v?this.getAdjustPoints():"")}}])&&mP(e.prototype,n),s}(pe.a);function eb(t){return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(t)}function wP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return K_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return K_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dp=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=wP(n,2),s=r[0],c=r[1],p=eb(c);s!=="style"&&p==="object"||(e[s]=c)}),Object(pe.g)("path",e)};function tb(t){return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(t)}function nb(){return nb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nb.apply(this,arguments)}function xP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rb(t,e){return rb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},rb(t,e)}function SP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Nh(t);if(e){var s=Nh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return jP(this,n)}}function jP(t,e){if(e&&(tb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nh(t)}var ob=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&rb(c,p)})(s,t);var e,n,r=SP(s);function s(){return xP(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getEdge",value:function(){var c=this.props.model,p=c.startPoint,v=c.endPoint,b=c.isAnimation,x=c.arrowConfig,S=c.getEdgeStyle(),D=c.getEdgeAnimationStyle(),L=D.strokeDasharray,X=D.stroke,J=D.strokeDashoffset,oe=D.animationName,ge=D.animationDuration,be=D.animationIterationCount,xe=D.animationTimingFunction,Ce=D.animationDirection;return Object(pe.g)(Vs,nb({},S,{x1:p.x,y1:p.y,x2:v.x,y2:v.y},x,b?{strokeDasharray:L,stroke:X,style:{strokeDashoffset:J,animationName:oe,animationDuration:ge,animationIterationCount:be,animationTimingFunction:xe,animationDirection:Ce}}:{}))}},{key:"getAppendWidth",value:function(){var c=this.props.model,p=c.startPoint,v=c.endPoint,b=Gf({start:p,end:v}),x=b.d,S=b.strokeWidth,D=b.fill,L=b.strokeDasharray,X=b.stroke;return Object(pe.g)(dp,{d:x,fill:D,strokeWidth:S,stroke:X,strokeDasharray:L})}}])&&EP(e.prototype,n),s}(pp);function ib(t){return ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(t)}function PP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return q_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return q_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var AP=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=PP(n,2),s=r[0],c=r[1];(s==="style"||ib(c)!=="object")&&(e[s]=c)}),Object(pe.g)("polyline",e)};function ab(t){return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ab(t)}function Z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z_(Object(n),!0).forEach(function(r){Ca(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ub(){return ub=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(this,arguments)}function MP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return J_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return J_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cb(t,e){return cb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cb(t,e)}function kP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ch(t);if(e){var s=Ch(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return DP(this,n)}}function DP(t,e){if(e&&(ab(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ra(t)}function Ra(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ch(t)}function Ca(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sb=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&cb(c,p)})(s,t);var e,n,r=kP(s);function s(){var c;return function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}(this,s),Ca(Ra(c=r.call(this)),"drag",void 0),Ca(Ra(c),"isDragging",void 0),Ca(Ra(c),"isShowAdjustPointTemp",void 0),Ca(Ra(c),"appendInfo",void 0),Ca(Ra(c),"onDragStart",function(){var p=c.props.model;p.dragAppendStart(),c.isShowAdjustPointTemp=p.isShowAdjustPoint,p.isShowAdjustPoint=!1}),Ca(Ra(c),"onDragging",function(p){var v=p.deltaX,b=p.deltaY,x=c.props,S=x.model,D=x.graphModel;c.isDragging=!0;var L=D.transformModel,X=D.editConfigModel,J=MP(L.fixDeltaXY(v,b),2),oe=J[0],ge=J[1],be=S,xe=X.adjustEdgeMiddle;c.appendInfo=xe?be.dragAppendSimple(c.appendInfo,{x:oe,y:ge}):be.dragAppend(c.appendInfo,{x:oe,y:ge})}),Ca(Ra(c),"onDragEnd",function(){var p=c.props,v=p.model,b=p.graphModel.eventCenter,x=v;x.dragAppendEnd(),c.isDragging=!1,x.isShowAdjustPoint=c.isShowAdjustPointTemp,c.appendInfo=void 0,b.emit(pt.EDGE_ADJUST,{data:x.getData()})}),Ca(Ra(c),"beforeDragStart",function(p,v){v.dragAble&&c.drag.handleMouseDown(p),c.appendInfo=v}),c.drag=new Do({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,isStopPropagation:!1}),c}return e=s,(n=[{key:"getEdge",value:function(){var c=this.props.model,p=c.points,v=c.isAnimation,b=c.arrowConfig,x=c.getEdgeStyle(),S=c.getEdgeAnimationStyle(),D=S.strokeDasharray,L=S.stroke,X=S.strokeDashoffset,J=S.animationName,oe=S.animationDuration,ge=S.animationIterationCount,be=S.animationTimingFunction,xe=S.animationDirection;return Object(pe.g)(AP,ub({points:p},x,b,v?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:X,animationName:J,animationDuration:oe,animationIterationCount:ge,animationTimingFunction:be,animationDirection:xe}}:{}))}},{key:"getArrowInfo",value:function(){var c=this.props.model,p=c.points,v=c.isSelected,b={start:null,end:null,hover:this.state.hover,isSelected:v},x=Zi(p);return x.length>=2&&(b.start=x[x.length-2],b.end=x[x.length-1]),b}},{key:"getLastTwoPoints",value:function(){var c=this.props.model.points,p=Zi(c);return p.length>=2?[p[p.length-2],p[p.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(c){var p,v=c.start,b=c.end;if(v.x===b.x&&v.y===b.y)p="";else{var x={start:v,end:b,offset:10,verticalLength:5},S=mc(Rh(Rh({},x),{},{type:"start"})),D=mc(Rh(Rh({},x),{},{type:"end"}));p="M".concat(S.leftX," ").concat(S.leftY,` 
      L`).concat(S.rightX," ").concat(S.rightY,` 
      L`).concat(D.rightX," ").concat(D.rightY,`
      L`).concat(D.leftX," ").concat(D.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(c){var p=this.getAppendAttributes(c),v=p.d,b=p.strokeWidth,x=p.fill,S=p.strokeDasharray,D=p.stroke;return Object(pe.g)(dp,{d:v,fill:x,strokeWidth:b,stroke:D,strokeDasharray:S})}},{key:"getAppendWidth",value:function(){for(var c=this,p=this.props,v=p.model,b=p.graphModel,x=v.pointsList,S=v.draggable,D=[],L=x.length,X=function(oe){var ge="lf-polyline-append",be={start:{x:x[oe].x,y:x[oe].y},end:{x:x[oe+1].x,y:x[oe+1].y},startIndex:oe,endIndex:oe+1,direction:"",dragAble:!0},xe=Object(pe.g)("g",{className:ge},c.getAppendShape(be)),Ce=b.editConfigModel,Ke=Ce.adjustEdge,et=Ce.adjustEdgeMiddle;if(Ke&&S){var Ot=be.startIndex,Ze=be.endIndex,dt=et&&(Ot===0||Ze===L-1);be.dragAble=!dt,be.start.x===be.end.x?(be.dragAble&&(ge+="-ew-resize"),be.direction=jn.VERTICAL):be.start.y===be.end.y&&(be.dragAble&&(ge+="-ns-resize"),be.direction=jn.HORIZONTAL),xe=Object(pe.g)("g",{className:c.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(tt){return c.beforeDragStart(tt,be)}},Object(pe.g)("g",{className:ge},c.getAppendShape(be)))}D.push(xe)},J=0;J<L-1;J++)X(J);return Object(pe.g)("g",null,D)}}])&&TP(e.prototype,n),s}(pp);function lb(t){return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(t)}function NP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Q_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Q_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fb(){return fb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fb.apply(this,arguments)}function RP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pb(t,e){return pb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pb(t,e)}function IP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ih(t);if(e){var s=Ih(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return LP(this,n)}}function LP(t,e){if(e&&(lb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ih(t){return Ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ih(t)}var db=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&pb(c,p)})(s,t);var e,n,r=IP(s);function s(){return RP(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getEdge",value:function(){var c=this.props.model,p=c.getEdgeStyle(),v=c.path,b=c.isAnimation,x=c.arrowConfig,S=c.getEdgeAnimationStyle(),D=S.strokeDasharray,L=S.stroke,X=S.strokeDashoffset,J=S.animationName,oe=S.animationDuration,ge=S.animationIterationCount,be=S.animationTimingFunction,xe=S.animationDirection;return Object(pe.g)(dp,fb({d:v},p,x,b?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:X,animationName:J,animationDuration:oe,animationIterationCount:ge,animationTimingFunction:be,animationDirection:xe}}:{}))}},{key:"getAppendWidth",value:function(){var c=this.props.model.path;return Object(pe.g)(dp,{d:c,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var c=this.props.model,p=this.state.hover,v=c.isSelected,b=c.getArrowStyle().offset,x=c.pointsList.map(function(D){return{x:D.x,y:D.y}}),S=NP(Fs(x,b),2);return{start:S[0],end:S[1],hover:p,isSelected:v}}},{key:"getLastTwoPoints",value:function(){var c=this.props.model,p=c.getArrowStyle().offset,v=c.pointsList.map(function(b){return{x:b.x,y:b.y}});return Fs(v,p)}}])&&CP(e.prototype,n),s}(pp);function hb(t){return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(t)}function e1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function BP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yb(t,e){return yb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yb(t,e)}function $P(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Lh(t);if(e){var s=Lh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return WP(this,n)}}function WP(t,e){if(e&&(hb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Lh(t){return Lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lh(t)}var GP=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&yb(c,p)})(s,t);var e,n,r=$P(s);function s(){return zP(this,s),r.apply(this,arguments)}return e=s,n=[{key:"getArrowAttributes",value:function(){var c=this.props,p=c.arrowInfo,v=c.style,b=p.start,x=p.end,S={start:b,end:x,offset:v.offset,verticalLength:v.verticalLength,type:"end"},D=mc(S),L=D.leftX,X=D.leftY,J=D.rightX,oe=D.rightY;return function(ge){for(var be=1;be<arguments.length;be++){var xe=arguments[be]!=null?arguments[be]:{};be%2?e1(Object(xe),!0).forEach(function(Ce){BP(ge,Ce,xe[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(xe)):e1(Object(xe)).forEach(function(Ce){Object.defineProperty(ge,Ce,Object.getOwnPropertyDescriptor(xe,Ce))})}return ge}({d:"M".concat(L," ").concat(X," L").concat(x.x," ").concat(x.y," L").concat(J," ").concat(oe," z")},v)}},{key:"getShape",value:function(){var c=this.getArrowAttributes(),p=c.d,v=c.strokeWidth,b=c.stroke,x=c.fill;return Object(pe.g)(dp,{d:p,fill:x,strokeWidth:v,stroke:b})}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&FP(e.prototype,n),s}(pe.a),t1=function(t,e){return Se(t,e)},UP=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},vb=function(){return ft.a.Date.now()},HP=/\s/,XP=function(t){for(var e=t.length;e--&&HP.test(t.charAt(e)););return e},YP=/^\s+/,VP=function(t){return t&&t.slice(0,XP(t)+1).replace(YP,"")},KP=/^[-+]0x[0-9a-f]+$/i,qP=/^0b[01]+$/i,ZP=/^0o[0-7]+$/i,JP=parseInt,n1=function(t){if(typeof t=="number")return t;if($t(t))return NaN;if(Bn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Bn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=VP(t);var n=qP.test(t);return n||ZP.test(t)?JP(t.slice(2),n?2:8):KP.test(t)?NaN:+t},QP=Math.max,eA=Math.min,tA=function(t,e,n){var r,s,c,p,v,b,x=0,S=!1,D=!1,L=!0;if(typeof t!="function")throw new TypeError("Expected a function");function X(Ce){var Ke=r,et=s;return r=s=void 0,x=Ce,p=t.apply(et,Ke)}function J(Ce){return x=Ce,v=setTimeout(ge,e),S?X(Ce):p}function oe(Ce){var Ke=Ce-b;return b===void 0||Ke>=e||Ke<0||D&&Ce-x>=c}function ge(){var Ce=vb();if(oe(Ce))return be(Ce);v=setTimeout(ge,function(Ke){var et=e-(Ke-b);return D?eA(et,c-(Ke-x)):et}(Ce))}function be(Ce){return v=void 0,L&&r?X(Ce):(r=s=void 0,p)}function xe(){var Ce=vb(),Ke=oe(Ce);if(r=arguments,s=this,b=Ce,Ke){if(v===void 0)return J(b);if(D)return clearTimeout(v),v=setTimeout(ge,e),X(b)}return v===void 0&&(v=setTimeout(ge,e)),p}return e=n1(e)||0,Bn(n)&&(S=!!n.leading,c=(D="maxWait"in n)?QP(n1(n.maxWait)||0,e):c,L="trailing"in n?!!n.trailing:L),xe.cancel=function(){v!==void 0&&clearTimeout(v),x=0,r=b=s=v=void 0},xe.flush=function(){return v===void 0?p:be(vb())},xe},nA=o(172);function rA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Au(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r1,o1,i1,oA=function(){function t(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Au(this,"undos",[]),Au(this,"redos",[]),Au(this,"callbacks",[]),Au(this,"stopWatch",null),Au(this,"curData",null),Au(this,"maxSize",50),Au(this,"waitTime",100),Au(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){t1(UP(this.undos),r)||(this.undos.push(r),t1(this.curData,r)||(this.redos=[]),this.eventCenter.emit(pt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var s=this.undos.pop();return this.curData=Cn(s),s}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Cn(r),r}}},{key:"watch",value:function(r){var s=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(nA.a)(r,tA(function(){var c=r.modelToHistoryData();c&&s.add(c)},this.waitTime))}}])&&rA(e.prototype,n),t}();function gb(t){return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gb(t)}function iA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return a1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return a1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(n),!0).forEach(function(r){Cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bb(t,e){return bb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bb(t,e)}function aA(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Bh(t);if(e){var s=Bh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return uA(this,n)}}function uA(t,e){if(e&&(gb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ul(t)}function ul(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bh(t)}function Cc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s1,l1,f1,mb=Ni((i1=o1=function(t){(function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),v&&bb(p,v)})(c,t);var e,n,r,s=aA(c);function c(){var p;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,c),Cc(ul(p=s.call(this)),"ref",Object(pe.f)()),Cc(ul(p),"__prevText",{type:"",text:"",id:""}),Cc(ul(p),"keyupHandler",function(v){var b=p.props.graphModel.textEditElement;v.key==="Enter"&&v.altKey&&b.setElementState(0)}),Cc(ul(p),"inputHandler",function(v){var b=v.target.innerText,x=p.props.graphModel.textEditElement;p.__prevText={type:x.type,text:b.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}}),Cc(ul(p),"keydownHandler",function(v){v.stopPropagation()}),p.state={style:{left:0,top:0}},p}return e=c,r=[{key:"getDerivedStateFromProps",value:function(p){var v,b=p.graphModel,x=b.transformModel,S=b.theme,D=S.inputText,L=b.textEditElement;if(L){var X;if((X=L.text)===null||X===void 0||!X.value)if(L.BaseType===Qn.EDGE){var J=(L=L).text,oe=L.textPosition,ge=oe.x,be=oe.y;J.x=ge,J.y=be,L.setText(J)}else L=L;var xe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(L.BaseType===Qn.EDGE){var Ce=S.edgeText,Ke=Ce.overflowMode,et=Ce.lineHeight,Ot=Ce.wrapPadding,Ze=Ce.textWidth;Ze&&Ke==="autoWrap"&&(v=Rc(Rc({},xe),{},{width:Ze,minWidth:Ze,lineHeight:et,padding:Ot}))}else if(L.BaseType===Qn.NODE){var dt=S.nodeText,tt=dt.overflowMode,Qt=dt.lineHeight,on=dt.wrapPadding,Rt=dt.textWidth,ln=L,er=ln.width,tr=ln.modelType,$r=ln.textWidth||Rt||er;(tr!==qt.TEXT_NODE&&tt==="autoWrap"||tr===qt.TEXT_NODE&&Rt)&&(v=Rc(Rc({},xe),{},{width:$r,minWidth:$r,lineHeight:Qt,padding:on}))}var Lo=L.text,Bo=Lo.x,ia=Lo.y,Ic=iA(x.CanvasPointToHtmlPoint([Bo,ia]),2);return{style:Rc(Rc({left:Ic[0],top:Ic[1]},v),D)}}}}],(n=[{key:"componentDidUpdate",value:function(){var p=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var v=this.__prevText,b=v.text,x=v.id;p.updateText(x,b),p.eventCenter.emit(pt.TEXT_UPDATE,Rc({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(p){if(window.getSelection!==void 0&&document.createRange!==void 0){var v=document.createRange();v.selectNodeContents(p),v.collapse(!1);var b=window.getSelection();b.removeAllRanges(),b.addRange(v)}}},{key:"render",value:function(){var p,v=this.props.graphModel.textEditElement,b=this.state.style;return v?Object(pe.g)("div",{contentEditable:!0,className:"lf-text-input",style:b,ref:this.ref,key:v.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(p=v.text)===null||p===void 0?void 0:p.value):null}}])&&c1(e.prototype,n),r&&c1(e,r),c}(pe.a),Cc(o1,"toolName","textEdit"),r1=i1))||r1,cA=function(t){return t.modelType===qt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,s=(n.x+r.x)/2,c=(n.y+r.y)/2,p=Math.abs(n.x-r.x)+10,v=Math.abs(n.y-r.y)+10;return{x:s-p/2,y:c-v/2,x1:s+p/2,y1:c+v/2}}(t):t.modelType===qt.POLYLINE_EDGE?function(e){var n=e.points,r=Zi(n),s=_u(r,8),c=s.x,p=s.y,v=s.width,b=s.height;return{x:c-v/2,y:p-b/2,x1:c+v/2,y1:p+b/2}}(t):t.modelType===qt.BEZIER_EDGE?function(e){var n=e.path,r=zs(n),s=_u(r,8),c=s.x,p=s.y,v=s.width,b=s.height;return{x:c-v/2,y:p-b/2,x1:c+v/2,y1:p+b/2}}(t):void 0};function _b(t){return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}function p1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||d1(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sA(t){return function(e){if(Array.isArray(e))return Ob(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||d1(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d1(t,e){if(t){if(typeof t=="string")return Ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ob(t,e):void 0}}function Ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wb(t,e){return wb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wb(t,e)}function fA(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=zh(t);if(e){var s=zh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return pA(this,n)}}function pA(t,e){if(e&&(_b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hp(t)}function hp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zh(t)}function yp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xb=Ni((f1=l1=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&wb(c,p)})(s,t);var e,n,r=fA(s);function s(c){var p;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,s),yp(hp(p=r.call(this)),"stepDrag",void 0),yp(hp(p),"handleMouseDown",function(S){p.stepDrag.handleMouseDown(S)}),yp(hp(p),"onDragging",function(S){var D=S.deltaX,L=S.deltaY,X=p.props.graphModel,J=X.getSelectElements(!0);X.moveNodes(J.nodes.map(function(oe){return oe.id}),D,L)}),yp(hp(p),"handleContextMenu",function(S){S.preventDefault();var D=p.props,L=D.graphModel,X=D.graphModel,J=X.eventCenter,oe=X.selectElements,ge=L.getPointByClient({x:S.clientX,y:S.clientY}),be={nodes:[],edges:[]};sA(oe.values()).forEach(function(xe){xe.BaseType===Qn.NODE&&be.nodes.push(xe.getData()),xe.BaseType===Qn.EDGE&&be.edges.push(xe.getData())}),J.emit(pt.SELECTION_CONTEXTMENU,{data:be,e:S,position:ge})});var v=c.graphModel,b=v.gridSize,x=v.eventCenter;return p.stepDrag=new Do({onDragging:p.onDragging,step:b,eventType:"SELECTION",eventCenter:x}),p}return e=s,(n=[{key:"render",value:function(){var c=this.props.graphModel,p=c.selectElements,v=c.transformModel;if(!(p.size<=1)){var b=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;p.forEach(function(oe){var ge={x:0,y:0,x1:0,y1:0};oe.BaseType===Qn.NODE&&(ge=function(be){var xe=be.x,Ce=be.y,Ke=be.width,et=be.height;return{x:xe-Ke/2,y:Ce-et/2,x1:xe+Ke/2,y1:Ce+et/2}}(oe)),oe.BaseType===Qn.EDGE&&(ge=cA(oe)),b=Math.min(b,ge.x),x=Math.min(x,ge.y),S=Math.max(S,ge.x1),D=Math.max(D,ge.y1)});var L=p1(v.CanvasPointToHtmlPoint([b,x]),2);b=L[0],x=L[1];var X=p1(v.CanvasPointToHtmlPoint([S,D]),2);S=X[0],D=X[1];var J={left:"".concat(b-10,"px"),top:"".concat(x-10,"px"),width:"".concat(S-b+20,"px"),height:"".concat(D-x+20,"px")};return Object(pe.g)("div",{className:"lf-multiple-select",style:J,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&lA(e.prototype,n),s}(pe.a),yp(l1,"toolName","multipleSelect"),s1=f1))||s1;function dA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hA=function(){function t(r){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Fh(this,"tools",void 0),Fh(this,"components",void 0),Fh(this,"toolMap",new Map),Fh(this,"instance",void 0),this.instance=r,this.isDisabledTool(mb.toolName)||this.registerTool(mb.toolName,mb),this.isDisabledTool(xb.toolName)||this.registerTool(xb.toolName,xb);var s=r.graphModel;s.eventCenter.on("".concat(pt.GRAPH_TRANSFORM,",").concat(pt.NODE_CLICK,",").concat(pt.BLANK_CLICK," "),function(){var c=s.textEditElement,p=s.editConfigModel,v=p.edgeTextEdit,b=p.nodeTextEdit;(v||b)&&c&&s.textEditElement.setElementState(yn.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,s){this.toolMap.set(r,s)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&dA(e.prototype,n),t}(),yA=o(173),vA=o.n(yA);function gA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h1=function(){function t(r){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Eb(this,"mousetrap",void 0),Eb(this,"options",void 0),Eb(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var s=r.lf;this.target=s.container,this.mousetrap=new vA.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,s=this.options.keyboard.shortcuts;if(s)if(wn(s))s.forEach(function(b){var x=b.keys,S=b.callback,D=b.action;return r.on(x,S,D)});else{var c=s.keys,p=s.callback,v=s.action;this.on(c,p,v)}}},{key:"on",value:function(r,s,c){this.mousetrap.bind(this.getKeys(r),s,c)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,s){this.mousetrap.unbind(this.getKeys(r),s)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var s=this;return(Array.isArray(r)?r:[r]).map(function(c){return s.formatKey(c)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&gA(e.prototype,n),t}(),bA=h1,Ia=null;function y1(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function v1(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var cl=40,Sb=40;function jb(t){return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(n),!0).forEach(function(r){qn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pb=Symbol("plugin register by Logicflow.use"),Ab=function(){function t(s){var c,p,v=this;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),qn(this,"container",void 0),qn(this,"width",void 0),qn(this,"height",void 0),qn(this,"graphModel",void 0),qn(this,"history",void 0),qn(this,"viewMap",new Map),qn(this,"tool",void 0),qn(this,"keyboard",void 0),qn(this,"dnd",void 0),qn(this,"options",void 0),qn(this,"snaplineModel",void 0),qn(this,"components",[]),qn(this,"plugins",void 0),qn(this,"extension",{}),qn(this,"adapterIn",void 0),qn(this,"adapterOut",void 0),qn(this,"getView",function(b){return v.viewMap.get(b)}),s=d0(s),this.options=s,this.container=this.initContainer(s.container),this.plugins=s.plugins,this.graphModel=new Ys(vp({},s)),this.tool=new hA(this),this.history=new oA(this.graphModel.eventCenter),this.dnd=new dS({lf:this}),this.keyboard=new bA({lf:this,keyboard:s.keyboard}),s.snapline!==!1&&(this.snaplineModel=new P_(this.graphModel),c=this.graphModel.eventCenter,p=this.snaplineModel,c.on("node:mousemove",function(b){var x=b.data;p.setNodeSnapLine(x)}),c.on("node:mouseup",function(){p.clearSnapline()})),this.options.isSilentMode||(function(b,x){var S=b.keyboard,D=S.options.keyboard;S.on(["cmd + c","ctrl + c"],function(){if(Sb=cl,!D.enabled||x.textEditElement)return!0;var L=b.options.guards,X=x.getSelectElements(!1);return L&&L.beforeClone&&!L.beforeClone(X)||X.nodes.length===0&&X.edges.length===0?(Ia=null,!0):((Ia=X).nodes.forEach(function(J){return y1(J,cl)}),Ia.edges.forEach(function(J){return v1(J,cl)}),!1)}),S.on(["cmd + v","ctrl + v"],function(){if(!D.enabled||x.textEditElement)return!0;if(Ia&&(Ia.nodes||Ia.edges)){b.clearSelectElements();var L=b.addElements(Ia,Sb);if(!L)return!0;L.nodes.forEach(function(X){return b.selectElementById(X.id,!0)}),L.edges.forEach(function(X){return b.selectElementById(X.id,!0)}),Ia.nodes.forEach(function(X){return y1(X,cl)}),Ia.edges.forEach(function(X){return v1(X,cl)}),Sb+=cl}return!1}),S.on(["cmd + z","ctrl + z"],function(){return!D.enabled||!!x.textEditElement||(b.undo(),!1)}),S.on(["cmd + y","ctrl + y"],function(){return!D.enabled||!!x.textEditElement||(b.redo(),!1)}),S.on(["backspace"],function(){if(!D.enabled||x.textEditElement)return!0;var L=x.getSelectElements(!0);return b.clearSelectElements(),L.edges.forEach(function(X){return b.deleteEdge(X.id)}),L.nodes.forEach(function(X){return b.deleteNode(X.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts()),this.defaultRegister(),this.installPlugins(s.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(s,c){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof s=="string"){var v={BaseEdge:pp,BaseEdgeModel:Of,BaseNode:Da,BaseNodeModel:ka,RectNode:mg,RectNodeModel:qv,CircleNode:xg,CircleNodeModel:kv,PolygonNode:Ag,PolygonNodeModel:Xv,TextNode:Fg,TextNodeModel:eg,LineEdge:ob,LineEdgeModel:wa,DiamondNode:Dg,DiamondNodeModel:Iv,PolylineEdge:sb,PolylineEdgeModel:Cs,BezierEdge:db,BezierEdgeModel:Sv,EllipseNode:Lg,EllipseNodeModel:Fv,HtmlNode:Ug,HtmlNodeModel:rg,h:pe.g,type:s};this.viewMap.forEach(function(L){var X=L.extendKey;X&&(v[X]=L)}),this.graphModel.modelMap.forEach(function(L){var X=L.extendKey;X&&(v[X]=L)});var b=c(v),x=b.view,S=b.model,D=x;p&&!D.isObervered&&(D.isObervered=!0,D=ct(D)),this.setView(s,D),this.graphModel.setModel(s,S)}else this.registerElement(s)}},{key:"registerElement",value:function(s){var c=s.view;s.isObserverView===!1||c.isObervered||(c.isObervered=!0,c=ct(c)),this.setView(s.type,c),this.graphModel.setModel(s.type,s.model)}},{key:"batchRegister",value:function(){var s=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c.forEach(function(p){s.registerElement(p)})}},{key:"defaultRegister",value:function(){this.registerElement({view:mg,model:qv,type:"rect"}),this.registerElement({type:"circle",view:xg,model:kv}),this.registerElement({type:"polygon",view:Ag,model:Xv}),this.registerElement({type:"line",view:ob,model:wa}),this.registerElement({type:"polyline",view:sb,model:Cs}),this.registerElement({type:"bezier",view:db,model:Sv}),this.registerElement({type:"text",view:Fg,model:eg}),this.registerElement({type:"ellipse",view:Lg,model:Fv}),this.registerElement({type:"diamond",view:Dg,model:Iv}),this.registerElement({type:"html",view:Ug,model:rg})}},{key:"selectElementById",value:function(s){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(s,c),!c&&p&&this.graphModel.toFront(s)}},{key:"focusOn",value:function(s){var c=this.graphModel.transformModel,p=s.coordinate,v=s.id;if(!p){var b=this.getNodeModelById(v);b&&(p=b.getData());var x=this.getEdgeModelById(v);x&&(p=x.textPosition)}var S=p,D=S.x,L=S.y;c.focusOn(D,L,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(s){this.graphModel.setTheme(s)}},{key:"resize",value:function(s,c){this.graphModel.resize(s,c),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(s){this.graphModel.setDefaultEdgeType(s)}},{key:"updateText",value:function(s,c){this.graphModel.updateText(s,c)}},{key:"deleteElement",value:function(s){var c,p,v,b=this.getModelById(s);return!!b&&(p=(v=(qn(c={},Qn.NODE,this.deleteNode),qn(c,Qn.EDGE,this.deleteEdge),c)[b.BaseType])===null||v===void 0?void 0:v.call(this,s))!==null&&p!==void 0&&p}},{key:"getModelById",value:function(s){return this.graphModel.getElement(s)}},{key:"getDataById",value:function(s){var c;return(c=this.graphModel.getElement(s))===null||c===void 0?void 0:c.getData()}},{key:"changeNodeType",value:function(s,c){this.graphModel.changeNodeType(s,c)}},{key:"changeEdgeType",value:function(s,c){this.graphModel.changeEdgeType(s,c)}},{key:"getNodeEdges",value:function(s){return this.graphModel.getNodeEdges(s)}},{key:"addNode",value:function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,p=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(s,c,p)}},{key:"deleteNode",value:function(s){var c=this.graphModel.getNodeModelById(s);if(!c)return!1;var p=c.getData(),v=this.options.guards,b=!v||!v.beforeDelete||v.beforeDelete(p);return b&&this.graphModel.deleteNode(s),b}},{key:"cloneNode",value:function(s){var c=this.graphModel.getNodeModelById(s).getData(),p=this.options.guards;if(!p||!p.beforeClone||p.beforeClone(c))return this.graphModel.cloneNode(s)}},{key:"changeNodeId",value:function(s,c){return this.graphModel.changeNodeId(s,c)}},{key:"getNodeModelById",value:function(s){return this.graphModel.getNodeModelById(s)}},{key:"getNodeDataById",value:function(s){var c;return(c=this.graphModel.getNodeModelById(s))===null||c===void 0?void 0:c.getData()}},{key:"addEdge",value:function(s){return this.graphModel.addEdge(s)}},{key:"deleteEdge",value:function(s){var c=this.options.guards,p=this.graphModel.edgesMap[s];if(!p)return!1;var v=p.model.getData(),b=!c||!c.beforeDelete||c.beforeDelete(v);return b&&this.graphModel.deleteEdgeById(s),b}},{key:"deleteEdgeByNodeId",value:function(s){var c=s.sourceNodeId,p=s.targetNodeId;c&&p?this.graphModel.deleteEdgeBySourceAndTarget(c,p):c?this.graphModel.deleteEdgeBySource(c):p&&this.graphModel.deleteEdgeByTarget(p)}},{key:"changeEdgeId",value:function(s,c){return this.graphModel.changeEdgeId(s,c)}},{key:"getEdgeModelById",value:function(s){var c;return(c=this.graphModel.edgesMap[s])===null||c===void 0?void 0:c.model}},{key:"getEdgeModels",value:function(s){var c=this.graphModel.edges,p=s.sourceNodeId,v=s.targetNodeId;if(p&&v){var b=[];return c.forEach(function(D){D.sourceNodeId===p&&D.targetNodeId===v&&b.push(D)}),b}if(p){var x=[];return c.forEach(function(D){D.sourceNodeId===p&&x.push(D)}),x}if(v){var S=[];return c.forEach(function(D){D.targetNodeId===v&&S.push(D)}),S}return[]}},{key:"getEdgeDataById",value:function(s){var c;return(c=this.getEdgeModelById(s))===null||c===void 0?void 0:c.getData()}},{key:"getNodeIncomingEdge",value:function(s){return this.graphModel.getNodeIncomingEdge(s)}},{key:"getNodeOutgoingEdge",value:function(s){return this.graphModel.getNodeOutgoingEdge(s)}},{key:"getNodeIncomingNode",value:function(s){return this.graphModel.getNodeIncomingNode(s)}},{key:"getNodeOutgoingNode",value:function(s){return this.graphModel.getNodeOutgoingNode(s)}},{key:"editText",value:function(s){this.graphModel.editText(s)}},{key:"setProperties",value:function(s,c){var p;(p=this.graphModel.getElement(s))===null||p===void 0||p.setProperties(An(c))}},{key:"deleteProperty",value:function(s,c){var p;(p=this.graphModel.getElement(s))===null||p===void 0||p.deleteProperty(c)}},{key:"getProperties",value:function(s){var c;return(c=this.graphModel.getElement(s))===null||c===void 0?void 0:c.getProperties()}},{key:"toFront",value:function(s){this.graphModel.toFront(s)}},{key:"setElementZIndex",value:function(s,c){return this.graphModel.setElementZIndex(s,c)}},{key:"addElements",value:function(s){for(var c=this,p=s.nodes,v=s.edges,b={},x={nodes:[],edges:[]},S=0;S<p.length;S++){var D=p[S],L=D.id,X=this.addNode(D);if(!X)return;L&&(b[L]=X.id),x.nodes.push(X)}return v.forEach(function(J){var oe=J.sourceNodeId,ge=J.targetNodeId;b[oe]&&(oe=b[oe]),b[ge]&&(ge=b[ge]);var be=c.graphModel.addEdge(vp(vp({},J),{},{sourceNodeId:oe,targetNodeId:ge}));x.edges.push(be)}),x}},{key:"getAreaElement",value:function(s,c){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(s,c,p,v,b).map(function(x){return x.getData()})}},{key:"getSelectElements",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(s)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var s=this.graphModel.modelToGraphData();if(this.adapterOut){for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];return this.adapterOut.apply(this,[s].concat(p))}return s}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(s){this.graphModel.editConfigModel.updateEditConfig(s)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(s,c){return this.graphModel.getPointByClient({x:s,y:c})}},{key:"undo",value:function(){if(this.history.undoAble()){var s=An(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(s)}}},{key:"redo",value:function(){if(this.history.redoAble()){var s=An(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(s)}}},{key:"zoom",value:function(s,c){return this.graphModel.transformModel.zoom(s,c)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(s){this.graphModel.transformModel.setZoomMiniSize(s)}},{key:"setZoomMaxSize",value:function(s){this.graphModel.transformModel.setZoomMaxSize(s)}},{key:"getTransform",value:function(){var s=this.graphModel.transformModel;return{SCALE_X:s.SCALE_X,SCALE_Y:s.SCALE_Y,TRANSLATE_X:s.TRANSLATE_X,TRANSLATE_Y:s.TRANSLATE_Y}}},{key:"translate",value:function(s,c){this.graphModel.transformModel.translate(s,c)}},{key:"resetTranslate",value:function(){var s=this.graphModel.transformModel,c=s.TRANSLATE_X,p=s.TRANSLATE_Y;this.translate(-c,-p)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(s,c){c===void 0&&(c=s),this.graphModel.fitView(s,c)}},{key:"openEdgeAnimation",value:function(s){this.graphModel.openEdgeAnimation(s)}},{key:"closeEdgeAnimation",value:function(s){this.graphModel.closeEdgeAnimation(s)}},{key:"on",value:function(s,c){this.graphModel.eventCenter.on(s,c)}},{key:"off",value:function(s,c){this.graphModel.eventCenter.off(s,c)}},{key:"once",value:function(s,c){this.graphModel.eventCenter.once(s,c)}},{key:"emit",value:function(s,c){this.graphModel.eventCenter.emit(s,c)}},{key:"initContainer",value:function(s){var c=document.createElement("div");return c.style.position="relative",c.style.width="100%",c.style.height="100%",s.innerHTML="",s.appendChild(c),c}},{key:"installPlugins",value:function(){var s,c=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=(s=this.plugins)!==null&&s!==void 0?s:t.extensions;v.forEach(function(b){var x=null,S=null;b[Pb]?(x=b.extension,S=b.props):x=b;var D=x.pluginName||x.name;p.indexOf(D)===-1&&c.installPlugin(x,S)})}},{key:"installPlugin",value:function(s,c){if(jb(s)==="object"){var p=s.install,v=s.render;return p&&p.call(s,this,t),v&&this.components.push(v.bind(s)),void(this.extension[s.pluginName]=s)}var b=s,x=new b({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:c});x.render&&this.components.push(x.render.bind(x)),this.extension[b.pluginName]=x}},{key:"updateAttributes",value:function(s,c){this.graphModel.updateAttributes(s,c)}},{key:"createFakerNode",value:function(s){var c=this.graphModel.modelMap.get(s.type);if(c){var p=new c(vp(vp({},s),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(p),p}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(s){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(s)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(s,c){this.viewMap.set(s,c)}},{key:"renderRawData",value:function(s){this.graphModel.graphDataToModel(An(s)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(pe.j)(Object(pe.g)(fS,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(pt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(s=this.adapterIn(s)),this.renderRawData(s)}}],r=[{key:"use",value:function(s,c){var p,v,b=s.pluginName;b||(b=s.name);var x=(p=this.extensions.get(b))===null||p===void 0?void 0:p.extension;x&&x.destroy&&x.destroy(),this.extensions.set(b,(qn(v={},Pb,Pb),qn(v,"extension",s),qn(v,"props",c),v))}}],n&&b1(e.prototype,n),r&&b1(e,r),t}();function Ni(t){return ct(t)}qn(Ab,"extensions",new Map),f.default=Ab}])})})(Xb,Xb.exports);var rt=Xb.exports;const Hh=b2(rt),Z4=[{type:"bpmn:startEvent",text:"开始",class:"bpmn-start"},{type:"bpmn:endEvent",text:"结束",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"网关",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"用户",class:"bpmn-user"}];var J4=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var f=Math.random()*16|0,o=a==="x"?f:f&3|8;return o.toString(16)});return u},i.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},i}(),Q4=(globalThis==null?void 0:globalThis._ids)||new J4;function Al(){return Q4.next()}var Xx=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),e8=function(i){Xx(u,i);function u(a,f){var o=this;return a.id||(a.id="Event_"+Al()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=i.call(this,a,f)||this,o}return u.prototype.setAttributes=function(){this.r=18},u.prototype.getConnectedTargetRules=function(){var a=i.prototype.getConnectedTargetRules.call(this),f={message:"起始节点不能作为边的终点",validate:function(){return!1}};return a.push(f),a},u.extendKey="StartEventModel",u}(rt.CircleNodeModel),t8=function(i){Xx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.extendKey="StartEventNode",u}(rt.CircleNode),n8={type:"bpmn:startEvent",view:t8,model:e8},Yx=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),ty=function(){return ty=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},ty.apply(this,arguments)},r8=function(i){Yx(u,i);function u(a,f){var o=this;return a.id||(a.id="Event_"+Al()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=i.call(this,a,f)||this,o}return u.prototype.setAttributes=function(){this.r=18},u.prototype.getConnectedSourceRules=function(){var a=i.prototype.getConnectedSourceRules.call(this),f={message:"结束节点不能作为边的起点",validate:function(){return!1}};return a.push(f),a},u.extendKey="EndEventModel",u}(rt.CircleNodeModel),o8=function(i){Yx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},u.prototype.getShape=function(){var a=this.props.model,f=a.getNodeStyle(),o=a.x,d=a.y,h=a.r,m=i.prototype.getShape.call(this);return rt.h("g",{},m,rt.h("circle",ty(ty({},f),{cx:o,cy:d,r:h-5})))},u.extendKey="EndEventView",u}(rt.CircleNode),i8={type:"bpmn:endEvent",view:o8,model:r8},Vx=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),wp=function(){return wp=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},wp.apply(this,arguments)},a8=function(i){Vx(u,i);function u(a,f){var o=this;return a.id||(a.id="Gateway_"+Al()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=i.call(this,a,f)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return u.extendKey="ExclusiveGatewayModel",u}(rt.PolygonNodeModel),u8=function(i){Vx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getShape=function(){var a=this.props.model,f=a.x,o=a.y,d=a.width,h=a.height,m=a.points,g=a.getNodeStyle();return rt.h("g",{transform:"matrix(1 0 0 1 "+(f-d/2)+" "+(o-h/2)+")"},rt.h("polygon",wp(wp({},g),{x:f,y:o,points:m})),rt.h("path",wp({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},u.extendKey="ExclusiveGatewayNode",u}(rt.PolygonNode),c8={type:"bpmn:exclusiveGateway",view:u8,model:a8},Kx=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),ny=function(){return ny=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},ny.apply(this,arguments)},s8=function(i){Kx(u,i);function u(a,f){var o=this;return a.id||(a.id="Activity_"+Al()),o=i.call(this,a,f)||this,o}return u.extendKey="UserTaskModel",u}(rt.RectNodeModel),l8=function(i){Kx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getLabelShape=function(){var a=this.props.model,f=a.x,o=a.y,d=a.width,h=a.height,m=a.getNodeStyle();return rt.h("svg",{x:f-d/2+5,y:o-h/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},rt.h("path",{fill:m.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},u.prototype.getShape=function(){var a=this.props.model,f=a.x,o=a.y,d=a.width,h=a.height,m=a.radius,g=a.getNodeStyle();return rt.h("g",{},[rt.h("rect",ny(ny({},g),{x:f-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h})),this.getLabelShape()])},u.extendKey="UserTaskNode",u}(rt.RectNode),f8={type:"bpmn:userTask",view:l8,model:s8},qx=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),Yb=function(){return Yb=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},Yb.apply(this,arguments)},p8=function(i){qx(u,i);function u(a,f){var o=this;return a.id||(a.id="Activity_"+Al()),o=i.call(this,a,f)||this,o}return u.extendKey="ServiceTaskModel",u}(rt.RectNodeModel),d8=function(i){qx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getLabelShape=function(){var a=this.props.model,f=a.x,o=a.y,d=a.width,h=a.height,m=a.getNodeStyle();return rt.h("svg",{x:f-d/2+5,y:o-h/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},rt.h("path",{fill:m.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},u.prototype.getShape=function(){var a=this.props.model,f=a.x,o=a.y,d=a.width,h=a.height,m=a.radius,g=a.getNodeStyle();return rt.h("g",{},[rt.h("rect",Yb({x:f-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h},g)),this.getLabelShape()])},u.extendKey="ServiceTaskNode",u}(rt.RectNode),h8={type:"bpmn:serviceTask",view:d8,model:p8},Zx=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),y8=function(i){Zx(u,i);function u(a,f){var o=this;return a.id||(a.id="Flow_"+Al()),o=i.call(this,a,f)||this,o}return u.extendKey="SequenceFlowModel",u}(rt.PolylineEdgeModel),v8=function(i){Zx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.extendKey="SequenceFlowEdge",u}(rt.PolylineEdge),g8={type:"bpmn:sequenceFlow",view:v8,model:y8},aO={width:40,height:40},uO={width:40,height:40},cO={width:40,height:40},sO={width:100,height:80},lO={width:100,height:80},b8={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},m8=function(){function i(u){var a=u.lf;a.setTheme(b8),a.register(n8),a.register(i8),a.register(c8),a.register(f8),a.register(h8),a.options.customBpmnEdge||(a.register(g8),a.setDefaultEdgeType("bpmn:sequenceFlow"))}return i.pluginName="bpmnElement",i}(),_8=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var f=Math.random()*16|0,o=a==="x"?f:f&3|8;return o.toString(16)});return u},i.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},i}(),O8=(globalThis==null?void 0:globalThis._ids)||new _8;function fO(){return O8.next()}function Jx(i){return Object.prototype.toString.call(i)}function w8(i){return"  ".repeat(i)}function ry(i){var u=i;return Jx(i)==="[object Object]"?(u={},Object.keys(i).forEach(function(a){var f=a;a.charAt(0)==="-"&&(f=a.substring(1)),u[f]=ry(i[a])})):Array.isArray(i)&&(u=[],i.forEach(function(a,f){u[f]=ry(a)})),u}function x8(i){var u=i;try{typeof u!="string"&&(u=JSON.parse(i))}catch(a){u=JSON.stringify(ry(i)).replace(/"/g,"'")}return u}var sl=`	
`;function Vh(i,u,a){var f=w8(a),o="";if(u==="#text")return sl+f+i;if(u==="#cdata-section")return sl+f+"<![CDATA["+i+"]]>";if(u==="#comment")return sl+f+"<!--"+i+"-->";if((""+u).charAt(0)==="-")return" "+u.substring(1)+'="'+x8(i)+'"';if(Array.isArray(i))i.forEach(function(g){o+=Vh(g,u,a+1)});else if(Jx(i)==="[object Object]"){var d=Object.keys(i),h="",m="";o+=(a===0?"":sl+f)+"<"+u,d.forEach(function(g){g.charAt(0)==="-"?h+=Vh(i[g],g,a+1):m+=Vh(i[g],g,a+1)}),o+=h+(m!==""?">"+m+(sl+f)+"</"+u+">":" />")}else o+=sl+f+("<"+u+">"+i.toString()+"</"+u+">");return o}function E8(i){var u="";for(var a in i)u+=Vh(i[a],a,0);return u}var fo=function(){};fo.ObjTree=function(){return this};fo.ObjTree.VERSION="0.23";fo.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;fo.ObjTree.prototype.attr_prefix="-";fo.ObjTree.prototype.parseXML=function(i){var u;if(window.DOMParser){var a=new DOMParser,f=a.parseFromString(i,"application/xml");if(!f)return;u=f.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(i),u=a.documentElement);if(u)return this.parseDOM(u)};fo.ObjTree.prototype.parseHTTP=function(i,u,a){var f={};for(var o in u)f[o]=u[o];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),a){f.asynchronous=!0;var d=this,h=a,m=f.onComplete;f.onComplete=function(P){var j;P&&P.responseXML&&P.responseXML.documentElement&&(j=d.parseDOM(P.responseXML.documentElement)),h(j,P),m&&m(P)}}else f.asynchronous=!1;var g;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=i;var E=new HTTP.Request(f);E&&(g=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(i,f);E&&(g=E.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};fo.ObjTree.prototype.parseDOM=function(i){if(i){if(this.__force_array={},this.force_array)for(var u=0;u<this.force_array.length;u++)this.__force_array[this.force_array[u]]=1;var a=this.parseElement(i);if(this.__force_array[i.nodeName]&&(a=[a]),i.nodeType!=11){var f={};f[i.nodeName]=a,a=f}return a}};fo.ObjTree.prototype.parseElement=function(i){if(i.nodeType!=7){if(i.nodeType==3||i.nodeType==4||i.nodeType==8){var u=i.nodeValue.match(/[^\x00-\x20]/);return u==null?void 0:i.nodeValue}var a=null,f={};if(i.attributes&&i.attributes.length){a={};for(var o=0;o<i.attributes.length;o++){var d=i.attributes[o].nodeName;if(typeof d=="string"){var h=i.attributes[o].nodeValue;try{h=JSON.parse(i.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){h=i.attributes[o].nodeValue}h&&(d=this.attr_prefix+d,typeof f[d]=="undefined"&&(f[d]=0),f[d]++,this.addNode(a,d,f[d],h))}}}if(i.childNodes&&i.childNodes.length){var m=!0;a&&(m=!1);for(var o=0;o<i.childNodes.length&&m;o++){var g=i.childNodes[o].nodeType;g==3||g==4||g==8||(m=!1)}if(m){a||(a="");for(var o=0;o<i.childNodes.length;o++)a+=i.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<i.childNodes.length;o++){var d=i.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(i.childNodes[o]);h&&(typeof f[d]=="undefined"&&(f[d]=0),f[d]++,this.addNode(a,d,f[d],h))}}}}else a===null&&(a={});return a}};fo.ObjTree.prototype.addNode=function(i,u,a,f){this.__force_array[u]?(a==1&&(i[u]=[]),i[u][i[u].length]=f):a==1?i[u]=f:a==2?i[u]=[i[u],f]:i[u][i[u].length]=f};fo.ObjTree.prototype.writeXML=function(i){var u=this.hash_to_xml(null,i);return this.xmlDecl+u};fo.ObjTree.prototype.hash_to_xml=function(i,u){var a=[],f=[];for(var o in u)if(u.hasOwnProperty(o)){var d=u[o];o.charAt(0)!=this.attr_prefix?typeof d=="undefined"||d==null?a[a.length]="<"+o+" />":typeof d=="object"&&d.constructor==Array?a[a.length]=this.array_to_xml(o,d):typeof d=="object"?a[a.length]=this.hash_to_xml(o,d):a[a.length]=this.scalar_to_xml(o,d):f[f.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=f.join(""),m=a.join("");return typeof i=="undefined"||i==null||(a.length>0?m.match(/\n/)?m="<"+i+h+`>
`+m+"</"+i+`>
`:m="<"+i+h+">"+m+"</"+i+`>
`:m="<"+i+h+` />
`),m};fo.ObjTree.prototype.array_to_xml=function(i,u){for(var a=[],f=0;f<u.length;f++){var o=u[f];typeof o=="undefined"||o==null?a[a.length]="<"+i+" />":typeof o=="object"&&o.constructor==Array?a[a.length]=this.array_to_xml(i,o):typeof o=="object"?a[a.length]=this.hash_to_xml(i,o):a[a.length]=this.scalar_to_xml(i,o)}return a.join("")};fo.ObjTree.prototype.scalar_to_xml=function(i,u){return i=="#text"?this.xml_escape(u):"<"+i+">"+this.xml_escape(u)+"</"+i+`>
`};fo.ObjTree.prototype.xml_escape=function(i){return i.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var S8=function(i){return new fo.ObjTree().parseXML(i)},j8=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),Vb=function(){return Vb=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},Vb.apply(this,arguments)},Py=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var f=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=f.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=f.return)&&a.call(f)}finally{if(h)throw h.error}}return d},ca;(function(i){i.START="bpmn:startEvent",i.END="bpmn:endEvent",i.GATEWAY="bpmn:exclusiveGateway",i.USER="bpmn:userTask",i.SYSTEM="bpmn:serviceTask",i.FLOW="bpmn:sequenceFlow"})(ca||(ca={}));var Qx=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],pO=["properties","startPoint","endPoint","pointsList"];function dO(i){var u=i?pO.concat(i):pO;return function(a){function f(o){var d={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(h){return f(h)}):(Object.entries(o).forEach(function(h){var m=Py(h,2),g=m[0],E=m[1];typeof E!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?d[g]=E:d["-"+g]=E:u.includes(g)?d["-"+g]=f(E):d[g]=f(E)}),d)}return f(a)}}function oy(i){var u={};return Object.entries(i).forEach(function(a){var f=Py(a,2),o=f[0],d=f[1];o.indexOf("-")===0?u[o.substring(1)]=ry(d):typeof d=="string"?u[o]=d:Object.prototype.toString.call(d)==="[object Object]"?u[o]=oy(d):Array.isArray(d)?u[o]=d.map(function(h){return oy(h)}):u[o]=d}),u}function P8(i,u,a){var f=new Map;u.nodes.forEach(function(d){var h,m={"-id":d.id};if(!((h=d.text)===null||h===void 0)&&h.value&&(m["-name"]=d.text.value),d.properties){var g=dO(a)(d.properties);Object.assign(m,g)}f.set(d.id,m),i[d.type]?Array.isArray(i[d.type])?i[d.type].push(m):i[d.type]=[i[d.type],m]:i[d.type]=m});var o=u.edges.map(function(d){var h,m,g=f.get(d.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(d.id):g["bpmn:incoming"]=[g["bpmn:incoming"],d.id]:g["bpmn:incoming"]=d.id;var E={"-id":d.id,"-sourceRef":d.sourceNodeId,"-targetRef":d.targetNodeId};if(!((h=d.text)===null||h===void 0)&&h.value&&(E["-name"]=(m=d.text)===null||m===void 0?void 0:m.value),d.properties){var P=dO(a)(d.properties);Object.assign(E,P)}return E});u.edges.forEach(function(d){var h=f.get(d.sourceNodeId);h["bpmn:outgoing"]?Array.isArray(h["bpmn:outgoing"])?h["bpmn:outgoing"].push(d.id):h["bpmn:outgoing"]=[h["bpmn:outgoing"],d.id]:h["bpmn:outgoing"]=d.id}),i[ca.FLOW]=o}function A8(i,u){i["bpmndi:BPMNEdge"]=u.edges.map(function(a){var f,o=a.id,d=a.pointsList.map(function(m){var g=m.x,E=m.y;return{"-x":g,"-y":E}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((f=a.text)===null||f===void 0)&&f.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),h}),i["bpmndi:BPMNShape"]=u.nodes.map(function(a){var f,o=a.id,d=100,h=80,m=a.x,g=a.y,E=Bu.shapeConfigMap.get(a.type);E&&(d=E.width,h=E.height),m-=d/2,g-=h/2;var P={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":d,"-height":h}};return!((f=a.text)===null||f===void 0)&&f.value&&(P["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),P})}function M8(i){var u=[],a=[],f=i["bpmn:definitions"];if(f){var o=f["bpmn:process"];Object.keys(o).forEach(function(d){if(d.indexOf("bpmn:")===0){var h=o[d];if(d===ca.FLOW){var m=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];a=k8(h,m)}else{var g=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];u=u.concat(T8(h,g,d))}}})}return{nodes:u,edges:a}}function T8(i,u,a){var f=[];if(Array.isArray(i))i.forEach(function(h){var m;Array.isArray(u)?m=u.find(function(E){return E["-bpmnElement"]===h["-id"]}):m=u;var g=hO(m,a,h);f.push(g)});else{var o=void 0;Array.isArray(u)?o=u.find(function(h){return h["-bpmnElement"]===i["-id"]}):o=u;var d=hO(o,a,i);f.push(d)}return f}function hO(i,u,a){var f=Number(i["dc:Bounds"]["-x"]),o=Number(i["dc:Bounds"]["-y"]),d=a["-name"],h=Bu.shapeConfigMap.get(u);h&&(f+=h.width/2,o+=h.height/2);var m;Object.entries(a).forEach(function(j){var k=Py(j,2),T=k[0],C=k[1];Qx.indexOf(T)===-1&&(m||(m={}),m[T]=C)}),m&&(m=oy(m));var g;if(d&&(g={x:f,y:o,value:d},i["bpmndi:BPMNLabel"]&&i["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=i["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(E["-x"])+Number(E["-width"])/2,g.y=Number(E["-y"])+Number(E["-height"])/2}var P={id:i["-bpmnElement"],type:u,x:f,y:o,properties:m};return g&&(P.text=g),P}function k8(i,u){var a=[];if(Array.isArray(i))i.forEach(function(o){var d;Array.isArray(u)?d=u.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=u,a.push(yO(d,o))});else{var f=void 0;Array.isArray(u)?f=u.find(function(o){return o["-bpmnElement"]===i["-id"]}):f=u,a.push(yO(f,i))}return a}function yO(i,u){var a,f=u["-name"];if(f){var o=i["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;f.split(`
`).forEach(function(g){d<g.length&&(d=g.length)}),a={value:f,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h;Object.entries(u).forEach(function(g){var E=Py(g,2),P=E[0],j=E[1];Qx.indexOf(P)===-1&&(h||(h={}),h[P]=j)}),h&&(h=oy(h));var m={id:u["-id"],type:ca.FLOW,pointsList:i["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:u["-sourceRef"],targetNodeId:u["-targetRef"],properties:h};return a&&(m.text=a),m}var Bu=function(){function i(u){var a=this,f=u.lf;this.adapterOut=function(o,d){var h=Vb({},a.processAttributes);P8(h,o,d);var m={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};A8(m,o);var g=a.definitionAttributes;g["bpmn:process"]=h,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":m};var E={"bpmn:definitions":g};return E},this.adapterIn=function(o){if(o)return M8(o)},f.adapterIn=function(o){return a.adapterIn(o)},f.adapterOut=function(o,d){return a.adapterOut(o,d)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+fO()},this.definitionAttributes={"-id":"Definitions_"+fO(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return i.prototype.setCustomShape=function(u,a){i.shapeConfigMap.set(u,a)},i.pluginName="bpmn-adapter",i.shapeConfigMap=new Map,i}();Bu.shapeConfigMap.set(ca.START,{width:aO.width,height:aO.height});Bu.shapeConfigMap.set(ca.END,{width:uO.width,height:uO.height});Bu.shapeConfigMap.set(ca.GATEWAY,{width:cO.width,height:cO.height});Bu.shapeConfigMap.set(ca.SYSTEM,{width:sO.width,height:sO.height});Bu.shapeConfigMap.set(ca.USER,{width:lO.width,height:lO.height});(function(i){j8(u,i);function u(a){var f=i.call(this,a)||this;f.adapterXmlIn=function(d){var h=S8(d);return f.adapterIn(h)},f.adapterXmlOut=function(d,h){var m=f.adapterOut(d,h);return E8(m)};var o=a.lf;return o.adapterIn=f.adapterXmlIn,o.adapterOut=f.adapterXmlOut,f}return u.pluginName="bpmnXmlAdapter",u})(Bu);var D8=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var f=Math.random()*16|0,o=a==="x"?f:f&3|8;return o.toString(16)});return u},i.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},i}(),N8=(globalThis==null?void 0:globalThis._ids)||new D8;function R8(){return N8.next()}rt.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),rt.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),rt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),rt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),rt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),rt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),rt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),rt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),rt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),rt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),rt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),rt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),rt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),rt.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});rt.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});rt.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var Bm,sr,eE,Bc,vO,tE,Kb,qb={},nE=[],C8=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,zm=Array.isArray;function ku(i,u){for(var a in u)i[a]=u[a];return i}function rE(i){var u=i.parentNode;u&&u.removeChild(i)}function xp(i,u,a){var f,o,d,h={};for(d in u)d=="key"?f=u[d]:d=="ref"?o=u[d]:h[d]=u[d];if(arguments.length>2&&(h.children=arguments.length>3?Bm.call(arguments,2):a),typeof i=="function"&&i.defaultProps!=null)for(d in i.defaultProps)h[d]===void 0&&(h[d]=i.defaultProps[d]);return Kh(i,h,f,o,null)}function Kh(i,u,a,f,o){var d={type:i,props:u,key:a,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o==null?++eE:o,__i:-1,__u:0};return o==null&&sr.vnode!=null&&sr.vnode(d),d}function Fm(i){return i.children}function vl(i,u){this.props=i,this.context=u}function ml(i,u){if(u==null)return i.__?ml(i.__,i.__i+1):null;for(var a;u<i.__k.length;u++)if((a=i.__k[u])!=null&&a.__e!=null)return a.__e;return typeof i.type=="function"?ml(i):null}function oE(i){var u,a;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,u=0;u<i.__k.length;u++)if((a=i.__k[u])!=null&&a.__e!=null){i.__e=i.__c.base=a.__e;break}return oE(i)}}function gO(i){(!i.__d&&(i.__d=!0)&&Bc.push(i)&&!iy.__r++||vO!==sr.debounceRendering)&&((vO=sr.debounceRendering)||tE)(iy)}function iy(){var i,u,a,f,o,d,h,m,g;for(Bc.sort(Kb);i=Bc.shift();)i.__d&&(u=Bc.length,f=void 0,d=(o=(a=i).__v).__e,m=[],g=[],(h=a.__P)&&((f=ku({},o)).__v=o.__v+1,sr.vnode&&sr.vnode(f),uE(h,f,o,a.__n,h.ownerSVGElement!==void 0,32&o.__u?[d]:null,m,d==null?ml(o):d,!!(32&o.__u),g),f.__.__k[f.__i]=f,B8(m,f,g),f.__e!=d&&oE(f)),Bc.length>u&&Bc.sort(Kb));iy.__r=0}function iE(i,u,a,f,o,d,h,m,g,E,P){var j,k,T,C,N,I=f&&f.__k||nE,W=u.length;for(a.__d=g,I8(a,u,I),g=a.__d,j=0;j<W;j++)(T=a.__k[j])!=null&&typeof T!="boolean"&&typeof T!="function"&&(k=T.__i===-1?qb:I[T.__i]||qb,T.__i=j,uE(i,T,k,o,d,h,m,g,E,P),C=T.__e,T.ref&&k.ref!=T.ref&&(k.ref&&$m(k.ref,null,T),P.push(T.ref,T.__c||C,T)),N==null&&C!=null&&(N=C),65536&T.__u||k.__k===T.__k?g=aE(T,g,i):typeof T.type=="function"&&T.__d!==void 0?g=T.__d:C&&(g=C.nextSibling),T.__d=void 0,T.__u&=-196609);a.__d=g,a.__e=N}function I8(i,u,a){var f,o,d,h,m,g=u.length,E=a.length,P=E,j=0;for(i.__k=[],f=0;f<g;f++)(o=i.__k[f]=(o=u[f])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Kh(null,o,null,null,o):zm(o)?Kh(Fm,{children:o},null,null,null):o.__b>0?Kh(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=i,o.__b=i.__b+1,m=L8(o,a,h=f+j,P),o.__i=m,d=null,m!==-1&&(P--,(d=a[m])&&(d.__u|=131072)),d==null||d.__v===null?(m==-1&&j--,typeof o.type!="function"&&(o.__u|=65536)):m!==h&&(m===h+1?j++:m>h?P>g-h?j+=m-h:j--:j=m<h&&m==h-1?m-h:0,m!==f+j&&(o.__u|=65536))):(d=a[f])&&d.key==null&&d.__e&&(d.__e==i.__d&&(i.__d=ml(d)),Zb(d,d,!1),a[f]=null,P--);if(P)for(f=0;f<E;f++)(d=a[f])!=null&&!(131072&d.__u)&&(d.__e==i.__d&&(i.__d=ml(d)),Zb(d,d))}function aE(i,u,a){var f,o;if(typeof i.type=="function"){for(f=i.__k,o=0;f&&o<f.length;o++)f[o]&&(f[o].__=i,u=aE(f[o],u,a));return u}return i.__e!=u&&(a.insertBefore(i.__e,u||null),u=i.__e),u&&u.nextSibling}function L8(i,u,a,f){var o=i.key,d=i.type,h=a-1,m=a+1,g=u[a];if(g===null||g&&o==g.key&&d===g.type)return a;if(f>(g!=null&&!(131072&g.__u)?1:0))for(;h>=0||m<u.length;){if(h>=0){if((g=u[h])&&!(131072&g.__u)&&o==g.key&&d===g.type)return h;h--}if(m<u.length){if((g=u[m])&&!(131072&g.__u)&&o==g.key&&d===g.type)return m;m++}}return-1}function bO(i,u,a){u[0]==="-"?i.setProperty(u,a==null?"":a):i[u]=a==null?"":typeof a!="number"||C8.test(u)?a:a+"px"}function Xh(i,u,a,f,o){var d;e:if(u==="style")if(typeof a=="string")i.style.cssText=a;else{if(typeof f=="string"&&(i.style.cssText=f=""),f)for(u in f)a&&u in a||bO(i.style,u,"");if(a)for(u in a)f&&a[u]===f[u]||bO(i.style,u,a[u])}else if(u[0]==="o"&&u[1]==="n")d=u!==(u=u.replace(/(PointerCapture)$|Capture$/,"$1")),u=u.toLowerCase()in i?u.toLowerCase().slice(2):u.slice(2),i.l||(i.l={}),i.l[u+d]=a,a?f?a.u=f.u:(a.u=Date.now(),i.addEventListener(u,d?_O:mO,d)):i.removeEventListener(u,d?_O:mO,d);else{if(o)u=u.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(u!=="width"&&u!=="height"&&u!=="href"&&u!=="list"&&u!=="form"&&u!=="tabIndex"&&u!=="download"&&u!=="rowSpan"&&u!=="colSpan"&&u!=="role"&&u in i)try{i[u]=a==null?"":a;break e}catch(h){}typeof a=="function"||(a==null||a===!1&&u[4]!=="-"?i.removeAttribute(u):i.setAttribute(u,a))}}function mO(i){var u=this.l[i.type+!1];if(i.t){if(i.t<=u.u)return}else i.t=Date.now();return u(sr.event?sr.event(i):i)}function _O(i){return this.l[i.type+!0](sr.event?sr.event(i):i)}function uE(i,u,a,f,o,d,h,m,g,E){var P,j,k,T,C,N,I,W,U,ne,ue,ae,ee,te,V,z=u.type;if(u.constructor!==void 0)return null;128&a.__u&&(g=!!(32&a.__u),d=[m=u.__e=a.__e]),(P=sr.__b)&&P(u);e:if(typeof z=="function")try{if(W=u.props,U=(P=z.contextType)&&f[P.__c],ne=P?U?U.props.value:P.__:f,a.__c?I=(j=u.__c=a.__c).__=j.__E:("prototype"in z&&z.prototype.render?u.__c=j=new z(W,ne):(u.__c=j=new vl(W,ne),j.constructor=z,j.render=F8),U&&U.sub(j),j.props=W,j.state||(j.state={}),j.context=ne,j.__n=f,k=j.__d=!0,j.__h=[],j._sb=[]),j.__s==null&&(j.__s=j.state),z.getDerivedStateFromProps!=null&&(j.__s==j.state&&(j.__s=ku({},j.__s)),ku(j.__s,z.getDerivedStateFromProps(W,j.__s))),T=j.props,C=j.state,j.__v=u,k)z.getDerivedStateFromProps==null&&j.componentWillMount!=null&&j.componentWillMount(),j.componentDidMount!=null&&j.__h.push(j.componentDidMount);else{if(z.getDerivedStateFromProps==null&&W!==T&&j.componentWillReceiveProps!=null&&j.componentWillReceiveProps(W,ne),!j.__e&&(j.shouldComponentUpdate!=null&&j.shouldComponentUpdate(W,j.__s,ne)===!1||u.__v===a.__v)){for(u.__v!==a.__v&&(j.props=W,j.state=j.__s,j.__d=!1),u.__e=a.__e,u.__k=a.__k,u.__k.forEach(function(H){H&&(H.__=u)}),ue=0;ue<j._sb.length;ue++)j.__h.push(j._sb[ue]);j._sb=[],j.__h.length&&h.push(j);break e}j.componentWillUpdate!=null&&j.componentWillUpdate(W,j.__s,ne),j.componentDidUpdate!=null&&j.__h.push(function(){j.componentDidUpdate(T,C,N)})}if(j.context=ne,j.props=W,j.__P=i,j.__e=!1,ae=sr.__r,ee=0,"prototype"in z&&z.prototype.render){for(j.state=j.__s,j.__d=!1,ae&&ae(u),P=j.render(j.props,j.state,j.context),te=0;te<j._sb.length;te++)j.__h.push(j._sb[te]);j._sb=[]}else do j.__d=!1,ae&&ae(u),P=j.render(j.props,j.state,j.context),j.state=j.__s;while(j.__d&&++ee<25);j.state=j.__s,j.getChildContext!=null&&(f=ku(ku({},f),j.getChildContext())),k||j.getSnapshotBeforeUpdate==null||(N=j.getSnapshotBeforeUpdate(T,C)),iE(i,zm(V=P!=null&&P.type===Fm&&P.key==null?P.props.children:P)?V:[V],u,a,f,o,d,h,m,g,E),j.base=u.__e,u.__u&=-161,j.__h.length&&h.push(j),I&&(j.__E=j.__=null)}catch(H){u.__v=null,g||d!=null?(u.__e=m,u.__u|=g?160:32,d[d.indexOf(m)]=null):(u.__e=a.__e,u.__k=a.__k),sr.__e(H,u,a)}else d==null&&u.__v===a.__v?(u.__k=a.__k,u.__e=a.__e):u.__e=z8(a.__e,u,a,f,o,d,h,g,E);(P=sr.diffed)&&P(u)}function B8(i,u,a){u.__d=void 0;for(var f=0;f<a.length;f++)$m(a[f],a[++f],a[++f]);sr.__c&&sr.__c(u,i),i.some(function(o){try{i=o.__h,o.__h=[],i.some(function(d){d.call(o)})}catch(d){sr.__e(d,o.__v)}})}function z8(i,u,a,f,o,d,h,m,g){var E,P,j,k,T,C,N,I=a.props,W=u.props,U=u.type;if(U==="svg"&&(o=!0),d!=null){for(E=0;E<d.length;E++)if((T=d[E])&&"setAttribute"in T==!!U&&(U?T.localName===U:T.nodeType===3)){i=T,d[E]=null;break}}if(i==null){if(U===null)return document.createTextNode(W);i=o?document.createElementNS("http://www.w3.org/2000/svg",U):document.createElement(U,W.is&&W),d=null,m=!1}if(U===null)I===W||m&&i.data===W||(i.data=W);else{if(d=d&&Bm.call(i.childNodes),I=a.props||qb,!m&&d!=null)for(I={},E=0;E<i.attributes.length;E++)I[(T=i.attributes[E]).name]=T.value;for(E in I)T=I[E],E=="children"||(E=="dangerouslySetInnerHTML"?j=T:E==="key"||E in W||Xh(i,E,null,T,o));for(E in W)T=W[E],E=="children"?k=T:E=="dangerouslySetInnerHTML"?P=T:E=="value"?C=T:E=="checked"?N=T:E==="key"||m&&typeof T!="function"||I[E]===T||Xh(i,E,T,I[E],o);if(P)m||j&&(P.__html===j.__html||P.__html===i.innerHTML)||(i.innerHTML=P.__html),u.__k=[];else if(j&&(i.innerHTML=""),iE(i,zm(k)?k:[k],u,a,f,o&&U!=="foreignObject",d,h,d?d[0]:a.__k&&ml(a,0),m,g),d!=null)for(E=d.length;E--;)d[E]!=null&&rE(d[E]);m||(E="value",C!==void 0&&(C!==i[E]||U==="progress"&&!C||U==="option"&&C!==I[E])&&Xh(i,E,C,I[E],!1),E="checked",N!==void 0&&N!==i[E]&&Xh(i,E,N,I[E],!1))}return i}function $m(i,u,a){try{typeof i=="function"?i(u):i.current=u}catch(f){sr.__e(f,a)}}function Zb(i,u,a){var f,o;if(sr.unmount&&sr.unmount(i),(f=i.ref)&&(f.current&&f.current!==i.__e||$m(f,null,u)),(f=i.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(d){sr.__e(d,u)}f.base=f.__P=null,i.__c=void 0}if(f=i.__k)for(o=0;o<f.length;o++)f[o]&&Zb(f[o],u,a||typeof i.type!="function");a||i.__e==null||rE(i.__e),i.__=i.__e=i.__d=void 0}function F8(i,u,a){return this.constructor(i,a)}Bm=nE.slice,sr={__e:function(i,u,a,f){for(var o,d,h;u=u.__;)if((o=u.__c)&&!o.__)try{if((d=o.constructor)&&d.getDerivedStateFromError!=null&&(o.setState(d.getDerivedStateFromError(i)),h=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(i,f||{}),h=o.__d),h)return o.__E=o}catch(m){i=m}throw i}},eE=0,vl.prototype.setState=function(i,u){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ku({},this.state),typeof i=="function"&&(i=i(ku({},a),this.props)),i&&ku(a,i),i!=null&&this.__v&&(u&&this._sb.push(u),gO(this))},vl.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),gO(this))},vl.prototype.render=Fm,Bc=[],tE=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Kb=function(i,u){return i.__v.__b-u.__v.__b},iy.__r=0;var Ep=function(){return Ep=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},Ep.apply(this,arguments)};function Wm(i){var u=i.x,a=i.y,f=i.width,o=i.height,d=i.radius,h=i.className,m=u-f/2,g=a-o/2,E=Ep(Ep({width:10,height:10,cx:0,cy:0,rx:d||0,ry:d||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+h},i),{x:m,y:g});return rt.h("rect",Ep({},E))}Wm.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var dl;(function(i){i.NODE="node",i.CIRCLE_NODE="circle-node",i.POLYGON_NODE="polygon-node",i.RECT_NODE="rect-node",i.HTML_NODE="html-node",i.TEXT_NODE="text-node",i.ELLIPSE_NODE="ellipse-node",i.DIAMOND_NODE="diamond-node",i.EDGE="edge",i.LINE_EDGE="line-edge",i.POLYLINE_EDGE="polyline-edge",i.BEZIER_EDGE="bezier-edge",i.GRAPH="graph"})(dl||(dl={}));var $8=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),zc=function(){return zc=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},zc.apply(this,arguments)},W8=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var f=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=f.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=f.return)&&a.call(f)}finally{if(h)throw h.error}}return d},G8=rt.LogicFlowUtil.StepDrag,U8=function(i){$8(u,i);function u(a){var f=i.call(this)||this;return f.updatePosition=function(o){var d=o.deltaX,h=o.deltaY,m=f.nodeModel,g=m.x,E=m.y;f.nodeModel.x=g+d/2,f.nodeModel.y=E+h/2,f.nodeModel.moveText(d/2,h/2)},f.getResize=function(o){var d=o.index,h=o.deltaX,m=o.deltaY,g=o.width,E=o.height,P=o.PCTResizeInfo,j=o.pct,k=j===void 0?1:j,T={width:g,height:E,deltaX:h,deltaY:m};if(P){var C=4,N=0,I=0;switch(d){case 0:I=(h*-1-m)/C;break;case 1:I=(h-m)/C;break;case 2:I=(h+m)/C;break;case 3:I=(h*-1+m)/C;break}I!==0&&(N=Math.round(I/P.ResizeBasis.basisHeight*1e5)/1e3),P.ResizePCT.widthPCT=Math.max(Math.min(P.ResizePCT.widthPCT+N,P.ScaleLimit.maxScaleLimit),P.ScaleLimit.minScaleLimit),P.ResizePCT.hightPCT=Math.max(Math.min(P.ResizePCT.hightPCT+N,P.ScaleLimit.maxScaleLimit),P.ScaleLimit.minScaleLimit);var W=Math.round(P.ResizePCT.widthPCT*P.ResizeBasis.basisWidth/100),U=Math.round(P.ResizePCT.hightPCT*P.ResizeBasis.basisHeight/100);switch(d){case 0:h=g-W,m=E-U;break;case 1:h=W-g,m=E-U;break;case 2:h=W-g,m=U-E;break;case 3:h=g-W,m=U-E;break}return T.width=W,T.height=U,T.deltaX=h/k,T.deltaY=m/k,T}switch(d){case 0:T.width=g-h*k,T.height=E-m*k;break;case 1:T.width=g+h*k,T.height=E-m*k;break;case 2:T.width=g+h*k,T.height=E+m*k;break;case 3:T.width=g-h*k,T.height=E+m*k;break}return T},f.updateEdgePointByAnchors=function(){var o=f.nodeModel,d=o.id,h=o.anchors,m=f.getNodeEdges(d);m.sourceEdges.forEach(function(g){var E=h.find(function(P){return P.id===g.sourceAnchorId});g.updateStartPoint({x:E.x,y:E.y})}),m.targetEdges.forEach(function(g){var E=h.find(function(P){return P.id===g.targetAnchorId});g.updateEndPoint({x:E.x,y:E.y})})},f.updateRect=function(o){var d=o.deltaX,h=o.deltaY,m=f.nodeModel,g=m.id,E=m.x,P=m.y,j=m.width,k=m.height,T=m.radius,C=m.PCTResizeInfo,N=f.index,I=f.getResize({index:N,deltaX:d,deltaY:h,width:j,height:k,PCTResizeInfo:C,pct:1}),W=f.nodeModel,U=W.minWidth,ne=W.minHeight,ue=W.maxWidth,ae=W.maxHeight;if(I.width<U||I.width>ue||I.height<ne||I.height>ae){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:I.deltaX,deltaY:I.deltaY}),f.nodeModel.width=I.width,f.nodeModel.height=I.height,f.nodeModel.setProperties({nodeSize:{width:I.width,height:I.height}}),f.getNodeEdges(g);var ee={x:E,y:P,width:j,height:k,radius:T},te={x:f.nodeModel.x,y:f.nodeModel.y,width:f.nodeModel.width,height:f.nodeModel.height,radius:T};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:ee,afterNode:te})},f.updateEllipse=function(o){var d=o.deltaX,h=o.deltaY,m=f.nodeModel,g=m.id,E=m.rx,P=m.ry,j=m.x,k=m.y,T=m.PCTResizeInfo,C=f.index,N=E,I=P,W=f.getResize({index:C,deltaX:d,deltaY:h,width:N,height:I,PCTResizeInfo:T,pct:1/2}),U=f.nodeModel,ne=U.minWidth,ue=U.minHeight,ae=U.maxWidth,ee=U.maxHeight;if(W.width<ne/2||W.width>ae/2||W.height<ue/2||W.height>ee/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:W.deltaX,deltaY:W.deltaY}),f.nodeModel.rx=W.width,f.nodeModel.ry=W.height,f.nodeModel.setProperties({nodeSize:{rx:W.width,ry:W.height}}),f.getNodeEdges(g);var te={x:j,y:k},V={rx:W.width,ry:W.height,x:f.nodeModel.x,y:f.nodeModel.y};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:zc(zc({},te),{rx:E,ry:P}),afterNode:V})},f.updateDiamond=function(o){var d=o.deltaX,h=o.deltaY,m=f.nodeModel;m.id;var g=m.rx,E=m.ry,P=m.x,j=m.y,k=m.PCTResizeInfo,T=f.index,C=g,N=E,I=f.getResize({index:T,deltaX:d,deltaY:h,width:C,height:N,PCTResizeInfo:k,pct:1/2}),W=f.nodeModel,U=W.minWidth,ne=W.minHeight,ue=W.maxWidth,ae=W.maxHeight;if(I.width<U/2||I.width>ue/2||I.height<ne/2||I.height>ae/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:I.deltaX,deltaY:I.deltaY}),f.nodeModel.rx=I.width,f.nodeModel.ry=I.height,f.nodeModel.setProperties({nodeSize:{rx:I.width,ry:I.height}});var ee={x:P,y:j,rx:g,ry:E},te={rx:I.width,ry:I.height,x:f.nodeModel.x,y:f.nodeModel.y};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:ee,afterNode:te})},f.eventEmit=function(o){var d=o.beforeNode,h=o.afterNode,m=f.nodeModel,g=m.id,E=m.modelType,P=m.type,j=zc({id:g,modelType:E,type:P},d),k=zc({id:g,modelType:E,type:P},h);f.graphModel.eventCenter.emit("node:resize",{oldNodeSize:j,newNodeSize:k})},f.onDragging=function(o){var d,h=o.deltaX,m=o.deltaY,g=f.graphModel.transformModel,E=f.nodeModel.modelType;d=W8(g.fixDeltaXY(h,m),2),h=d[0],m=d[1],E===dl.RECT_NODE||E===dl.HTML_NODE?f.updateRect({deltaX:h,deltaY:m}):E===dl.ELLIPSE_NODE?f.updateEllipse({deltaX:h,deltaY:m}):E===dl.DIAMOND_NODE&&f.updateDiamond({deltaX:h,deltaY:m})},f.onDragEnd=function(){f.updateEdgePointByAnchors();var o=f.graphModel.gridSize,d=o===void 0?1:o,h=d*Math.round(f.nodeModel.x/d),m=d*Math.round(f.nodeModel.y/d);f.nodeModel.moveTo(h,m)},f.index=a.index,f.nodeModel=a.model,f.graphModel=a.graphModel,f.state={},f.dragHandler=new G8({onDragging:f.onDragging,onDragEnd:f.onDragEnd,step:1}),f}return u.prototype.getNodeEdges=function(a){for(var f=this.graphModel,o=f.edges,d=[],h=[],m=0;m<o.length;m++){var g=o[m];g.sourceNodeId===a?d.push(g):o[m].targetNodeId===a&&h.push(g)}return{sourceEdges:d,targetEdges:h}},u.prototype.render=function(){var a=this.props,f=a.x,o=a.y,d=a.index,h=a.model,m=h.getControlPointStyle();return xp("g",{className:"lf-resize-control-"+d},xp(Wm,zc({className:"lf-node-control"},{x:f,y:o},m,{onMouseDown:this.dragHandler.handleMouseDown})))},u}(vl),H8=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),ay=function(){return ay=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},ay.apply(this,arguments)},Ay=function(i){H8(u,i);function u(){var a=i.call(this)||this;return a.state={},a}return u.prototype.getResizeControl=function(){var a=this.props,f=a.model,o=a.graphModel,d=f.x,h=f.y,m=f.width,g=f.height,E={minX:d-m/2,minY:h-g/2,maxX:d+m/2,maxY:h+g/2},P=E.minX,j=E.minY,k=E.maxX,T=E.maxY,C=[{x:P,y:j},{x:k,y:j},{x:k,y:T},{x:P,y:T}];return C.map(function(N,I){return xp(U8,ay({index:I},N,{model:f,graphModel:o}))})},u.prototype.getGroupSolid=function(){var a=this.props.model,f=a.x,o=a.y,d=a.width,h=a.height,m=a.getResizeOutlineStyle();return xp(Wm,ay({fill:"none"},m,{x:f,y:o,width:d,height:h}))},u.prototype.render=function(){return xp("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},u}(vl),cE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),X8=function(i){cE(u,i);function u(a,f){var o=i.call(this,a,f)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.resize=function(a,f){console.log(a,f)},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u}(rt.RectNodeModel),Y8=function(i){cE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,f=a.model,o=a.graphModel;return rt.h(Ay,{model:f,graphModel:o})},u.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,f=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return rt.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},u}(rt.RectNode),sE={type:"rect",view:Y8,model:X8},lE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();(function(i){lE(u,i);function u(a,f){var o=i.call(this,a,f)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(rt.EllipseNodeModel);(function(i){lE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,f=a.model,o=a.graphModel;return rt.h(Ay,{model:f,graphModel:o})},u.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,f=a.model,o=a.graphModel.editConfigModel.isSilentMode;return rt.h("g",null,this.getResizeShape(),f.isSelected&&!o?this.getControlGroup():"")},u})(rt.EllipseNode);var Jb=function(){return Jb=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},Jb.apply(this,arguments)};function V8(i){var u=i.fillOpacity,a=u===void 0?1:u,f=i.strokeWidth,o=f===void 0?1:f,d=i.strokeOpacity,h=d===void 0?1:d,m=i.fill,g=m===void 0?"transparent":m,E=i.stroke,P=E===void 0?"#000":E,j=i.points,k=i.className,T=k===void 0?"lf-basic-shape":k,C={fill:g,fillOpacity:a,strokeWidth:o,stroke:P,strokeOpacity:h,points:"",className:T};return C.points=j.map(function(N){return N.join(",")}).join(" "),rt.h("polygon",Jb({},C))}var fE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),Qb=function(){return Qb=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},Qb.apply(this,arguments)};(function(i){fE(u,i);function u(a,f){var o=i.call(this,a,f)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(rt.DiamondNodeModel);(function(i){fE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,f=a.model,o=a.graphModel;return rt.h(Ay,{model:f,graphModel:o})},u.prototype.getResizeShape=function(){var a=this.props.model,f=a.points,o=a.getNodeStyle();return rt.h("g",null,rt.h(V8,Qb({},o,{points:f})))},u.prototype.getShape=function(){var a=this.props,f=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return rt.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},u})(rt.DiamondNode);var pE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();(function(i){pE(u,i);function u(a,f){var o=i.call(this,a,f)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(rt.HtmlNodeModel);(function(i){pE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,f=a.model,o=a.graphModel;return rt.h(Ay,{model:f,graphModel:o})},u.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,f=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return rt.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},u})(rt.HtmlNode);var dE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),uy=function(){return uy=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},uy.apply(this,arguments)},K8=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var f=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=f.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=f.return)&&a.call(f)}finally{if(h)throw h.error}}return d},q8=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(K8(arguments[u]));return i},OO=500,wO=300,Z8=-1e4;(function(i){dE(u,i);function u(){var a=i!==null&&i.apply(this,arguments)||this;return a.isGroup=!0,a.unfoldedWidth=OO,a.unfoldedHight=wO,a.childrenLastFoldStatus={},a}return u.prototype.initNodeData=function(a){var f=this;i.prototype.initNodeData.call(this,a);var o=[];Array.isArray(a.children)&&(o=a.children),this.children=new Set(o),this.width=OO,this.height=wO,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=Z8,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){f.isFolded&&f.foldGroup(f.isFolded)})},u.prototype.getResizeOutlineStyle=function(){var a=i.prototype.getResizeOutlineStyle.call(this);return a.stroke="none",a},u.prototype.foldGroup=function(a){var f=this;if(a!==this.isFolded){this.setProperty("isFolded",a),this.isFolded=a,a?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(d){var h=f.graphModel.getElement(d),m=h.isFolded;if(h.isGroup&&!h.isFolded&&h.foldGroup(a),h.isGroup&&!a){var g=f.childrenLastFoldStatus[d];g!==void 0&&g!==h.isFolded&&h.foldGroup(g)}f.childrenLastFoldStatus[d]=m,h.visible=!a,o=o.concat(h.incoming.edges.concat(h.outgoing.edges))}),this.foldEdge(a,o)}},u.prototype.getAnchorStyle=function(a){var f=i.prototype.getAnchorStyle.call(this,a);return f.stroke="transparent",f.fill="transparent",f.hover.fill="transparent",f.hover.stroke="transparent",f},u.prototype.foldEdge=function(a,f){var o=this;f.forEach(function(d,h){var m=d.id,g=d.sourceNodeId,E=d.targetNodeId,P=d.startPoint,j=d.endPoint,k=d.type,T=d.text,C=d.getProperties(),N={id:m+"__"+h,sourceNodeId:g,targetNodeId:E,startPoint:P,endPoint:j,type:k,properties:C,text:T==null?void 0:T.value};d.virtual&&o.graphModel.deleteEdgeById(d.id);var I=o.graphModel.group.getNodeGroup(E);I||(I=o.graphModel.getNodeModelById(E));var W=o.graphModel.group.getNodeGroup(g);W||(W=o.graphModel.getNodeModelById(g)),a&&d.visible!==!1&&(o.children.has(g)||o.id===g?(N.startPoint=void 0,N.sourceNodeId=o.id):(N.endPoint=void 0,N.targetNodeId=o.id),(I.id!==o.id||W.id!==o.id)&&o.createVirtualEdge(N),d.visible=!1),!a&&d.visible===!1&&(I&&I.isGroup&&I.isFolded?(N.targetNodeId=I.id,N.endPoint=void 0,o.createVirtualEdge(N)):W&&W.isGroup&&W.isFolded?(N.sourceNodeId=W.id,N.startPoint=void 0,o.createVirtualEdge(N)):d.visible=!0)})},u.prototype.createVirtualEdge=function(a){a.pointsList=void 0;var f=this.graphModel.addEdge(a);f.virtual=!0,f.text.editable=!1,f.isFoldedEdge=!0},u.prototype.isInRange=function(a){var f=a.x1,o=a.y1,d=a.x2,h=a.y2;return f>=this.x-this.width/2&&d<=this.x+this.width/2&&o>=this.y-this.height/2&&h<=this.y+this.height/2},u.prototype.isAllowMoveTo=function(a){var f=a.x1,o=a.y1,d=a.x2,h=a.y2;return{x:f>=this.x-this.width/2&&d<=this.x+this.width/2,y:o>=this.y-this.height/2&&h<=this.y+this.height/2}},u.prototype.setAllowAppendChild=function(a){this.setProperty("groupAddable",a)},u.prototype.addChild=function(a){this.children.add(a),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},u.prototype.removeChild=function(a){this.children.delete(a),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},u.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},u.prototype.getData=function(){var a=this,f=i.prototype.getData.call(this);f.children=[],this.children.forEach(function(d){var h=a.graphModel.getNodeModelById(d);h&&!h.virtual&&f.children.push(d)});var o=f.properties;return delete o.groupAddable,delete o.isFolded,f},u.prototype.getHistoryData=function(){var a=i.prototype.getData.call(this);a.children=q8(this.children),a.isGroup=!0;var f=a.properties;return delete f.groupAddable,f.isFolded&&(a.x=a.x+this.unfoldedWidth/2-this.foldedWidth/2,a.y=a.y+this.unfoldedHight/2-this.foldedHeight/2),a},u.prototype.isAllowAppendIn=function(a){return!0},u.prototype.toBack=function(){this.zIndex--},u})(sE.model);(function(i){dE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props.model,f=a.resizable,o=a.properties;return f&&!o.isFolded?i.prototype.getControlGroup.call(this):null},u.prototype.getAddableShape=function(){var a=this.props.model,f=a.width,o=a.height,d=a.x,h=a.y,m=a.radius,g=a.properties;if(!g.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,P=this.props.model.getAddableOutlineStyle(),j=f+E+8,k=o+E+8;return rt.h("rect",uy(uy({},P),{width:j,height:k,x:d-j/2,y:h-k/2,rx:m,ry:m}))},u.prototype.getFoldIcon=function(){var a=this.props.model,f=a.x-a.width/2+5,o=a.y-a.height/2+5;if(!a.foldable)return null;var d=rt.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:a.properties.isFolded?"M "+(f+3)+","+(o+6)+" "+(f+11)+","+(o+6)+" M"+(f+7)+","+(o+2)+" "+(f+7)+","+(o+10):"M "+(f+3)+","+(o+6)+" "+(f+11)+","+(o+6)+" "});return rt.h("g",{},[rt.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:a.x-a.width/2+5,y:a.y-a.height/2+5,onClick:function(){a.foldGroup(!a.properties.isFolded)}}),d])},u.prototype.getResizeShape=function(){return rt.h("g",{},[this.getAddableShape(),i.prototype.getResizeShape.call(this),this.getFoldIcon()])},u})(sE.view);var xO=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),Sp=function(){return Sp=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},Sp.apply(this,arguments)};function J8(i){var u=function(f){xO(o,f);function o(d,h){var m=this;d.id||(d.id="Flow_"+R8());var g=Sp(Sp(Sp({},i||{}),d.properties),{isDefaultFlow:!1});return d.properties=g,m=f.call(this,d,h)||this,m}return o.extendKey="SequenceFlowModel",o}(rt.PolylineEdgeModel),a=function(f){xO(o,f);function o(){return f!==null&&f.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var d=this.props.model,h=d.properties.isDefaultFlow;return h?rt.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):rt.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(rt.PolylineEdge);return{type:"bpmn:sequenceFlow",view:a,model:u}}J8();var EO={width:40,height:40},SO={width:40,height:40},jO={width:100,height:80},cy={width:100,height:80},PO={width:100,height:80},AO={width:100,height:80},MO={width:100,height:80},TO={width:100,height:80},kO={width:100,height:80},DO={width:100,height:80},po=function(){};po.ObjTree=function(){return this};po.ObjTree.VERSION="0.23";po.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;po.ObjTree.prototype.attr_prefix="-";po.ObjTree.prototype.parseXML=function(i){var u;if(window.DOMParser){var a=new DOMParser,f=a.parseFromString(i,"application/xml");if(!f)return;u=f.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(i),u=a.documentElement);if(u){var o=this.parseDOM(u);return o}};po.ObjTree.prototype.parseHTTP=function(i,u,a){var f={};for(var o in u)f[o]=u[o];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),a){f.asynchronous=!0;var d=this,h=a,m=f.onComplete;f.onComplete=function(P){var j;P&&P.responseXML&&P.responseXML.documentElement&&(j=d.parseDOM(P.responseXML.documentElement)),h(j,P),m&&m(P)}}else f.asynchronous=!1;var g;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=i;var E=new HTTP.Request(f);E&&(g=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(i,f);E&&(g=E.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};po.ObjTree.prototype.parseDOM=function(i){if(i){if(this.__force_array={},this.force_array)for(var u=0;u<this.force_array.length;u++)this.__force_array[this.force_array[u]]=1;var a=this.parseElement(i);if(this.__force_array[i.nodeName]&&(a=[a]),i.nodeType!==11){var f={};f[i.nodeName]=a,a=f}return a}};po.ObjTree.prototype.parseElement=function(i){if(i.nodeType!==7){if(i.nodeType===3||i.nodeType===4||i.nodeType===8){var u=i.nodeValue.match(/[^\x00-\x20]/);return u==null?void 0:i.nodeValue}var a=null,f={};if(i.attributes&&i.attributes.length){a={};for(var o=0;o<i.attributes.length;o++){var d=i.attributes[o].nodeName;if(typeof d=="string"){var h=i.attributes[o].nodeValue;try{h=JSON.parse(i.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){h=i.attributes[o].nodeValue}h!=null&&(d=this.attr_prefix+d,typeof f[d]=="undefined"&&(f[d]=0),f[d]++,this.addNode(a,d,f[d],h))}}}if(i.childNodes&&i.childNodes.length){var m=!0;a&&(m=!1);for(var o=0;o<i.childNodes.length&&m;o++){var g=i.childNodes[o].nodeType;g===3||g===4||g===8||(m=!1)}if(m){a||(a="");for(var o=0;o<i.childNodes.length;o++)a+=i.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<i.childNodes.length;o++){var d=i.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(i.childNodes[o]);h&&(typeof f[d]=="undefined"&&(f[d]=0),f[d]++,this.addNode(a,d,f[d],h))}}}}else a===null&&(a={});return a}};po.ObjTree.prototype.addNode=function(i,u,a,f){this.__force_array[u]?(a===1&&(i[u]=[]),i[u][i[u].length]=f):a===1?i[u]=f:a===2?i[u]=[i[u],f]:i[u][i[u].length]=f};po.ObjTree.prototype.writeXML=function(i){var u=this.hash_to_xml(null,i);return this.xmlDecl+u};po.ObjTree.prototype.hash_to_xml=function(i,u){var a=[],f=[];for(var o in u)if(u!=null&&u.hasOwnProperty(o)){var d=u[o];o.charAt(0)!==this.attr_prefix?typeof d=="undefined"||d==null?a[a.length]="<"+o+" />":typeof d=="object"&&d.constructor===Array?a[a.length]=this.array_to_xml(o,d):typeof d=="object"?a[a.length]=this.hash_to_xml(o,d):a[a.length]=this.scalar_to_xml(o,d):f[f.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=f.join(""),m=a.join("");return typeof i=="undefined"||i==null||(a.length>0?m.match(/\n/)?m="<"+i+h+`>
`+m+"</"+i+`>
`:m="<"+i+h+">"+m+"</"+i+`>
`:m="<"+i+h+` />
`),m};po.ObjTree.prototype.array_to_xml=function(i,u){for(var a=[],f=0;f<u.length;f++){var o=u[f];typeof o=="undefined"||o==null?a[a.length]="<"+i+" />":typeof o=="object"&&o.constructor===Array?a[a.length]=this.array_to_xml(i,o):typeof o=="object"?a[a.length]=this.hash_to_xml(i,o):a[a.length]=this.scalar_to_xml(i,o)}return a.join("")};po.ObjTree.prototype.scalar_to_xml=function(i,u){return i==="#text"?this.xml_escape(u):"<"+i+">"+this.xml_escape(u)+"</"+i+`>
`};po.ObjTree.prototype.xml_escape=function(i){return i.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Q8=function(i){return new po.ObjTree().parseXML(i)};function hE(i){return Object.prototype.toString.call(i)}function NO(i){return"  ".repeat(i)}function sy(i){return hE(i)==="[object Object]"?Object.keys(i).reduce(function(u,a){var f=a;return a.charAt(0)==="-"&&(f=a.substring(1)),u[f]=sy(i[a]),u},{}):Array.isArray(i)?i.map(function(u){return sy(u)}):i}function e5(i){var u=i;try{typeof u!="string"&&(u=JSON.parse(i))}catch(a){u=JSON.stringify(sy(i)).replace(/"/g,"'")}return u}var RO=`	
`;function qh(i,u,a){var f=NO(a),o="",d=RO+f;if(u==="-json")return"";if(u==="#text")return d+i;if(u==="#cdata-section")return d+"<![CDATA["+i+"]]>";if(u==="#comment")return d+"<!--"+i+"-->";if((""+u).charAt(0)==="-")return" "+u.substring(1)+'="'+e5(i)+'"';if(Array.isArray(i))o+=i.map(function(E){return qh(E,u,a+1)}).join("");else if(hE(i)==="[object Object]"){var h=Object.keys(i),m="",g=i["-json"]?RO+NO(a+1)+i["-json"]:"";o+=(a===0?"":d)+"<"+u,h.forEach(function(E){E.charAt(0)==="-"?m+=qh(i[E],E,a+1):g+=qh(i[E],E,a+1)}),o+=m+(g!==""?">"+g+d+"</"+u+">":" />")}else o+=d+"<"+u+">"+i.toString()+"</"+u+">";return o}function t5(i){var u="";for(var a in i)u+=qh(i[a],a,0);return u}var n5=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),em=function(){return em=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},em.apply(this,arguments)},CO=function(i,u){var a={};for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&u.indexOf(f)<0&&(a[f]=i[f]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,f=Object.getOwnPropertySymbols(i);o<f.length;o++)u.indexOf(f[o])<0&&Object.prototype.propertyIsEnumerable.call(i,f[o])&&(a[f[o]]=i[f[o]]);return a},Gm=function(i){var u=typeof Symbol=="function"&&Symbol.iterator,a=u&&i[u],f=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&f>=i.length&&(i=void 0),{value:i&&i[f++],done:!i}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},Ml=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var f=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=f.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=f.return)&&a.call(f)}finally{if(h)throw h.error}}return d},gl=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(Ml(arguments[u]));return i},so;(function(i){i.START="bpmn:startEvent",i.END="bpmn:endEvent",i.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",i.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",i.BOUNDARY="bpmn:boundaryEvent",i.PARALLEL_GATEWAY="bpmn:parallelGateway",i.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",i.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",i.USER="bpmn:userTask",i.SYSTEM="bpmn:serviceTask",i.FLOW="bpmn:sequenceFlow",i.SUBPROCESS="bpmn:subProcess"})(so||(so={}));var yE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],r5=["properties","startPoint","endPoint","pointsList"],ly={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},vE=function(i,u){var a=Object.keys(u||{});return a.forEach(function(f){if(i[f]){var o=u[f],d=o.in,h=o.out;d&&(i[f].in=d),h&&(i[f].out=h)}else i[f]=u[f]}),i},ii={"bpmn:startEvent":{out:function(i){var u,a,f=i.properties;return((a=(u=ii[f.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:intermediateCatchEvent":{out:function(i){var u,a,f=i.properties;return((a=(u=ii[f.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:intermediateThrowEvent":{out:function(i){var u,a,f=i.properties;return((a=(u=ii[f.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:boundaryEvent":{out:function(i){var u,a,f=i.properties;return((a=(u=ii[f.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:sequenceFlow":{out:function(i){var u=i.properties,a=u.expressionType,f=u.condition;return f?a==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+f+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+f+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(i){var u=i.properties,a=u.timerType,f=u.timerValue,o=u.definitionId,d=function(){return"<bpmn:"+a+' xsi:type="bpmn:tFormalExpression">'+f+"</bpmn:"+a+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(a&&f?">"+d()+"</bpmn:timerEventDefinition>":"/>")}},in:function(i,u){var a,f,o,d,h=i,m=u["-id"],g="",E="";try{for(var P=Gm(Object.keys(u)),j=P.next();!j.done;j=P.next()){var k=j.value;k.includes("bpmn:")&&(o=Ml(k.split(":"),2),g=o[1],E=(d=u[k])===null||d===void 0?void 0:d["#text"])}}catch(T){a={error:T}}finally{try{j&&!j.done&&(f=P.return)&&f.call(P)}finally{if(a)throw a.error}}return{"-definitionId":m,"-definitionType":h,"-timerType":g,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(i,u){var a,f="",o="";return u["#cdata-section"]?(o="cdata",f=((a=/^\$\{(.*)\}$/g.exec(u["#cdata-section"]))===null||a===void 0?void 0:a[1])||""):u["#text"]&&(o="normal",f=u["#text"]),{"-condition":f,"-expressionType":o}}}};function o5(i){var u=i!=null?i:{},a=u.retainedAttrsFields,f=u.excludeFields,o=u.transformer,d=new Set(gl(r5,a||[])),h={in:new Set(gl(ly.in,(f==null?void 0:f.in)||[])),out:new Set(gl(ly.out,(f==null?void 0:f.out)||[]))};return ii=vE(ii,o),function(m){var g=m.nodes,E=m.edges;function P(j,k){var T,C,N;if((j==null?void 0:j.flag)!==1){var I;if((I=ii[j.type])&&I.out){var W=I.out(j),U=Object.keys(W);U.length>0&&U.forEach(function(H){j[H]=W[H]})}j!=null&&j.children&&(j.children=j.children.map(function(H){var Y=g.find(function(q){return q.id===H})||E.find(function(q){return q.id===H});return Y||{}}));var ne={};if(typeof j=="string")return j;if(Array.isArray(j))return j.map(function(H){return P(H,"")}).filter(function(H){return H!=null});try{for(var ue=Gm(Object.entries(j)),ae=ue.next();!ae.done;ae=ue.next()){var ee=Ml(ae.value,2),te=ee[0],V=ee[1];if(((N=V)===null||N===void 0?void 0:N.flag)===1)return;var z=[k,te].filter(function(H){return H}).join(".");h.out.has(z)||(typeof V!="object"?te.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(te)?ne[te]=V:ne["-"+te]=V:d.has(z)?ne["-"+te]=P(V,z):ne[te]=P(V,z))}}catch(H){T={error:H}}finally{try{ae&&!ae.done&&(C=ue.return)&&C.call(ue)}finally{if(T)throw T.error}}return ne}}return P(m,"")}}function fy(i){var u,a,f={};try{for(var o=Gm(Object.entries(i)),d=o.next();!d.done;d=o.next()){var h=Ml(d.value,2),m=h[0],g=h[1];m.indexOf("-")===0?f[m.substring(1)]=sy(g):typeof g=="string"?f[m]=g:Object.prototype.toString.call(g)==="[object Object]"?f[m]=fy(g):Array.isArray(g)?f[m]=g.map(function(E){return fy(E)}):f[m]=g}}catch(E){u={error:E}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(u)throw u.error}}return f}function i5(i,u,a){var f,o=new Map,d=o5(a)(u);d.nodes.forEach(function(m){var g=m["-id"],E=m["-type"],P=m.text,j=m.children,k=CO(m,["-id","-type","text","children"]),T={"-id":g};P!=null&&P["-value"]&&(T["-name"]=P["-value"]),k["-json"]&&(T["-json"]=k["-json"]),k["-properties"]&&Object.assign(T,k["-properties"]),j&&(T.children=j),i[E]||(i[E]=[]),i[E].push(T),o.set(g,T)});var h=d.edges.map(function(m){var g=m["-id"];m["-type"];var E=m["-sourceNodeId"],P=m["-targetNodeId"],j=m.text,k=CO(m,["-id","-type","-sourceNodeId","-targetNodeId","text"]),T=o.get(P);T["bpmn:incoming"]||(T["bpmn:incoming"]=[]),T["bpmn:incoming"].push(g);var C={"-id":g,"-sourceRef":E,"-targetRef":P};return j!=null&&j["-value"]&&(C["-name"]=j["-value"]),k["-json"]&&(C["-json"]=k["-json"]),k["-properties"]&&Object.assign(C,k["-properties"]),C});return u.edges.forEach(function(m){var g=m.sourceNodeId,E=m.id,P=o.get(g);P["bpmn:outgoing"]||(P["bpmn:outgoing"]=[]),P["bpmn:outgoing"].push(E)}),(f=i["bpmn:subProcess"])===null||f===void 0||f.forEach(function(m){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];m.children.forEach(function(N){var I,W=o.get(N["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(ne){W[ne]&&W[ne].forEach(function(ue){g[ne].add(ue)})});var U=(I=i[N["-type"]])===null||I===void 0?void 0:I.findIndex(function(ne){return ne["-id"]===N["-id"]});U>=0&&i[N["-type"]].splice(U,1),o.delete(N["-id"]),m[N["-type"]]||(m[N["-type"]]=[]),m[N["-type"]].push(W)});var P=g["bpmn:incoming"],j=g["bpmn:outgoing"];j.forEach(function(N){P.has(N)&&E.push(N)});for(var k=function(N){var I=h.findIndex(function(W){return W["-id"]===E[N]});I>=0?(m["bpmn:sequenceFlow"]||(m["bpmn:sequenceFlow"]=[]),m["bpmn:sequenceFlow"].push(h[I]),h.splice(I,1)):N++,T=N},T,C=0;C<E.length;)k(C),C=T;delete m.children}),i[so.FLOW]=h,i}function a5(i,u){i["bpmndi:BPMNEdge"]=u.edges.map(function(a){var f,o=a.id,d=a.pointsList.map(function(m){var g=m.x,E=m.y;return{"-x":g,"-y":E}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((f=a.text)===null||f===void 0)&&f.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),h}),i["bpmndi:BPMNShape"]=u.nodes.map(function(a){var f,o=a.id,d=100,h=80,m=a.x,g=a.y,E=xo.shapeConfigMap.get(a.type);E&&(d=E.width,h=E.height),m-=d/2,g-=h/2;var P={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":d,"-height":h}};return!((f=a.text)===null||f===void 0)&&f.value&&(P["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),P})}var u5=["bpmn:incoming","bpmn:outgoing"];function c5(i,u){var a=[],f=[],o=new Map,d=u!=null?u:{},h=d.transformer,m=d.excludeFields,g={in:new Set(gl(ly.in,(m==null?void 0:m.in)||[])),out:new Set(gl(ly.out,(m==null?void 0:m.out)||[]))};ii=vE(ii,h);var E=i["bpmn:definitions"];if(E){var P=E["bpmn:process"];(function(k,T){T.forEach(function(C){try{Object.keys(k).forEach(function(N){try{C(N)}catch(I){console.error(I)}})}catch(N){console.error(N)}})})(P,[function(k){function T(N){N["-children"]||(N["-children"]=[]),Object.keys(N).forEach(function(I){var W;I.indexOf("bpmn:")===0&&!u5.includes(I)&&(P[I]||(P[I]=[]),!Array.isArray(P[I])&&(P[I]=[P[I]]),Array.isArray(N[I])?(W=P[I]).push.apply(W,gl(N[I])):P[I].push(N[I]),Array.isArray(N[I])?N[I].forEach(function(U){!I.includes("Flow")&&N["-children"].push(U["-id"])}):!I.includes("Flow")&&N["-children"].push(N[I]["-id"]),delete N[I])})}if(k==="bpmn:subProcess"){var C=P[k];Array.isArray(C)?C.forEach(function(N){k==="bpmn:subProcess"&&T(N)}):T(C)}},function(k){var T=function(N){Object.keys(N).forEach(function(I){var W,U;if(I.includes("bpmn:")){var ne={};ii[I]&&ii[I].in?(ne=(U=(W=ii[I]).in)===null||U===void 0?void 0:U.call(W,I,$.cloneDeep(N[I])),delete N[I]):C(N[I]);var ue=void 0;(ue=Reflect.ownKeys(ne)).length>0&&ue.forEach(function(ae){Reflect.set(N,ae,ne[ae])})}})};function C(N){o.set(N["-id"],N),Array.isArray(N)?N.forEach(function(I){C(I)}):typeof N=="object"&&T(N)}C(P[k])},function(k){if(k.indexOf("bpmn:")===0){var T=P[k];if(k==="bpmn:sequenceFlow"){var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];f=l5(T,C)}else{var N=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(k==="bpmn:boundaryEvent"){var I=P[k],W=function(U){var ne=U["-attachedToRef"],ue=o.get(ne);ue["-boundaryEvents"]||(ue["-boundaryEvents"]=[]),ue["-boundaryEvents"].push(U["-id"])};Array.isArray(I)?I.forEach(function(U){W(U)}):W(I)}a=a.concat(s5(T,N,k))}}}])}var j=function(k,T,C){Object.keys(k).forEach(function(N){var I=C?C+"."+N:N;T.has(I)?delete k[N]:typeof k[N]=="object"&&j(k[N],T,I)})};return a.forEach(function(k){var T,C;if(!((T=u==null?void 0:u.mapping)===null||T===void 0)&&T.in){var N=(C=u==null?void 0:u.mapping)===null||C===void 0?void 0:C.in,I=k.type;N[I]&&(k.type=N[I])}j(k,g.in,"")}),f.forEach(function(k){var T,C;if(!((T=u==null?void 0:u.mapping)===null||T===void 0)&&T.in){var N=(C=u==null?void 0:u.mapping)===null||C===void 0?void 0:C.in,I=k.type;N[I]&&(k.type=N[I])}j(k,g.in,"")}),{nodes:a,edges:f}}function s5(i,u,a){var f=[];if(Array.isArray(i))i.forEach(function(h){var m;Array.isArray(u)?m=u.find(function(E){return E["-bpmnElement"]===h["-id"]}):m=u;var g=IO(m,a,h);f.push(g)});else{var o=void 0;Array.isArray(u)?o=u.find(function(h){return h["-bpmnElement"]===i["-id"]}):o=u;var d=IO(o,a,i);f.push(d)}return f}function IO(i,u,a){var f=Number(i["dc:Bounds"]["-x"]),o=Number(i["dc:Bounds"]["-y"]),d=a["-children"],h=a["-name"],m=xo.shapeConfigMap.get(u);m&&(f+=m.width/2,o+=m.height/2);var g={};Object.entries(a).forEach(function(k){var T=Ml(k,2),C=T[0],N=T[1];yE.includes(C)||(g[C]=N)}),g=fy(g);var E;if(h&&(E={x:f,y:o,value:h},i["bpmndi:BPMNLabel"]&&i["bpmndi:BPMNLabel"]["dc:Bounds"])){var P=i["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(P["-x"])+Number(P["-width"])/2,E.y=Number(P["-y"])+Number(P["-height"])/2}var j={id:i["-bpmnElement"],type:u,x:f,y:o,properties:g};return d&&(j.children=d),E&&(j.text=E),j}function l5(i,u){var a=[];if(Array.isArray(i))i.forEach(function(o){var d;Array.isArray(u)?d=u.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=u,a.push(LO(d,o))});else{var f=void 0;Array.isArray(u)?f=u.find(function(o){return o["-bpmnElement"]===i["-id"]}):f=u,a.push(LO(f,i))}return a}function LO(i,u){var a,f=u["-name"];if(f){var o=i["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;f.split(`
`).forEach(function(E){d<E.length&&(d=E.length)}),a={value:f,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h={};Object.entries(u).forEach(function(E){var P=Ml(E,2),j=P[0],k=P[1];yE.includes(j)||(h[j]=k)}),h=fy(h);var m=i["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),g={id:u["-id"],type:so.FLOW,pointsList:m,sourceNodeId:u["-sourceRef"],targetNodeId:u["-targetRef"],properties:h};return a&&(g.text=a),g}var xo=function(){function i(u){var a=this,f=u.lf;this.adapterOut=function(o,d){var h,m,g=em({},a.processAttributes);i5(g,o,d);var E={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};a5(E,o);var P=a.definitionAttributes;P["bpmn:process"]=g,P["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var j={"bpmn:definitions":P};if(!((h=d==null?void 0:d.mapping)===null||h===void 0)&&h.out){var k=(m=d==null?void 0:d.mapping)===null||m===void 0?void 0:m.out,T=function(C){Array.isArray(C)&&C.forEach(function(N){return T(N)}),typeof C=="object"&&Object.keys(C).forEach(function(N){var I;(I=k[N])?(C[I]=$.cloneDeep(C[N]),delete C[N],T(C[I])):T(C[N])})};T(j)}return j},this.adapterIn=function(o,d){if(o)return c5(o,d)},f.adapterIn=this.adapterIn,f.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return i.prototype.setCustomShape=function(u,a){i.shapeConfigMap.set(u,a)},i.pluginName="bpmn-adapter",i.shapeConfigMap=new Map,i}();xo.shapeConfigMap.set(so.START,{width:EO.width,height:EO.height});xo.shapeConfigMap.set(so.END,{width:SO.width,height:SO.height});xo.shapeConfigMap.set(so.INTERMEDIATE_CATCH,{width:cy.width,height:cy.height});xo.shapeConfigMap.set(so.INTERMEDIATE_THROW,{width:cy.width,height:cy.height});xo.shapeConfigMap.set(so.BOUNDARY,{width:jO.width,height:jO.height});xo.shapeConfigMap.set(so.PARALLEL_GATEWAY,{width:PO.width,height:PO.height});xo.shapeConfigMap.set(so.INCLUSIVE_GATEWAY,{width:AO.width,height:AO.height});xo.shapeConfigMap.set(so.EXCLUSIVE_GATEWAY,{width:MO.width,height:MO.height});xo.shapeConfigMap.set(so.SYSTEM,{width:TO.width,height:TO.height});xo.shapeConfigMap.set(so.USER,{width:kO.width,height:kO.height});xo.shapeConfigMap.set(so.SUBPROCESS,{width:DO.width,height:DO.height});(function(i){n5(u,i);function u(a){var f=i.call(this,a)||this;f.adapterXmlIn=function(h){var m=Q8(h);return f.adapterIn(m,f.props)},f.adapterXmlOut=function(h){var m=f.adapterOut(h,f.props);return t5(m)};var o=a.lf,d=a.props;return o.adapterIn=f.adapterXmlIn,o.adapterOut=f.adapterXmlOut,f.props=d,f}return u.pluginName="BPMNAdapter",u})(xo);var f5=function(){function i(u){var a=this,f=u.lf;this.lf=f,this.customCssRules="",this.useGlobalRules=!0,f.getSnapshot=function(o,d){a.getSnapshot(o,d)},f.getSnapshotBlob=function(o){return a.getSnapshotBlob(o)},f.getSnapshotBase64=function(o){return a.getSnapshotBase64(o)}}return i.prototype.getSvgRootElement=function(u){var a=u.container.querySelector(".lf-canvas-overlay");return a},i.prototype.triggerDownload=function(u){var a=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),f=document.createElement("a");f.setAttribute("download",this.fileName),f.setAttribute("href",u),f.setAttribute("target","_blank"),f.dispatchEvent(a)},i.prototype.removeAnchor=function(u){for(var a=u.childNodes,f=u.childNodes&&u.childNodes.length,o=0;o<f;o++){var d=a[o],h=d.classList&&Array.from(d.classList)||[];h.indexOf("lf-anchor")>-1&&(u.removeChild(u.childNodes[o]),f--,o--)}},i.prototype.removeRotateControl=function(u){for(var a=u.childNodes,f=u.childNodes&&u.childNodes.length,o=0;o<f;o++){var d=a[o],h=d.classList&&Array.from(d.classList)||[];h.indexOf("lf-rotate-control")>-1&&(u.removeChild(u.childNodes[o]),f--,o--)}},i.prototype.getSnapshot=function(u,a){var f=this;this.fileName=u||"logic-flow."+Date.now()+".png";var o=this.getSvgRootElement(this.lf);this.getCanvasData(o,a).then(function(d){var h=d.toDataURL("image/png").replace("image/png","image/octet-stream");f.triggerDownload(h)})},i.prototype.getSnapshotBase64=function(u){var a=this,f=this.getSvgRootElement(this.lf);return new Promise(function(o){a.getCanvasData(f,u).then(function(d){var h=d.toDataURL("image/png");o({data:h,width:d.width,height:d.height})})})},i.prototype.getSnapshotBlob=function(u){var a=this,f=this.getSvgRootElement(this.lf);return new Promise(function(o){a.getCanvasData(f,u).then(function(d){d.toBlob(function(h){o({data:h,width:d.width,height:d.height})},"image/png")})})},i.prototype.getClassRules=function(){var u="";if(this.useGlobalRules)for(var a=document.styleSheets,f=0;f<a.length;f++)for(var o=a[f],d=0;d<o.cssRules.length;d++)u+=o.cssRules[d].cssText;return this.customCssRules&&(u+=this.customCssRules),u},i.prototype.getCanvasData=function(u,a){var f=this,o=u.cloneNode(!0),d=o.lastChild,h=d.childNodes&&d.childNodes.length;if(h)for(var m=0;m<h;m++){var g=d.childNodes[m],E=g.classList&&Array.from(g.classList);if(E&&E.indexOf("lf-base")<0)d.removeChild(d.childNodes[m]),h--,m--;else{var P=d.childNodes[m];P&&P.childNodes.forEach(function(Ee){var me=Ee;f.removeAnchor(me.firstChild),f.removeRotateControl(me.firstChild)})}}var j=window.devicePixelRatio||1;j<1&&(j=1);var k=document.createElement("canvas"),T=this.lf.graphModel.rootEl.querySelector(".lf-base"),C=T.getBoundingClientRect(),N=document.querySelector(".lf-canvas-overlay").getBoundingClientRect(),I=C.x-N.x,W=C.y-N.y,U=this.lf.graphModel,ne=U.transformModel,ue=ne.SCALE_X,ae=ne.SCALE_Y,ee=ne.TRANSLATE_X,te=ne.TRANSLATE_Y;o.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-I+ee)*(1/ue)+10)+", "+((-W+te)*(1/ae)+10)+")";var V=Math.ceil(C.width/ue),z=Math.ceil(C.height/ae);k.style.width=V+"px",k.style.height=z+"px",k.width=V*j+80,k.height=z*j+80;var H=k.getContext("2d");H.clearRect(0,0,k.width,k.height),H.scale(j,j),a?(H.fillStyle=a,H.fillRect(0,0,V*j+80,z*j+80)):H.clearRect(0,0,V,z);var Y=new Image,q=document.createElement("style");q.innerHTML=this.getClassRules();var ce=document.createElement("foreignObject");return ce.appendChild(q),o.appendChild(ce),new Promise(function(Ee){Y.onload=function(){var ze=navigator.userAgent.indexOf("Firefox")>-1;try{ze?createImageBitmap(Y,{resizeWidth:k.width,resizeHeight:k.height}).then(function(je){H.drawImage(je,0,0),Ee(k)}):(H.drawImage(Y,0,0),Ee(k))}catch(je){H.drawImage(Y,0,0),Ee(k)}};var me="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(o),Ae=me.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=Ae})},i.pluginName="snapshot",i}();var BO;(function(i){i.HORIZONTAL="horizontal",i.VERTICAL="vertical"})(BO||(BO={}));var p5=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var f=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=f.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=f.return)&&a.call(f)}finally{if(h)throw h.error}}return d},d5=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(p5(arguments[u]));return i},bp="lf:defaultNodeMenu",mp="lf:defaultEdgeMenu",_p="lf:defaultGraphMenu",zO="lf:defaultSelectionMenu",h5=function(){function i(u){var a=this,f=u.lf;this.lf=f;var o=f.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(d){a.setMenuConfig(d)},this.lf.addMenuConfig=function(d){a.addMenuConfig(d)},this.lf.setMenuByType=function(d){a.setMenuByType(d)})}return i.prototype.init=function(){var u=this,a=[{text:"删除",callback:function(d){u.lf.deleteNode(d.id)}},{text:"编辑文本",callback:function(d){u.lf.graphModel.editText(d.id)}},{text:"复制",callback:function(d){u.lf.cloneNode(d.id)}}];this.menuTypeMap.set(bp,a);var f=[{text:"删除",callback:function(d){u.lf.deleteEdge(d.id)}},{text:"编辑文本",callback:function(d){u.lf.graphModel.editText(d.id)}}];this.menuTypeMap.set(mp,f),this.menuTypeMap.set(_p,[]);var o=[{text:"删除",callback:function(d){u.lf.clearSelectElements(),d.edges.forEach(function(h){return u.lf.deleteEdge(h.id)}),d.nodes.forEach(function(h){return u.lf.deleteNode(h.id)})}}];this.menuTypeMap.set(zO,o)},i.prototype.render=function(u,a){var f=this;u.options.isSilentMode||(this.__container=a,this.__currentData=null,this.__menuDOM.className="lf-menu",a.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var d=o.target;Array.from(d.classList).indexOf("lf-menu-item")===-1&&Array.from(d.classList).indexOf("lf-menu")===-1;)d=d.parentElement;Array.from(d.classList).indexOf("lf-menu-item")>-1?(d.onclickCallback(f.__currentData),f.__menuDOM.style.display="none",f.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,g=h.domOverlayPosition,E=g.x,P=g.y,j=d.id,k=f.lf.graphModel.getNodeModelById(j),T=[],C=f.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?T=k.menu:C?T=C:T=f.menuTypeMap.get(bp),f.__currentData=d,f.showMenu(E,P,T,{width:k.width,height:k.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("edge:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,g=h.domOverlayPosition,E=g.x,P=g.y,j=d.id,k=f.lf.graphModel.getEdgeModelById(j),T=[],C=f.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?T=k.menu:C?T=C:T=f.menuTypeMap.get(mp),f.__currentData=d,f.showMenu(E,P,T,{width:k.width,height:k.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("blank:contextmenu",function(o){var d=o.position,h=f.menuTypeMap.get(_p),m=d.domOverlayPosition,g=m.x,E=m.y;f.showMenu(g,E,h)}),this.lf.on("selection:contextmenu",function(o){var d=o.data,h=o.position,m=f.menuTypeMap.get(zO),g=h.domOverlayPosition,E=g.x,P=g.y;f.__currentData=d,f.showMenu(E,P,m)}),this.lf.on("node:mousedown",function(){f.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){f.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){f.__menuDOM.style.display="none"}))},i.prototype.destroy=function(){var u;(u=this===null||this===void 0?void 0:this.__container)===null||u===void 0||u.removeChild(this.__menuDOM),this.__menuDOM=null},i.prototype.showMenu=function(u,a,f,o){if(!(!f||!f.length)){var d=this.__menuDOM;if(d.innerHTML="",d.append.apply(d,d5(this.__getMenuDom(f))),!!d.children.length){if(d.style.display="block",!o){d.style.top=a+"px",d.style.left=u+"px";return}var h=o.width,m=o.height,g=o.clientX,E=o.clientY,P=this.lf.graphModel,j=d.offsetWidth,k=!0,T=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,C=T-g,N=P.rootEl.getBoundingClientRect(),I=N.left+N.width;I<T&&(C=I-g),C<j&&(k=!1),k?d.style.left=u+"px":d.style.left=u-h+"px";var W=d.offsetHeight,U=!0,ne=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ue=ne-E,ae=N.top+N.height;ae<ne&&(ue=ae-E),ue<W&&(U=!1),U?d.style.top=a+"px":d.style.top=a-m+"px"}}},i.prototype.setMenuByType=function(u){!u.type||!u.menu||this.menuTypeMap.set(u.type,u.menu)},i.prototype.__getMenuDom=function(u){var a=[];return u&&u.length>0&&u.forEach(function(f){var o=document.createElement("li");if(f.className?o.className="lf-menu-item "+f.className:o.className="lf-menu-item",f.icon===!0){var d=document.createElement("span");d.className="lf-menu-item-icon",o.appendChild(d)}var h=document.createElement("span");h.className="lf-menu-item-text",f.text&&(h.innerText=f.text),o.appendChild(h),o.onclickCallback=f.callback,a.push(o)}),a},i.prototype.setMenuConfig=function(u){u&&(u.nodeMenu!==void 0&&this.menuTypeMap.set(bp,u.nodeMenu?u.nodeMenu:[]),u.edgeMenu!==void 0&&this.menuTypeMap.set(mp,u.edgeMenu?u.edgeMenu:[]),u.graphMenu!==void 0&&this.menuTypeMap.set(_p,u.graphMenu?u.graphMenu:[]))},i.prototype.addMenuConfig=function(u){if(u){if(Array.isArray(u.nodeMenu)){var a=this.menuTypeMap.get(bp);this.menuTypeMap.set(bp,a.concat(u.nodeMenu))}if(Array.isArray(u.edgeMenu)){var a=this.menuTypeMap.get(mp);this.menuTypeMap.set(mp,a.concat(u.edgeMenu))}if(Array.isArray(u.graphMenu)){var a=this.menuTypeMap.get(_p);this.menuTypeMap.set(_p,a.concat(u.graphMenu))}}},i.prototype.changeMenuItem=function(u,a){if(u==="add")this.addMenuConfig(a);else if(u==="reset")this.setMenuConfig(a);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},i.pluginName="menu",i}(),gE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),hl=function(){return hl=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},hl.apply(this,arguments)},jp=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var f=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=f.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=f.return)&&a.call(f)}finally{if(h)throw h.error}}return d},y5={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function v5(i){for(var u=i,a=1;a<u.length-1;){var f=jp(u[a-1],2),o=f[0],d=f[1],h=jp(u[a],2),m=h[0],g=h[1],E=jp(u[a+1],2),P=E[0],j=E[1];o===m&&m===P||d===g&&g===j?u.splice(a,1):a++}return u}function g5(i,u,a,f){var o=[i[0],i[1]],d=[i[0],i[1]];switch(a){case"tl":return u==="tr"?(o[1]+=f,d[0]+=f):u==="lb"&&(o[0]+=f,d[1]+=f),[o,d];case"tr":return u==="tl"?(o[1]+=f,d[0]-=f):u==="rb"&&(o[0]-=f,d[1]+=f),[o,d];case"bl":return u==="br"?(o[1]-=f,d[0]+=f):u==="lt"&&(o[0]+=f,d[1]-=f),[o,d];case"br":return u==="bl"?(o[1]-=f,d[0]-=f):u==="rt"&&(o[0]-=f,d[1]-=f),[o,d];default:return[]}}function b5(i,u,a,f){var o,d="",h="";i[0]===u[0]?d=i[1]>u[1]?"t":"b":i[1]===u[1]&&(d=i[0]>u[0]?"l":"r"),u[0]===a[0]?h=u[1]>a[1]?"t":"b":u[1]===a[1]&&(h=u[0]>a[0]?"l":"r");var m=Math.min(Math.hypot(u[0]-i[0],u[1]-i[1])/2,Math.hypot(a[0]-u[0],a[1]-u[1])/2,f)||1/5*f,g=""+d+h,E=y5[g]||"-",P="L "+i[0]+" "+i[1];if(E==="-")P+="L "+u[0]+" "+u[1]+" L "+a[0]+" "+a[1];else{var j=jp(g5(u,g,E,m),2),k=j[0],T=j[1];k&&T&&(P+="L "+k[0]+" "+k[1]+" Q "+u[0]+" "+u[1]+" "+T[0]+" "+T[1],o=jp(T,2),u[0]=o[0],u[1]=o[1])}return P}function m5(i,u){var a=0,f="";if(i.length===2)f+="M"+i[a][0]+" "+i[a++][1]+" L "+i[a][0]+" "+i[a][1];else{for(f+="M"+i[a][0]+" "+i[a++][1];a+1<i.length;){var o=i[a-1],d=i[a],h=i[a+++1];f+=b5(o,d,h,u)}f+="L "+i[a][0]+" "+i[a][1]}return f}(function(i){gE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getEdge=function(){var a=this.props.model,f=a.points,o=a.isAnimation,d=a.arrowConfig,h=a.radius,m=h===void 0?5:h,g=a.getEdgeStyle(),E=a.getEdgeAnimationStyle(),P=v5(f.split(" ").map(function(T){return T.split(",").map(function(C){return+C})})),j=m5(P,m),k=hl(hl(hl({style:o?E:{}},g),d),{fill:"none"});return rt.h("path",hl({d:j},k))},u})(rt.PolylineEdge);(function(i){gE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u})(rt.PolylineEdgeModel);const _5={class:"control-container"},O5=["title","onMouseenter"],w5=["disabled","onClick"],x5=yy({__name:"Control",props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(i,{emit:u}){const a=i,f=u,o=La(),d=La(),h=La(-1),m=La([{icon:"icon-zoom-out-hs",text:"缩小",size:"18",disabled:!1},{icon:"icon-enlarge-hs",text:"放大",size:"18",disabled:!1},{icon:"icon-full-screen-hs",text:"适应",size:"15",disabled:!1},{icon:"icon-previous-hs",text:"上一步",size:"15",disabled:!0},{icon:"icon-next-step-hs",text:"下一步",size:"17",disabled:!0},{icon:"icon-download-hs",text:"下载图片",size:"17",disabled:!1},{icon:"icon-watch-hs",text:"查看数据",size:"17",disabled:!1}]),g=(P,j)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((k,T)=>{const C=a.lf;j===1&&C.zoom(!0),j===6&&f("catData"),j===T&&C[k]()})},E=P=>{h.value=P};return aw(()=>{a.lf.on("history:change",({data:{undoAble:P,redoAble:j}})=>{co(m)[3].disabled=co(o).disabled=!P,co(m)[4].disabled=co(d).disabled=!j})}),(P,j)=>{const k=Op("el-tooltip");return aa(),Fc("div",_5,[za("ul",null,[(aa(!0),Fc(uw,null,cw(m.value,(T,C)=>(aa(),Fc("li",{key:C,title:T.text,class:"dark:text-bg_color",onMouseenter:j1(N=>E(C),["prevent"]),onMouseleave:j[0]||(j[0]=j1(N=>h.value=-1,["prevent"]))},[ll(k,{content:T.text,visible:h.value===C,placement:"right"},{default:fl(()=>[za("button",{ref_for:!0,ref:"controlButton"+C,disabled:T.disabled,style:P1({cursor:T.disabled===!1?"pointer":"not-allowed",color:T.disabled===!1?"":"#00000040",background:"transparent"}),onClick:N=>g(T,C)},[za("span",{class:sw("iconfont "+T.icon),style:P1({fontSize:`${T.size}px`})},null,6)],12,w5)]),_:2},1032,["content","visible"])],40,O5))),128))])])}}}),E5=am(x5,[["__scopeId","data-v-44af808d"]]),S5={class:"node-panel"},j5=["onMousedown"],P5={key:0,class:"shape"},A5={class:"node-label"},M5=yy({__name:"NodePanel",props:{lf:{default:null},nodeList:{default:null}},setup(i){const u=i,a=La({a:"efrwe",b:"wewe"}),f=o=>{u.lf.dnd.startDrag({type:o.type,properties:co(a)})};return(o,d)=>(aa(),Fc("div",S5,[(aa(!0),Fc(uw,null,cw(u.nodeList,h=>(aa(),Fc("div",{key:h.text,class:"node-item dark:text-bg_color",onMousedown:m=>f(h)},[za("div",{class:sw(["node-item-icon",h.class])},[h.type==="user"||h.type==="time"?(aa(),Fc("div",P5)):lw("",!0)],2),za("span",A5,m2(h.text),1)],40,j5))),128))]))}}),T5=am(M5,[["__scopeId","data-v-065512ce"]]),k5=yy({__name:"DataDialog",props:{graphData:Object},setup(i){const u=i;return(a,f)=>(aa(),Lb(co(x2),{path:"res",deep:3,showLength:!0,data:u.graphData},null,8,["data"]))}}),D5=um(E5),N5=um(T5),R5=um(k5),C5={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function I5(i){const{incoming:u,outgoing:a,properties:f,key:o}=i,{text:d,startPoint:h,endPoint:m,pointsList:g,logicFlowType:E}=f,P={id:o,type:E,sourceNodeId:u[0],targetNodeId:a[0],text:d,startPoint:h,endPoint:m,pointsList:g,properties:{}},j=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(i.properties).forEach(k=>{j.indexOf(k)===-1&&(P.properties[k]=i.properties[k])}),P}function L5(i){const{properties:u,key:a}=i,{x:f,y:o,text:d,logicFlowType:h}=u,m={id:a,type:h,x:f,y:o,text:d,properties:{}},g=["x","y","text","logicFlowType"];return Object.keys(i.properties).forEach(E=>{g.indexOf(E)===-1&&(m.properties[E]=i.properties[E])}),m}function B5(i){const u={nodes:[],edges:[]},a=i.flowElementList;return a&&a.length>0&&a.forEach(f=>{if(f.type===C5.SEQUENCE_FLOW){const o=I5(f);u.edges.push(o)}else{const o=L5(f);u.nodes.push(o)}}),u}const z5=i=>(_2("data-v-8cd99005"),i=i(),O2(),i),F5={class:"card-header"},$5={class:"font-medium"},W5={class:"logic-flow-view"},G5=z5(()=>za("div",{id:"turbo"},null,-1)),U5=yy({name:"FlowChart",__name:"index",setup(i){const u=La(null),a=La(null),f=La(!1),o=La({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),d=Z4;function h(){Hh.use(f5),Hh.use(m8),Hh.use(h5);const E=new Hh(E1(x1({},co(o)),{container:document.querySelector("#turbo")}));u.value=E,co(u).setDefaultEdgeType("bpmn:sequenceFlow"),m()}function m(){const E=B5(q4);u.value.render(E)}function g(){a.value=co(u).getGraphData(),f.value=!0}return aw(()=>{h()}),(E,P)=>{const j=Op("el-link"),k=Op("el-scrollbar"),T=Op("el-dialog"),C=Op("el-card");return aa(),Lb(C,{shadow:"never"},{header:fl(()=>[za("div",F5,[za("span",$5,[A1(" 流程图组件，采用开源的 "),ll(j,{href:"http://logic-flow.org/",target:"_blank",icon:co(w2)(co(E2)),style:{margin:"0 4px 5px","font-size":"16px"}},{default:fl(()=>[A1(" LogicFlow ")]),_:1},8,["icon"])])])]),default:fl(()=>[za("div",W5,[u.value?(aa(),Lb(co(D5),{key:0,class:"demo-control",lf:u.value,catTurboData:!1,onCatData:g},null,8,["lf"])):lw("",!0),ll(co(N5),{lf:u.value,nodeList:co(d)},null,8,["lf","nodeList"]),G5,ll(T,{modelValue:f.value,"onUpdate:modelValue":P[0]||(P[0]=N=>f.value=N),class:"flow-dialog",title:"数据",width:"50%"},{default:fl(()=>[ll(k,null,{default:fl(()=>[ll(co(R5),{graphData:a.value},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}}),Z5=am(U5,[["__scopeId","data-v-8cd99005"]]);export{Z5 as default};
