var W=Object.defineProperty,X=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var V=(o,t,n)=>t in o?W(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,g=(o,t)=>{for(var n in t||(t={}))Z.call(t,n)&&V(o,n,t[n]);if(O)for(var n of O(t))ee.call(t,n)&&V(o,n,t[n]);return o},x=(o,t)=>X(o,Y(t));import{o as y,c as w,e as v,d as te,x as m,y as oe,Q as ne,r as s,g as le,i as B,a,w as d,h as u,S as ae,R as N,D as R,j,C as D,G as re,_ as ie}from"./index-2S-pRSzX.js";import{u as se}from"./hooks-QG7FGeQA.js";import{d as ce}from"./git-branch-line-zmPAFode.js";import{d as de}from"./search-DTzpNWF3.js";import{M as ue}from"./more-2-fill-g1QAeR5z.js";import{O as he}from"./office-building-hWPUK4Zb.js";const pe={width:1024,height:1024,body:'<path fill="currentColor" d="M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"/><path fill="currentColor" d="M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"/><path fill="currentColor" d="M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"/>'},_e=pe,fe={width:"32",height:"32",viewBox:"0 0 24 24"},me=v("path",{fill:"currentColor",d:"M22 4V2H2v2h9v14.17l-5.5-5.5-1.42 1.41L12 22l7.92-7.92-1.42-1.41-5.5 5.5V4z"},null,-1),ve=[me];function ge(o,t){return y(),w("svg",fe,[...ve])}const xe={render:ge},ye={width:"32",height:"32",viewBox:"0 0 24 24"},we=v("path",{fill:"currentColor",d:"M4 2H2v20h2v-9h14.17l-5.5 5.5 1.41 1.42L22 12l-7.92-7.92-1.41 1.42 5.5 5.5H4z"},null,-1),be=[we];function Ce(o,t){return y(),w("svg",ye,[...be])}const ke={render:Ce},Ie={class:"flex items-center h-[34px]"},ze=te({__name:"tree",props:{treeLoading:Boolean,treeData:Array},emits:["tree-select"],setup(o,{expose:t,emit:n}){const b=o,E=n,C=m(),p=m(!0),h=m(""),r=m({}),{proxy:H}=re(),L={children:"children",label:"name"},S=oe(()=>["!h-[20px]","reset-margin","!text-gray-500","dark:!text-white","dark:hover:!text-primary"]),A=(l,e)=>l?e.name.includes(l):!0;function q(l){var i,_;const e=l.$treeNodeId;r.value[e]=(i=r.value[e])!=null&&i.highlight?Object.assign({id:e},r.value[e],{highlight:!1}):Object.assign({id:e},r.value[e],{highlight:!0}),Object.values(r.value).forEach(f=>{f.id!==e&&(f.highlight=!1)}),E("tree-select",(_=r.value[e])!=null&&_.highlight?Object.assign(x(g({},l),{selected:!0})):Object.assign(x(g({},l),{selected:!1})))}function k(l){p.value=l;const e=H.$refs.treeRef.store._getAllNodes();for(let i=0;i<e.length;i++)e[i].expanded=l}function T(){r.value={},h.value="",k(!0)}return ne(h,l=>{C.value.filter(l)}),t({onTreeReset:T}),(l,e)=>{const i=s("IconifyIconOffline"),_=s("el-icon"),f=s("el-input"),U=s("el-button"),F=s("el-dropdown-item"),G=s("el-dropdown-menu"),P=s("el-dropdown"),Q=s("el-divider"),J=s("el-tree"),K=le("loading");return B((y(),w("div",{class:"h-full bg-bg_color overflow-auto",style:D({minHeight:"calc(100vh - 133px)"})},[v("div",Ie,[a(f,{modelValue:h.value,"onUpdate:modelValue":e[0]||(e[0]=c=>h.value=c),class:"ml-2",size:"small",placeholder:"请输入部门名称",clearable:""},{suffix:d(()=>[a(_,{class:"el-input__icon"},{default:d(()=>[B(a(i,{icon:u(de)},null,8,["icon"]),[[ae,h.value.length===0]])]),_:1})]),_:1},8,["modelValue"]),a(P,{"hide-on-click":!1},{dropdown:d(()=>[a(G,null,{default:d(()=>[a(F,null,{default:d(()=>[a(U,{class:N(S.value),link:"",type:"primary",icon:u(se)(p.value?u(xe):u(ke)),onClick:e[1]||(e[1]=c=>k(!p.value))},{default:d(()=>[j(R(p.value?"折叠全部":"展开全部"),1)]),_:1},8,["class","icon"])]),_:1})]),_:1})]),default:d(()=>[a(i,{class:"w-[28px] cursor-pointer",width:"18px",icon:u(ue)},null,8,["icon"])]),_:1})]),a(Q),a(J,{ref_key:"treeRef",ref:C,data:b.treeData,"node-key":"id",size:"small",props:L,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":A,onNodeClick:q},{default:d(({node:c,data:I})=>{var z,$,M;return[v("span",{class:N(["pl-1","pr-1","rounded","flex","items-center","select-none","hover:text-primary",h.value.trim().length>0&&c.label.includes(h.value)&&"text-red-500",(z=r.value[c.id])!=null&&z.highlight?"dark:text-primary":""]),style:D({color:($=r.value[c.id])!=null&&$.highlight?"var(--el-color-primary)":"",background:(M=r.value[c.id])!=null&&M.highlight?"var(--el-color-primary-light-7)":"transparent"})},[a(i,{icon:I.type===1?u(he):I.type===2?u(_e):u(ce)},null,8,["icon"]),j(" "+R(c.label),1)],6)]}),_:1},8,["data"])],4)),[[K,b.treeLoading]])}}}),je=ie(ze,[["__scopeId","data-v-36eb53b7"]]);export{je as default};
