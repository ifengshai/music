var p=(i,r,e)=>new Promise((f,n)=>{var u=t=>{try{v(e.next(t))}catch(w){n(w)}},d=t=>{try{v(e.throw(t))}catch(w){n(w)}},v=t=>t.done?f(t.value):Promise.resolve(t.value).then(u,d);v((e=e.apply(i,r)).next())});import{a2 as E,E as o,a3 as s,at as I,a$ as C,x as R,aK as $}from"./index-2S-pRSzX.js";const y=/^\d{6}$/,h=/^.{6,18}$/,S=E({password:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("Please input the password")))):h.test(r)?e():e(new Error(o(s("密码格式应为6-18位字符"))))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.verifyCodeReg")))):I().verifyCode!==r?e(new Error(o(s("login.verifyCodeCorrectReg")))):e()},trigger:"blur"}]}),X=E({phone:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.phoneReg")))):C(r)?e():e(new Error(o(s("login.phoneCorrectReg"))))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.verifyCodeReg")))):y.test(r)?e():e(new Error(o(s("login.verifyCodeSixReg"))))},trigger:"blur"}]}),D=E({phone:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.phoneReg")))):C(r)?e():e(new Error(o(s("login.phoneCorrectReg"))))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.verifyCodeReg")))):y.test(r)?e():e(new Error(o(s("login.verifyCodeSixReg"))))},trigger:"blur"}],password:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.passwordReg")))):h.test(r)?e():e(new Error(o(s("login.passwordRuleReg"))))},trigger:"blur"}]}),a=R(!1),l=R(null),g=R(""),G=()=>({isDisabled:a,timer:l,text:g,start:(e,f,n=60)=>p(void 0,null,function*(){if(!e)return;const u=$(n,!0);yield e.validateField(f,d=>{d&&(clearInterval(l.value),a.value=!0,g.value=`${n}`,l.value=setInterval(()=>{n>0?(n-=1,g.value=`${n}`):(g.value="",a.value=!1,clearInterval(l.value),n=u)},1e3))})}),end:()=>{g.value="",a.value=!1,clearInterval(l.value)}});export{D as a,S as l,X as p,G as u};
