import{d as B,x as s,r,o as d,k as h,w as m,a as g,dD as L,h as w,j as C,v as N,F as S,D,B as P,c as E,e as F,as as I,_ as j}from"./index-2S-pRSzX.js";import{M as z,s as H,a as K}from"./index-jlsaagEY.js";const R={style:{"font-size":"20px",margin:"50px","text-align":"center"}},T=B({name:"Search",__name:"index",setup(U){const _=s(""),x=s([]),k=s(!1),p=s([]),v=s(!1),o=s(1),b=n=>(I().set_indexNumber(1),v.value=!0,p.value=[],o.value=o.value+1,new Promise((a,l)=>{H({keyword:_.value}).then(e=>{x.value=e.data.urlList,v.value=!1}).catch(e=>{l(e)})})),M=n=>new Promise((a,l)=>{K({url:n.key}).then(e=>{var c,u,i,t,f,y;p.value=[{music_id:(c=e.data.id)!=null?c:0,name:(u=e.data.music_name)!=null?u:"",artist:(i=e.data.music_artist)!=null?i:"",url:(t=e.data.music_file)!=null?t:"",cover:(f=e.data.music_image)!=null?f:"",lrc:(y=e.data.music_lyric)!=null?y:"",theme:"#ebd0c2"}],k.value=!0,o.value=o.value+1}).catch(e=>{l(e)})}),V=()=>{const n=["success","info","warning","danger"],a=Math.floor(Math.random()*n.length);return n[a]};return(n,a)=>{const l=r("el-input"),e=r("el-button"),c=r("el-col"),u=r("el-tag"),i=r("el-card");return d(),h(i,{shadow:"never"},{default:m(()=>[g(c,{span:24,style:{"text-align":"center"}},{default:m(()=>[g(l,{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=t=>_.value=t),inline:!0,class:"w-50",style:{width:"50%"},placeholder:"Please input",clearable:""},null,8,["modelValue"]),g(e,{type:"primary",icon:w(L),onClick:a[1]||(a[1]=t=>b(t)),loading:v.value},{default:m(()=>[C("搜索")]),_:1},8,["icon","loading"])]),_:1}),F("div",R,[k.value?(d(),h(w(z),{fatherMusicList:p.value,key:o.value},null,8,["fatherMusicList"])):N("",!0),(d(!0),E(S,null,P(x.value,t=>(d(),h(u,{class:"ml-2 tag-item",type:V(),onClick:f=>M(t),"data-number":t.key},{default:m(()=>[C(D(t.text),1)]),_:2},1032,["type","onClick","data-number"]))),256))])]),_:1})}}}),q=j(T,[["__scopeId","data-v-55657b17"]]);export{q as default};
